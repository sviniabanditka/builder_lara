function slug_gen(e){return e=e.toLowerCase(),e=e.replace(/ж/g,"zh"),e=e.replace(/ё/g,"yo"),e=e.replace(/й/g,"i"),e=e.replace(/ю/g,"yu"),e=e.replace(/ь/g,""),e=e.replace(/ч/g,"ch"),e=e.replace(/щ/g,"sh"),e=e.replace(/ц/g,"c"),e=e.replace(/у/g,"u"),e=e.replace(/к/g,"k"),e=e.replace(/е/g,"e"),e=e.replace(/н/g,"n"),e=e.replace(/г/g,"g"),e=e.replace(/ш/g,"sh"),e=e.replace(/з/g,"z"),e=e.replace(/х/g,"h"),e=e.replace(/ъ/g,""),e=e.replace(/ф/g,"f"),e=e.replace(/ы/g,"y"),e=e.replace(/в/g,"v"),e=e.replace(/а/g,"a"),e=e.replace(/п/g,"p"),e=e.replace(/р/g,"r"),e=e.replace(/о/g,"o"),e=e.replace(/л/g,"l"),e=e.replace(/д/g,"d"),e=e.replace(/э/g,"e"),e=e.replace(/я/g,"ja"),e=e.replace(/с/g,"s"),e=e.replace(/м/g,"m"),e=e.replace(/и/g,"i"),e=e.replace(/т/g,"t"),e=e.replace(/б/g,"b"),e=e.replace(/Ё/g,"yo"),e=e.replace(/Й/g,"i"),e=e.replace(/Ю/g,"yu"),e=e.replace(/Ч/g,"ch"),e=e.replace(/і/g,"i"),e=e.replace(/є/g,"e"),e=e.replace(/ї/g,"i"),e=e.replace(/ґ/g,"g"),e=e.replace(/:/g,""),e=e.replace(/;/g,""),e=e.replace(/@/g,""),e=e.replace(/#/g,""),e=e.replace(/\$/g,""),e=e.replace(/\^/g,""),e=e.replace(/\*/g,""),e=e.replace(/\%/g,""),e=e.replace(/\+/g,""),e=e.replace(/=/g,""),e=e.replace(/®/g,""),e=e.replace(/\(/g,""),e=e.replace(/\)/g,""),e=e.replace(/ /g,"-"),e=e.replace(/\./g,"_"),e=e.replace(/,/g,"_"),e=e.replace(/«/g,""),e=e.replace(/!/g,""),e=e.replace(/&/g,""),e=e.replace(/\|/g,""),e=e.replace(/\?/g,"_"),e=e.replace(/»/g,""),e=e.replace(/'/g,""),e=e.replace(/"/g,""),e=e.replace(/\[/g,""),e=e.replace(/\]/g,""),e=e.replace(/’/g,""),e=e.replace(/</g,""),e=e.replace(/—/g,""),e=e.replace(/–/g,"-"),e=e.replace(/€/g,""),e=e.replace(/>/g,""),e=e.replace(/`/g,""),e=e.replace(/~/g,""),e=e.replace(/}/g,""),e=e.replace(/{/g,""),e=e.replace(/№/g,""),e=e.replace(/\//g,""),e=e.replace(/\\/g,"")}!function(e,t){function n(e){var t=e.length,n=ae.type(e);return!ae.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function r(e){var t=pe[e]={};return ae.each(e.match(ue)||[],function(e,n){t[n]=!0}),t}function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ae.expando+Math.random()}function a(e,n,r){var i;if(r===t&&1===e.nodeType)if(i="data-"+n.replace(ve,"-$1").toLowerCase(),"string"==typeof(r=e.getAttribute(i))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:ye.test(r)?JSON.parse(r):r)}catch(e){}ge.set(e,n,r)}else r=t;return r}function o(){return!0}function u(){return!1}function l(){try{return Q.activeElement}catch(e){}}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e,t,n){if(ae.isFunction(t))return ae.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ae.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ne.test(t))return ae.filter(t,e,n);t=ae.filter(t,e)}return ae.grep(e,function(e){return te.call(t,e)>=0!==n})}function f(e,t){return ae.nodeName(e,"table")&&ae.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function p(e,t){for(var n=e.length,r=0;n>r;r++)me.set(e[r],"globalEval",!t||me.get(t[r],"globalEval"))}function g(e,t){var n,r,i,a,o,u,l,s;if(1===t.nodeType){if(me.hasData(e)&&(a=me.access(e),o=me.set(t,a),s=a.events)){delete o.handle,o.events={};for(i in s)for(n=0,r=s[i].length;r>n;n++)ae.event.add(t,i,s[i][n])}ge.hasData(e)&&(u=ge.access(e),l=ae.extend({},u),ge.set(t,l))}}function m(e,n){var r=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&ae.nodeName(e,n)?ae.merge([e],r):r}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Oe.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function v(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Ge.length;i--;)if((t=Ge[i]+n)in e)return t;return r}function b(e,t){return e=t||e,"none"===ae.css(e,"display")||!ae.contains(e.ownerDocument,e)}function x(t){return e.getComputedStyle(t,null)}function _(e,t){for(var n,r,i,a=[],o=0,u=e.length;u>o;o++)r=e[o],r.style&&(a[o]=me.get(r,"olddisplay"),n=r.style.display,t?(a[o]||"none"!==n||(r.style.display=""),""===r.style.display&&b(r)&&(a[o]=me.access(r,"olddisplay",S(r.nodeName)))):a[o]||(i=b(r),(n&&"none"!==n||!i)&&me.set(r,"olddisplay",i?n:ae.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[o]||"":"none"));return e}function w(e,t,n){var r=Qe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function T(e,t,n,r,i){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=ae.css(e,n+Ze[a],!0,i)),r?("content"===n&&(o-=ae.css(e,"padding"+Ze[a],!0,i)),"margin"!==n&&(o-=ae.css(e,"border"+Ze[a]+"Width",!0,i))):(o+=ae.css(e,"padding"+Ze[a],!0,i),"padding"!==n&&(o+=ae.css(e,"border"+Ze[a]+"Width",!0,i)));return o}function M(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,a=x(e),o=ae.support.boxSizing&&"border-box"===ae.css(e,"boxSizing",!1,a);if(0>=i||null==i){if(i=Re(e,t,a),(0>i||null==i)&&(i=e.style[t]),We.test(i))return i;r=o&&(ae.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+T(e,t,n||(o?"border":"content"),r,a)+"px"}function S(e){var t=Q,n=Ve[e];return n||(n=k(e,t),"none"!==n&&n||(He=(He||ae("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(He[0].contentWindow||He[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=k(e,t),He.detach()),Ve[e]=n),n}function k(e,t){var n=ae(t.createElement(e)).appendTo(t.body),r=ae.css(n[0],"display");return n.remove(),r}function N(e,t,n,r){var i;if(ae.isArray(t))ae.each(t,function(t,i){n||et.test(e)?r(e,i):N(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ae.type(t))r(e,t);else for(i in t)N(e+"["+i+"]",t[i],n,r)}function C(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(ue)||[];if(ae.isFunction(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function j(e,n,r,i){function a(l){var s;return o[l]=!0,ae.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||u||o[c]?u?!(s=c):t:(n.dataTypes.unshift(c),a(c),!1)}),s}var o={},u=e===yt;return a(n.dataTypes[0])||!o["*"]&&a("*")}function B(e,n){var r,i,a=ae.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((a[r]?e:i||(i={}))[r]=n[r]);return i&&ae.extend(!0,e,i),e}function A(e,n,r){for(var i,a,o,u,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(a in l)if(l[a]&&l[a].test(i)){s.unshift(a);break}if(s[0]in r)o=s[0];else{for(a in r){if(!s[0]||e.converters[a+" "+s[0]]){o=a;break}u||(u=a)}o=o||u}return o?(o!==s[0]&&s.unshift(o),r[o]):t}function E(e,t,n,r){var i,a,o,u,l,s={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)s[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=s[l+" "+a]||s["* "+a]))for(i in s)if(u=i.split(" "),u[1]===a&&(o=s[l+" "+u[0]]||s["* "+u[0]])){!0===o?o=s[i]:!0!==s[i]&&(a=u[0],c.unshift(u[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function D(){return setTimeout(function(){St=t}),St=ae.now()}function P(e,t,n){for(var r,i=(At[t]||[]).concat(At["*"]),a=0,o=i.length;o>a;a++)if(r=i[a].call(n,t,e))return r}function O(e,t,n){var r,i,a=0,o=Bt.length,u=ae.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=St||D(),n=Math.max(0,s.startTime+s.duration-t),r=n/s.duration||0,a=1-r,o=0,l=s.tweens.length;l>o;o++)s.tweens[o].run(a);return u.notifyWith(e,[s,a,n]),1>a&&l?n:(u.resolveWith(e,[s]),!1)},s=u.promise({elem:e,props:ae.extend({},t),opts:ae.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:St||D(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ae.Tween(e,s.opts,t,n,s.opts.specialEasing[t]||s.opts.easing);return s.tweens.push(r),r},stop:function(t){var n=0,r=t?s.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)s.tweens[n].run(1);return t?u.resolveWith(e,[s,t]):u.rejectWith(e,[s,t]),this}}),c=s.props;for($(c,s.opts.specialEasing);o>a;a++)if(r=Bt[a].call(s,e,c,s.opts))return r;return ae.map(c,P,s),ae.isFunction(s.opts.start)&&s.opts.start.call(e,s),ae.fx.timer(ae.extend(l,{elem:e,anim:s,queue:s.opts.queue})),s.progress(s.opts.progress).done(s.opts.done,s.opts.complete).fail(s.opts.fail).always(s.opts.always)}function $(e,t){var n,r,i,a,o;for(n in e)if(r=ae.camelCase(n),i=t[r],a=e[n],ae.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(o=ae.cssHooks[r])&&"expand"in o){a=o.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=i)}else t[r]=i}function F(e,n,r){var i,a,o,u,l,s,c=this,f={},d=e.style,h=e.nodeType&&b(e),p=me.get(e,"fxshow");r.queue||(l=ae._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,s=l.empty.fire,l.empty.fire=function(){l.unqueued||s()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,ae.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ae.css(e,"display")&&"none"===ae.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(i in n)if(a=n[i],Nt.exec(a)){if(delete n[i],o=o||"toggle"===a,a===(h?"hide":"show")){if("show"!==a||!p||p[i]===t)continue;h=!0}f[i]=p&&p[i]||ae.style(e,i)}if(!ae.isEmptyObject(f)){p?"hidden"in p&&(h=p.hidden):p=me.access(e,"fxshow",{}),o&&(p.hidden=!h),h?ae(e).show():c.done(function(){ae(e).hide()}),c.done(function(){var t;me.remove(e,"fxshow");for(t in f)ae.style(e,t,f[t])});for(i in f)u=P(h?p[i]:0,i,c),i in p||(p[i]=u.start,h&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}function q(e,t,n,r,i){return new q.prototype.init(e,t,n,r,i)}function L(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Ze[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function I(e){return ae.isWindow(e)?e:9===e.nodeType&&e.defaultView}var R,H,U=typeof t,z=e.location,Q=e.document,W=Q.documentElement,Y=e.jQuery,V=e.$,X={},J=[],Z="2.0.2",G=J.concat,K=J.push,ee=J.slice,te=J.indexOf,ne=X.toString,re=X.hasOwnProperty,ie=Z.trim,ae=function(e,t){return new ae.fn.init(e,t,R)},oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ue=/\S+/g,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ce=/^-ms-/,fe=/-([\da-z])/gi,de=function(e,t){return t.toUpperCase()},he=function(){Q.removeEventListener("DOMContentLoaded",he,!1),e.removeEventListener("load",he,!1),ae.ready()};ae.fn=ae.prototype={jquery:Z,constructor:ae,init:function(e,n,r){var i,a;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:le.exec(e))||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof ae?n[0]:n,ae.merge(this,ae.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:Q,!0)),se.test(i[1])&&ae.isPlainObject(n))for(i in n)ae.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return a=Q.getElementById(i[2]),a&&a.parentNode&&(this.length=1,this[0]=a),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ae.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ae.makeArray(e,this))},selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ae.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ae.each(this,e,t)},ready:function(e){return ae.ready.promise().done(e),this},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ae.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:[].sort,splice:[].splice},ae.fn.init.prototype=ae.fn,ae.extend=ae.fn.extend=function(){var e,n,r,i,a,o,u=arguments[0]||{},l=1,s=arguments.length,c=!1;for("boolean"==typeof u&&(c=u,u=arguments[1]||{},l=2),"object"==typeof u||ae.isFunction(u)||(u={}),s===l&&(u=this,--l);s>l;l++)if(null!=(e=arguments[l]))for(n in e)r=u[n],i=e[n],u!==i&&(c&&i&&(ae.isPlainObject(i)||(a=ae.isArray(i)))?(a?(a=!1,o=r&&ae.isArray(r)?r:[]):o=r&&ae.isPlainObject(r)?r:{},u[n]=ae.extend(c,o,i)):i!==t&&(u[n]=i));return u},ae.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ae&&(e.$=V),t&&e.jQuery===ae&&(e.jQuery=Y),ae},isReady:!1,readyWait:1,holdReady:function(e){e?ae.readyWait++:ae.ready(!0)},ready:function(e){(!0===e?--ae.readyWait:ae.isReady)||(ae.isReady=!0,!0!==e&&--ae.readyWait>0||(H.resolveWith(Q,[ae]),ae.fn.trigger&&ae(Q).trigger("ready").off("ready")))},isFunction:function(e){return"function"===ae.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?X[ne.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==ae.type(e)||e.nodeType||ae.isWindow(e))return!1;try{if(e.constructor&&!re.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var r=se.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ae.buildFragment([e],t,i),i&&ae(i).remove(),ae.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,n=r.parseFromString(e,"text/xml")}catch(e){n=t}return(!n||n.getElementsByTagName("parsererror").length)&&ae.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;(e=ae.trim(e))&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ce,"ms-").replace(fe,de)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,a=e.length,o=n(e);if(r){if(o)for(;a>i&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(o)for(;a>i&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":ie.call(e)},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ae.merge(r,"string"==typeof e?[e]:e):K.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:te.call(t,e,n)},merge:function(e,n){var r=n.length,i=e.length,a=0;if("number"==typeof r)for(;r>a;a++)e[i++]=n[a];else for(;n[a]!==t;)e[i++]=n[a++];return e.length=i,e},grep:function(e,t,n){var r,i=[],a=0,o=e.length;for(n=!!n;o>a;a++)r=!!t(e[a],a),n!==r&&i.push(e[a]);return i},map:function(e,t,r){var i,a=0,o=e.length,u=n(e),l=[];if(u)for(;o>a;a++)null!=(i=t(e[a],a,r))&&(l[l.length]=i);else for(a in e)null!=(i=t(e[a],a,r))&&(l[l.length]=i);return G.apply([],l)},guid:1,proxy:function(e,n){var r,i,a;return"string"==typeof n&&(r=e[n],n=e,e=r),ae.isFunction(e)?(i=ee.call(arguments,2),a=function(){return e.apply(n||this,i.concat(ee.call(arguments)))},a.guid=e.guid=e.guid||ae.guid++,a):t},access:function(e,n,r,i,a,o,u){var l=0,s=e.length,c=null==r;if("object"===ae.type(r)){a=!0;for(l in r)ae.access(e,n,l,r[l],!0,o,u)}else if(i!==t&&(a=!0,ae.isFunction(i)||(u=!0),c&&(u?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(ae(e),n)})),n))for(;s>l;l++)n(e[l],r,u?i:i.call(e[l],l,n(e[l],r)));return a?e:c?n.call(e):s?n(e[0],r):o},now:Date.now,swap:function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];i=n.apply(e,r||[]);for(a in t)e.style[a]=o[a];return i}}),ae.ready.promise=function(t){return H||(H=ae.Deferred(),"complete"===Q.readyState?setTimeout(ae.ready):(Q.addEventListener("DOMContentLoaded",he,!1),e.addEventListener("load",he,!1))),H.promise(t)},ae.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()}),R=ae(Q),function(e,t){function n(e,t,n,r){var i,a,o,u,l,s,c,f,d,g;if((t?t.ownerDocument||t:H)!==P&&D(t),t=t||P,n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=t.nodeType)&&9!==u)return[];if($&&!r){if(i=_e.exec(e))if(o=i[1]){if(9===u){if(!(a=t.getElementById(o))||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&I(t,a)&&a.id===o)return n.push(a),n}else{if(i[2])return ne.apply(n,t.getElementsByTagName(e)),n;if((o=i[3])&&S.getElementsByClassName&&t.getElementsByClassName)return ne.apply(n,t.getElementsByClassName(o)),n}if(S.qsa&&(!F||!F.test(e))){if(f=c=R,d=t,g=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(s=h(e),(c=t.getAttribute("id"))?f=c.replace(Me,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=s.length;l--;)s[l]=f+p(s[l]);d=ge.test(e)&&t.parentNode||t,g=s.join(",")}if(g)try{return ne.apply(n,d.querySelectorAll(g)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return w(e.replace(de,"$1"),t,n,r)}function r(e){return xe.test(e+"")}function i(){function e(n,r){return t.push(n+=" ")>N.cacheLength&&delete e[t.shift()],e[n]=r}var t=[];return e}function a(e){return e[R]=!0,e}function o(e){var t=P.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function u(e,t,n){e=e.split("|");for(var r,i=e.length,a=n?null:t;i--;)(r=N.attrHandle[e[i]])&&r!==t||(N.attrHandle[e[i]]=a)}function l(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:!0===e[t]?t.toLowerCase():null}function s(e,t){return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}function c(e){return"input"===e.nodeName.toLowerCase()?e.defaultValue:t}function f(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Z)-(~e.sourceIndex||Z);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function d(e){return a(function(t){return t=+t,a(function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function h(e,t){var r,i,a,o,u,l,s,c=W[e+" "];if(c)return t?0:c.slice(0);for(u=e,l=[],s=N.preFilter;u;){(!r||(i=he.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),l.push(a=[])),r=!1,(i=pe.exec(u))&&(r=i.shift(),a.push({value:r,type:i[0].replace(de," ")}),u=u.slice(r.length));for(o in N.filter)!(i=be[o].exec(u))||s[o]&&!(i=s[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),u=u.slice(r.length));if(!r)break}return t?u.length:u?n.error(e):W(e,l).slice(0)}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function g(e,t,n){var r=t.dir,i=n&&"parentNode"===r,a=z++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,a)}:function(t,n,o){var u,l,s,c=U+" "+a;if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(s=t[R]||(t[R]={}),(l=s[r])&&l[0]===c){if(!0===(u=l[1])||u===k)return!0===u}else if(l=s[r]=[c],l[1]=e(t,n,o)||k,!0===l[1])return!0}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function y(e,t,n,r,i){for(var a,o=[],u=0,l=e.length,s=null!=t;l>u;u++)(a=e[u])&&(!n||n(a,r,i))&&(o.push(a),s&&t.push(u));return o}function v(e,t,n,r,i,o){return r&&!r[R]&&(r=v(r)),i&&!i[R]&&(i=v(i,o)),a(function(a,o,u,l){var s,c,f,d=[],h=[],p=o.length,g=a||_(t||"*",u.nodeType?[u]:u,[]),m=!e||!a&&t?g:y(g,d,e,u,l),v=n?i||(a?e:p||r)?[]:o:m;if(n&&n(m,v,u,l),r)for(s=y(v,h),r(s,[],u,l),c=s.length;c--;)(f=s[c])&&(v[h[c]]=!(m[h[c]]=f));if(a){if(i||e){if(i){for(s=[],c=v.length;c--;)(f=v[c])&&s.push(m[c]=f);i(null,v=[],s,l)}for(c=v.length;c--;)(f=v[c])&&(s=i?ie.call(a,f):d[c])>-1&&(a[s]=!(o[s]=f))}}else v=y(v===o?v.splice(p,v.length):v),i?i(null,o,v,l):ne.apply(o,v)})}function b(e){for(var t,n,r,i=e.length,a=N.relative[e[0].type],o=a||N.relative[" "],u=a?1:0,l=g(function(e){return e===t},o,!0),s=g(function(e){return ie.call(t,e)>-1},o,!0),c=[function(e,n,r){return!a&&(r||n!==A)||((t=n).nodeType?l(e,n,r):s(e,n,r))}];i>u;u++)if(n=N.relative[e[u].type])c=[g(m(c),n)];else{if(n=N.filter[e[u].type].apply(null,e[u].matches),n[R]){for(r=++u;i>r&&!N.relative[e[r].type];r++);return v(u>1&&m(c),u>1&&p(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(de,"$1"),n,r>u&&b(e.slice(u,r)),i>r&&b(e=e.slice(r)),i>r&&p(e))}c.push(n)}return m(c)}function x(e,t){var r=0,i=t.length>0,o=e.length>0,u=function(a,u,l,s,c){var f,d,h,p=[],g=0,m="0",v=a&&[],b=null!=c,x=A,_=a||o&&N.find.TAG("*",c&&u.parentNode||u),w=U+=null==x?1:Math.random()||.1;for(b&&(A=u!==P&&u,k=r);null!=(f=_[m]);m++){if(o&&f){for(d=0;h=e[d++];)if(h(f,u,l)){s.push(f);break}b&&(U=w,k=++r)}i&&((f=!h&&f)&&g--,a&&v.push(f))}if(g+=m,i&&m!==g){for(d=0;h=t[d++];)h(v,p,u,l);if(a){if(g>0)for(;m--;)v[m]||p[m]||(p[m]=ee.call(s));p=y(p)}ne.apply(s,p),b&&!a&&p.length>0&&g+t.length>1&&n.uniqueSort(s)}return b&&(U=w,A=x),v};return i?a(u):u}function _(e,t,r){for(var i=0,a=t.length;a>i;i++)n(e,t[i],r);return r}function w(e,t,n,r){var i,a,o,u,l,s=h(e);if(!r&&1===s.length){if(a=s[0]=s[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&S.getById&&9===t.nodeType&&$&&N.relative[a[1].type]){if(!(t=(N.find.ID(o.matches[0].replace(Se,ke),t)||[])[0]))return n;e=e.slice(a.shift().value.length)}for(i=be.needsContext.test(e)?0:a.length;i--&&(o=a[i],!N.relative[u=o.type]);)if((l=N.find[u])&&(r=l(o.matches[0].replace(Se,ke),ge.test(a[0].type)&&t.parentNode||t))){if(a.splice(i,1),!(e=r.length&&p(a)))return ne.apply(n,r),n;break}}return B(e,s)(r,t,!$,n,ge.test(e)),n}function T(){}var M,S,k,N,C,j,B,A,E,D,P,O,$,F,q,L,I,R="sizzle"+-new Date,H=e.document,U=0,z=0,Q=i(),W=i(),Y=i(),V=!1,X=function(){return 0},J=typeof t,Z=1<<31,G={}.hasOwnProperty,K=[],ee=K.pop,te=K.push,ne=K.push,re=K.slice,ie=K.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},oe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ue="[\\x20\\t\\r\\n\\f]",le="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=le.replace("w","w#"),ce="\\["+ue+"*("+le+")"+ue+"*(?:([*^$|!~]?=)"+ue+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+se+")|)|)"+ue+"*\\]",fe=":("+le+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ce.replace(3,8)+")*)|.*)\\)|)",de=RegExp("^"+ue+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ue+"+$","g"),he=RegExp("^"+ue+"*,"+ue+"*"),pe=RegExp("^"+ue+"*([>+~]|"+ue+")"+ue+"*"),ge=RegExp(ue+"*[+~]"),me=RegExp("="+ue+"*([^\\]'\"]*)"+ue+"*\\]","g"),ye=RegExp(fe),ve=RegExp("^"+se+"$"),be={ID:RegExp("^#("+le+")"),CLASS:RegExp("^\\.("+le+")"),TAG:RegExp("^("+le.replace("w","w*")+")"),ATTR:RegExp("^"+ce),PSEUDO:RegExp("^"+fe),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ue+"*(even|odd|(([+-]|)(\\d*)n|)"+ue+"*(?:([+-]|)"+ue+"*(\\d+)|))"+ue+"*\\)|)","i"),bool:RegExp("^(?:"+oe+")$","i"),needsContext:RegExp("^"+ue+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ue+"*((?:-\\d)?\\d*)"+ue+"*\\)|)(?=[^-]|$)","i")},xe=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,Te=/^h\d$/i,Me=/'|\\/g,Se=RegExp("\\\\([\\da-f]{1,6}"+ue+"?|("+ue+")|.)","ig"),ke=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{ne.apply(K=re.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(e){ne={apply:K.length?function(e,t){te.apply(e,re.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}j=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},S=n.support={},D=n.setDocument=function(e){var n=e?e.ownerDocument||e:H,i=n.parentWindow;return n!==P&&9===n.nodeType&&n.documentElement?(P=n,O=n.documentElement,$=!j(n),i&&i.frameElement&&i.attachEvent("onbeforeunload",function(){D()}),S.attributes=o(function(e){return e.innerHTML="<a href='#'></a>",u("type|href|height|width",s,"#"===e.firstChild.getAttribute("href")),u(oe,l,null==e.getAttribute("disabled")),e.className="i",!e.getAttribute("className")}),S.input=o(function(e){return e.innerHTML="<input>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}),u("value",c,S.attributes&&S.input),S.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),S.getById=o(function(e){return O.appendChild(e).id=R,!n.getElementsByName||!n.getElementsByName(R).length}),S.getById?(N.find.ID=function(e,t){if(typeof t.getElementById!==J&&$){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},N.filter.ID=function(e){var t=e.replace(Se,ke);return function(e){return e.getAttribute("id")===t}}):(delete N.find.ID,N.filter.ID=function(e){var t=e.replace(Se,ke);return function(e){var n=typeof e.getAttributeNode!==J&&e.getAttributeNode("id");return n&&n.value===t}}),N.find.TAG=S.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==J?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},N.find.CLASS=S.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==J&&$?n.getElementsByClassName(e):t},q=[],F=[],(S.qsa=r(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||F.push("\\["+ue+"*(?:value|"+oe+")"),e.querySelectorAll(":checked").length||F.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&F.push("[*^$]="+ue+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(S.matchesSelector=r(L=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){S.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),q.push("!=",fe)}),F=F.length&&RegExp(F.join("|")),q=q.length&&RegExp(q.join("|")),I=r(O.contains)||O.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S.sortDetached=o(function(e){return 1&e.compareDocumentPosition(n.createElement("div"))}),X=O.compareDocumentPosition?function(e,t){if(e===t)return V=!0,0;var r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return r?1&r||!S.sortDetached&&t.compareDocumentPosition(e)===r?e===n||I(H,e)?-1:t===n||I(H,t)?1:E?ie.call(E,e)-ie.call(E,t):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,a=e.parentNode,o=t.parentNode,u=[e],l=[t];if(e===t)return V=!0,0;if(!a||!o)return e===n?-1:t===n?1:a?-1:o?1:E?ie.call(E,e)-ie.call(E,t):0;if(a===o)return f(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;u[i]===l[i];)i++;return i?f(u[i],l[i]):u[i]===H?-1:l[i]===H?1:0},n):P},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==P&&D(e),t=t.replace(me,"='$1']"),!(!S.matchesSelector||!$||q&&q.test(t)||F&&F.test(t)))try{var r=L.call(e,t);if(r||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return n(t,P,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==P&&D(e),I(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==P&&D(e);var r=N.attrHandle[n.toLowerCase()],i=r&&G.call(N.attrHandle,n.toLowerCase())?r(e,n,!$):t;return i===t?S.attributes||!$?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,i=0;if(V=!S.detectDuplicates,E=!S.sortStable&&e.slice(0),e.sort(X),V){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},C=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=C(t);return n},N=n.selectors={cacheLength:50,createPseudo:a,match:be,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Se,ke),e[3]=(e[4]||e[5]||"").replace(Se,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return be.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&ye.test(r)&&(n=h(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Se,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Q[e+" "];return t||(t=RegExp("(^|"+ue+")"+e+"("+ue+"|$)"))&&Q(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==J&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var a=n.attr(i,e);return null==a?"!="===t:!t||(a+="","="===t?a===r:"!="===t?a!==r:"^="===t?r&&0===a.indexOf(r):"*="===t?r&&a.indexOf(r)>-1:"$="===t?r&&a.slice(-r.length)===r:"~="===t?(" "+a+" ").indexOf(r)>-1:"|="===t&&(a===r||a.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var s,c,f,d,h,p,g=a!==o?"nextSibling":"previousSibling",m=t.parentNode,y=u&&t.nodeName.toLowerCase(),v=!l&&!u;if(m){if(a){for(;g;){for(f=t;f=f[g];)if(u?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&v){for(c=m[R]||(m[R]={}),s=c[e]||[],h=s[0]===U&&s[1],d=s[0]===U&&s[2],f=h&&m.childNodes[h];f=++h&&f&&f[g]||(d=h=0)||p.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[U,h,d];break}}else if(v&&(s=(t[R]||(t[R]={}))[e])&&s[0]===U)d=s[1];else for(;(f=++h&&f&&f[g]||(d=h=0)||p.pop())&&((u?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++d||(v&&((f[R]||(f[R]={}))[e]=[U,d]),f!==t)););return(d-=i)===r||0==d%r&&d/r>=0}}},PSEUDO:function(e,t){var r,i=N.pseudos[e]||N.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return i[R]?i(t):i.length>1?(r=[e,e,"",t],N.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,n){for(var r,a=i(e,t),o=a.length;o--;)r=ie.call(e,a[o]),e[r]=!(n[r]=a[o])
}):function(e){return i(e,0,r)}):i}},pseudos:{not:a(function(e){var t=[],n=[],r=B(e.replace(de,"$1"));return r[R]?a(function(e,t,n,i){for(var a,o=r(e,null,i,[]),u=e.length;u--;)(a=o[u])&&(e[u]=!(t[u]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),!n.pop()}}),has:a(function(e){return function(t){return n(e,t).length>0}}),contains:a(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:a(function(e){return ve.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Se,ke).toLowerCase(),function(t){var n;do{if(n=$?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!N.pseudos.empty(e)},header:function(e){return Te.test(e.nodeName)},input:function(e){return we.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,n){return[0>n?n+t:n]}),even:d(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:d(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:d(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:d(function(e,t,n){for(var r=0>n?n+t:n;t>++r;)e.push(r);return e})}};for(M in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[M]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(M);for(M in{submit:!0,reset:!0})N.pseudos[M]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(M);B=n.compile=function(e,t){var n,r=[],i=[],a=Y[e+" "];if(!a){for(t||(t=h(e)),n=t.length;n--;)a=b(t[n]),a[R]?r.push(a):i.push(a);a=Y(e,x(i,r))}return a},N.pseudos.nth=N.pseudos.eq,T.prototype=N.filters=N.pseudos,N.setFilters=new T,S.sortStable=R.split("").sort(X).join("")===R,D(),[0,0].sort(X),S.detectDuplicates=V,ae.find=n,ae.expr=n.selectors,ae.expr[":"]=ae.expr.pseudos,ae.unique=n.uniqueSort,ae.text=n.getText,ae.isXMLDoc=n.isXML,ae.contains=n.contains}(e);var pe={};ae.Callbacks=function(e){e="string"==typeof e?pe[e]||r(e):ae.extend({},e);var n,i,a,o,u,l,s=[],c=!e.once&&[],f=function(t){for(n=e.memory&&t,i=!0,l=o||0,o=0,u=s.length,a=!0;s&&u>l;l++)if(!1===s[l].apply(t[0],t[1])&&e.stopOnFalse){n=!1;break}a=!1,s&&(c?c.length&&f(c.shift()):n?s=[]:d.disable())},d={add:function(){if(s){var t=s.length;(function t(n){ae.each(n,function(n,r){var i=ae.type(r);"function"===i?e.unique&&d.has(r)||s.push(r):r&&r.length&&"string"!==i&&t(r)})})(arguments),a?u=s.length:n&&(o=t,f(n))}return this},remove:function(){return s&&ae.each(arguments,function(e,t){for(var n;(n=ae.inArray(t,s,n))>-1;)s.splice(n,1),a&&(u>=n&&u--,l>=n&&l--)}),this},has:function(e){return e?ae.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],u=0,this},disable:function(){return s=c=n=t,this},disabled:function(){return!s},lock:function(){return c=t,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!s||i&&!c||(a?c.push(t):f(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},ae.extend({Deferred:function(e){var t=[["resolve","done",ae.Callbacks("once memory"),"resolved"],["reject","fail",ae.Callbacks("once memory"),"rejected"],["notify","progress",ae.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ae.Deferred(function(n){ae.each(t,function(t,a){var o=a[0],u=ae.isFunction(e[t])&&e[t];i[a[1]](function(){var e=u&&u.apply(this,arguments);e&&ae.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ae.extend(e,r):r}},i={};return r.pipe=r.then,ae.each(t,function(e,a){var o=a[2],u=a[3];r[a[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?r:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,a=ee.call(arguments),o=a.length,u=1!==o||e&&ae.isFunction(e.promise)?o:0,l=1===u?e:ae.Deferred(),s=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?ee.call(arguments):i,r===t?l.notifyWith(n,r):--u||l.resolveWith(n,r)}};if(o>1)for(t=Array(o),n=Array(o),r=Array(o);o>i;i++)a[i]&&ae.isFunction(a[i].promise)?a[i].promise().done(s(i,r,a)).fail(l.reject).progress(s(i,n,t)):--u;return u||l.resolveWith(r,a),l.promise()}}),ae.support=function(t){var n=Q.createElement("input"),r=Q.createDocumentFragment(),i=Q.createElement("div"),a=Q.createElement("select"),o=a.appendChild(Q.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=o.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!o.disabled,n=Q.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,ae(function(){var n,r,a=Q.getElementsByTagName("body")[0];a&&(n=Q.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",ae.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(Q.createElement("div")),r.style.cssText=i.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),a.removeChild(n))}),t):t}({});var ge,me,ye=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ve=/([A-Z])/g;i.uid=1,i.accepts=function(e){return!e.nodeType||(1===e.nodeType||9===e.nodeType)},i.prototype={key:function(e){if(!i.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=i.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,ae.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),a=this.cache[i];if("string"==typeof t)a[t]=n;else if(ae.isEmptyObject(a))ae.extend(this.cache[i],t);else for(r in t)a[r]=t[r];return a},get:function(e,n){var r=this.cache[this.key(e)];return n===t?r:r[n]},access:function(e,n,r){return n===t||n&&"string"==typeof n&&r===t?this.get(e,n):(this.set(e,n,r),r!==t?r:n)},remove:function(e,n){var r,i,a,o=this.key(e),u=this.cache[o];if(n===t)this.cache[o]={};else{ae.isArray(n)?i=n.concat(n.map(ae.camelCase)):(a=ae.camelCase(n),n in u?i=[n,a]:(i=a,i=i in u?[i]:i.match(ue)||[])),r=i.length;for(;r--;)delete u[i[r]]}},hasData:function(e){return!ae.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},ge=new i,me=new i,ae.extend({acceptData:i.accepts,hasData:function(e){return ge.hasData(e)||me.hasData(e)},data:function(e,t,n){return ge.access(e,t,n)},removeData:function(e,t){ge.remove(e,t)},_data:function(e,t,n){return me.access(e,t,n)},_removeData:function(e,t){me.remove(e,t)}}),ae.fn.extend({data:function(e,n){var r,i,o=this[0],u=0,l=null;if(e===t){if(this.length&&(l=ge.get(o),1===o.nodeType&&!me.get(o,"hasDataAttrs"))){for(r=o.attributes;r.length>u;u++)i=r[u].name,0===i.indexOf("data-")&&(i=ae.camelCase(i.slice(5)),a(o,i,l[i]));me.set(o,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){ge.set(this,e)}):ae.access(this,function(n){var r,i=ae.camelCase(e);if(o&&n===t){if((r=ge.get(o,e))!==t)return r;if((r=ge.get(o,i))!==t)return r;if((r=a(o,i,t))!==t)return r}else this.each(function(){var r=ge.get(this,i);ge.set(this,i,n),-1!==e.indexOf("-")&&r!==t&&ge.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ge.remove(this,e)})}}),ae.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=me.get(e,n),r&&(!i||ae.isArray(r)?i=me.access(e,n,ae.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=ae.queue(e,t),r=n.length,i=n.shift(),a=ae._queueHooks(e,t),o=function(){ae.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return me.get(e,n)||me.access(e,n,{empty:ae.Callbacks("once memory").add(function(){me.remove(e,[t+"queue",n])})})}}),ae.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?ae.queue(this[0],e):n===t?this:this.each(function(){var t=ae.queue(this,e,n);ae._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ae.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ae.dequeue(this,e)})},delay:function(e,t){return e=ae.fx?ae.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,a=ae.Deferred(),o=this,u=this.length,l=function(){--i||a.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";u--;)(r=me.get(o[u],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(l));return l(),a.promise(n)}});var be,xe=/[\t\r\n\f]/g,_e=/\r/g,we=/^(?:input|select|textarea|button)$/i;ae.fn.extend({attr:function(e,t){return ae.access(this,ae.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ae.removeAttr(this,e)})},prop:function(e,t){return ae.access(this,ae.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ae.propFix[e]||e]})},addClass:function(e){var t,n,r,i,a,o=0,u=this.length,l="string"==typeof e&&e;if(ae.isFunction(e))return this.each(function(t){ae(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ue)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xe," "):" ")){for(a=0;i=t[a++];)0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=ae.trim(r)}return this},removeClass:function(e){var t,n,r,i,a,o=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ae.isFunction(e))return this.each(function(t){ae(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ue)||[];u>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(xe," "):"")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?ae.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return ae.isFunction(e)?this.each(function(n){ae(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,a=0,o=ae(this),u=t,l=e.match(ue)||[];i=l[a++];)u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i);else(n===U||"boolean"===n)&&(this.className&&me.set(this,"__className__",this.className),this.className=this.className||!1===e?"":me.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xe," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,a=this[0];return arguments.length?(i=ae.isFunction(e),this.each(function(r){var a;1===this.nodeType&&(a=i?e.call(this,r,ae(this).val()):e,null==a?a="":"number"==typeof a?a+="":ae.isArray(a)&&(a=ae.map(a,function(e){return null==e?"":e+""})),(n=ae.valHooks[this.type]||ae.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,a,"value")!==t||(this.value=a))})):a?(n=ae.valHooks[a.type]||ae.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(a,"value"))!==t?r:(r=a.value,"string"==typeof r?r.replace(_e,""):null==r?"":r)):void 0}}),ae.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,a="select-one"===e.type||0>i,o=a?null:[],u=a?i+1:r.length,l=0>i?u:a?i:0;u>l;l++)if(n=r[l],!(!n.selected&&l!==i||(ae.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ae.nodeName(n.parentNode,"optgroup"))){if(t=ae(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,a=ae.makeArray(t),o=i.length;o--;)r=i[o],(r.selected=ae.inArray(ae(r).val(),a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}},attr:function(e,n,r){var i,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===U?ae.prop(e,n,r):(1===o&&ae.isXMLDoc(e)||(n=n.toLowerCase(),i=ae.attrHooks[n]||(ae.expr.match.bool.test(n)?be:void 0)),r===t?i&&"get"in i&&null!==(a=i.get(e,n))?a:(a=ae.find.attr(e,n),null==a?t:a):null!==r?i&&"set"in i&&(a=i.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(ae.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,a=t&&t.match(ue);if(a&&1===e.nodeType)for(;n=a[i++];)r=ae.propFix[n]||n,ae.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!ae.support.radioValue&&"radio"===t&&ae.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,n,r){var i,a,o,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return o=1!==u||!ae.isXMLDoc(e),o&&(n=ae.propFix[n]||n,a=ae.propHooks[n]),r!==t?a&&"set"in a&&(i=a.set(e,r,n))!==t?i:e[n]=r:a&&"get"in a&&null!==(i=a.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||we.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),be={set:function(e,t,n){return!1===t?ae.removeAttr(e,n):e.setAttribute(n,n),n}},ae.each(ae.expr.match.bool.source.match(/\w+/g),function(e,n){var r=ae.expr.attrHandle[n]||ae.find.attr;ae.expr.attrHandle[n]=function(e,n,i){var a=ae.expr.attrHandle[n],o=i?t:(ae.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return ae.expr.attrHandle[n]=a,o}}),ae.support.optSelected||(ae.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ae.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ae.propFix[this.toLowerCase()]=this}),ae.each(["radio","checkbox"],function(){ae.valHooks[this]={set:function(e,n){return ae.isArray(n)?e.checked=ae.inArray(ae(e).val(),n)>=0:t}},ae.support.checkOn||(ae.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Te=/^key/,Me=/^(?:mouse|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,ke=/^([^.]*)(?:\.(.+)|)$/;ae.event={global:{},add:function(e,n,r,i,a){var o,u,l,s,c,f,d,h,p,g,m,y=me.get(e);if(y){for(r.handler&&(o=r,r=o.handler,a=o.selector),r.guid||(r.guid=ae.guid++),(s=y.events)||(s=y.events={}),(u=y.handle)||(u=y.handle=function(e){return typeof ae===U||e&&ae.event.triggered===e.type?t:ae.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=(n||"").match(ue)||[""],c=n.length;c--;)l=ke.exec(n[c])||[],p=m=l[1],g=(l[2]||"").split(".").sort(),p&&(d=ae.event.special[p]||{},p=(a?d.delegateType:d.bindType)||p,d=ae.event.special[p]||{},f=ae.extend({type:p,origType:m,data:i,handler:r,guid:r.guid,selector:a,needsContext:a&&ae.expr.match.needsContext.test(a),namespace:g.join(".")},o),(h=s[p])||(h=s[p]=[],h.delegateCount=0,d.setup&&!1!==d.setup.call(e,i,g,u)||e.addEventListener&&e.addEventListener(p,u,!1)),d.add&&(d.add.call(e,f),f.handler.guid||(f.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,f):h.push(f),ae.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var a,o,u,l,s,c,f,d,h,p,g,m=me.hasData(e)&&me.get(e);if(m&&(l=m.events)){for(t=(t||"").match(ue)||[""],s=t.length;s--;)if(u=ke.exec(t[s])||[],h=g=u[1],p=(u[2]||"").split(".").sort(),h){for(f=ae.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,d=l[h]||[],u=u[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)c=d[a],!i&&g!==c.origType||n&&n.guid!==c.guid||u&&!u.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(a,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));o&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,p,m.handle)||ae.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)ae.event.remove(e,h+t[s],n,r,!0);ae.isEmptyObject(l)&&(delete m.handle,me.remove(e,"events"))}},trigger:function(n,r,i,a){var o,u,l,s,c,f,d,h=[i||Q],p=re.call(n,"type")?n.type:n,g=re.call(n,"namespace")?n.namespace.split("."):[];if(u=l=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!Se.test(p+ae.event.triggered)&&(p.indexOf(".")>=0&&(g=p.split("."),p=g.shift(),g.sort()),c=0>p.indexOf(":")&&"on"+p,n=n[ae.expando]?n:new ae.Event(p,"object"==typeof n&&n),n.isTrigger=a?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:ae.makeArray(r,[n]),d=ae.event.special[p]||{},a||!d.trigger||!1!==d.trigger.apply(i,r))){if(!a&&!d.noBubble&&!ae.isWindow(i)){for(s=d.delegateType||p,Se.test(s+p)||(u=u.parentNode);u;u=u.parentNode)h.push(u),l=u;l===(i.ownerDocument||Q)&&h.push(l.defaultView||l.parentWindow||e)}for(o=0;(u=h[o++])&&!n.isPropagationStopped();)n.type=o>1?s:d.bindType||p,f=(me.get(u,"events")||{})[n.type]&&me.get(u,"handle"),f&&f.apply(u,r),(f=c&&u[c])&&ae.acceptData(u)&&f.apply&&!1===f.apply(u,r)&&n.preventDefault();return n.type=p,a||n.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),r)||!ae.acceptData(i)||c&&ae.isFunction(i[p])&&!ae.isWindow(i)&&(l=i[c],l&&(i[c]=null),ae.event.triggered=p,i[p](),ae.event.triggered=t,l&&(i[c]=l)),n.result}},dispatch:function(e){e=ae.event.fix(e);var n,r,i,a,o,u=[],l=ee.call(arguments),s=(me.get(this,"events")||{})[e.type]||[],c=ae.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(u=ae.event.handlers.call(this,e,s),n=0;(a=u[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,r=0;(o=a.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,(i=((ae.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,l))!==t&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,a,o,u=[],l=n.delegateCount,s=e.target;if(l&&s.nodeType&&(!e.button||"click"!==e.type))for(;s!==this;s=s.parentNode||this)if(!0!==s.disabled||"click"!==e.type){for(i=[],r=0;l>r;r++)o=n[r],a=o.selector+" ",i[a]===t&&(i[a]=o.needsContext?ae(a,this).index(s)>=0:ae.find(a,this,null,[s]).length),i[a]&&i.push(o);i.length&&u.push({elem:s,handlers:i})}return n.length>l&&u.push({elem:this,handlers:n.slice(l)}),u},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,o=n.button;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||Q,i=r.documentElement,a=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[ae.expando])return e;var t,n,r,i=e.type,a=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=Me.test(i)?this.mouseHooks:Te.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new ae.Event(a),t=r.length;t--;)n=r[t],e[n]=a[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):t},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ae.nodeName(this,"input")?(this.click(),!1):t},_default:function(e){return ae.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ae.extend(new ae.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ae.event.trigger(i,null,t):ae.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ae.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},ae.Event=function(e,n){return this instanceof ae.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?o:u):this.type=e,n&&ae.extend(this,n),this.timeStamp=e&&e.timeStamp||ae.now(),this[ae.expando]=!0,t):new ae.Event(e,n)},ae.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=o,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=o,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()}},ae.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ae.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return(!i||i!==r&&!ae.contains(r,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),ae.support.focusinBubbles||ae.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ae.event.simulate(t,e.target,ae.event.fix(e),!0)};ae.event.special[t]={setup:function(){0==n++&&Q.addEventListener(e,r,!0)},teardown:function(){0==--n&&Q.removeEventListener(e,r,!0)}}}),ae.fn.extend({on:function(e,n,r,i,a){var o,l;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(l in e)this.on(l,n,r,e[l],a);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),!1===i)i=u;else if(!i)return this;return 1===a&&(o=i,i=function(e){return ae().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=ae.guid++)),this.each(function(){ae.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ae(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(!1===n||"function"==typeof n)&&(r=n,n=t),!1===r&&(r=u),this.each(function(){ae.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){ae.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?ae.event.trigger(e,n,r,!0):t}});var Ne=/^.[^:#\[\.,]*$/,Ce=/^(?:parents|prev(?:Until|All))/,je=ae.expr.match.needsContext,Be={children:!0,contents:!0,next:!0,prev:!0};ae.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ae(e).filter(function(){for(t=0;i>t;t++)if(ae.contains(r[t],this))return!0}));for(t=0;i>t;t++)ae.find(e,r[t],n);return n=this.pushStack(i>1?ae.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=ae(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(ae.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e||[],!0))},filter:function(e){return this.pushStack(c(this,e||[],!1))},is:function(e){return!!c(this,"string"==typeof e&&je.test(e)?ae(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,a=[],o=je.test(e)||"string"!=typeof e?ae(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(o?o.index(n)>-1:1===n.nodeType&&ae.find.matchesSelector(n,e))){n=a.push(n);break}return this.pushStack(a.length>1?ae.unique(a):a)},index:function(e){return e?"string"==typeof e?te.call(ae(e),this[0]):te.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ae(e,t):ae.makeArray(e&&e.nodeType?[e]:e),r=ae.merge(this.get(),n);return this.pushStack(ae.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ae.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ae.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ae.dir(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return ae.dir(e,"nextSibling")},prevAll:function(e){return ae.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ae.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ae.dir(e,"previousSibling",n)},siblings:function(e){return ae.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ae.sibling(e.firstChild)},contents:function(e){return e.contentDocument||ae.merge([],e.childNodes)}},function(e,t){ae.fn[e]=function(n,r){var i=ae.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ae.filter(r,i)),this.length>1&&(Be[e]||ae.unique(i),Ce.test(e)&&i.reverse()),this.pushStack(i)}}),ae.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ae.find.matchesSelector(r,e)?[r]:[]:ae.find.matches(e,ae.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],a=r!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&ae(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ee=/<([\w:]+)/,De=/<|&#?\w+;/,Pe=/<(?:script|style|link)/i,Oe=/^(?:checkbox|radio)$/i,$e=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^$|\/(?:java|ecma)script/i,qe=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ie={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ie.optgroup=Ie.option,Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td,ae.fn.extend({text:function(e){return ae.access(this,function(e){return e===t?ae.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Q).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){f(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ae.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ae.cleanData(m(n)),n.parentNode&&(t&&ae.contains(n.ownerDocument,n)&&p(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ae.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ae.clone(this,e,t)})},html:function(e){return ae.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!Ie[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(ae.cleanData(m(n,!1)),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ae.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),ae(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=G.apply([],e);var r,i,a,o,u,l,s=0,c=this.length,f=this,p=c-1,g=e[0],y=ae.isFunction(g);if(y||!(1>=c||"string"!=typeof g||ae.support.checkClone)&&$e.test(g))return this.each(function(r){var i=f.eq(r);y&&(e[0]=g.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=ae.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(a=ae.map(m(r,"script"),d),o=a.length;c>s;s++)u=r,s!==p&&(u=ae.clone(u,!0,!0),o&&ae.merge(a,m(u,"script"))),t.call(this[s],u,s);if(o)for(l=a[a.length-1].ownerDocument,ae.map(a,h),s=0;o>s;s++)u=a[s],Fe.test(u.type||"")&&!me.access(u,"globalEval")&&ae.contains(l,u)&&(u.src?ae._evalUrl(u.src):ae.globalEval(u.textContent.replace(Le,"")))}return this}}),ae.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ae.fn[e]=function(e){for(var n,r=[],i=ae(e),a=i.length-1,o=0;a>=o;o++)n=o===a?this:this.clone(!0),ae(i[o])[t](n),K.apply(r,n.get());return this.pushStack(r)}}),ae.extend({clone:function(e,t,n){var r,i,a,o,u=e.cloneNode(!0),l=ae.contains(e.ownerDocument,e);if(!(ae.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ae.isXMLDoc(e)))for(o=m(u),a=m(e),r=0,i=a.length;i>r;r++)y(a[r],o[r]);if(t)if(n)for(a=a||m(e),o=o||m(u),r=0,i=a.length;i>r;r++)g(a[r],o[r]);else g(e,u);return o=m(u,"script"),o.length>0&&p(o,!l&&m(e,"script")),u},buildFragment:function(e,t,n,r){for(var i,a,o,u,l,s,c=0,f=e.length,d=t.createDocumentFragment(),h=[];f>c;c++)if((i=e[c])||0===i)if("object"===ae.type(i))ae.merge(h,i.nodeType?[i]:i);else if(De.test(i)){for(a=a||d.appendChild(t.createElement("div")),o=(Ee.exec(i)||["",""])[1].toLowerCase(),u=Ie[o]||Ie._default,a.innerHTML=u[1]+i.replace(Ae,"<$1></$2>")+u[2],s=u[0];s--;)a=a.firstChild;ae.merge(h,a.childNodes),a=d.firstChild,a.textContent=""}else h.push(t.createTextNode(i));for(d.textContent="",c=0;i=h[c++];)if((!r||-1===ae.inArray(i,r))&&(l=ae.contains(i.ownerDocument,i),a=m(d.appendChild(i),"script"),l&&p(a),n))for(s=0;i=a[s++];)Fe.test(i.type||"")&&n.push(i);return d},cleanData:function(e){
for(var n,r,a,o,u,l,s=ae.event.special,c=0;(r=e[c])!==t;c++){if(i.accepts(r)&&(u=r[me.expando])&&(n=me.cache[u])){if(a=Object.keys(n.events||{}),a.length)for(l=0;(o=a[l])!==t;l++)s[o]?ae.event.remove(r,o):ae.removeEvent(r,o,n.handle);me.cache[u]&&delete me.cache[u]}delete ge.cache[r[ge.expando]]}},_evalUrl:function(e){return ae.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),ae.fn.extend({wrapAll:function(e){var t;return ae.isFunction(e)?this.each(function(t){ae(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ae(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ae.isFunction(e)?this.each(function(t){ae(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ae(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ae.isFunction(e);return this.each(function(n){ae(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ae.nodeName(this,"body")||ae(this).replaceWith(this.childNodes)}).end()}});var Re,He,Ue=/^(none|table(?!-c[ea]).+)/,ze=/^margin/,Qe=RegExp("^("+oe+")(.*)$","i"),We=RegExp("^("+oe+")(?!px)[a-z%]+$","i"),Ye=RegExp("^([+-])=("+oe+")","i"),Ve={BODY:"block"},Xe={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:0,fontWeight:400},Ze=["Top","Right","Bottom","Left"],Ge=["Webkit","O","Moz","ms"];ae.fn.extend({css:function(e,n){return ae.access(this,function(e,n,r){var i,a,o={},u=0;if(ae.isArray(n)){for(i=x(e),a=n.length;a>u;u++)o[n[u]]=ae.css(e,n[u],!1,i);return o}return r!==t?ae.style(e,n,r):ae.css(e,n)},e,n,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:b(this))?ae(this).show():ae(this).hide()})}}),ae.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Re(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,u,l=ae.camelCase(n),s=e.style;return n=ae.cssProps[l]||(ae.cssProps[l]=v(s,l)),u=ae.cssHooks[n]||ae.cssHooks[l],r===t?u&&"get"in u&&(a=u.get(e,!1,i))!==t?a:s[n]:(o=typeof r,"string"===o&&(a=Ye.exec(r))&&(r=(a[1]+1)*a[2]+parseFloat(ae.css(e,n)),o="number"),null==r||"number"===o&&isNaN(r)||("number"!==o||ae.cssNumber[l]||(r+="px"),ae.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(s[n]="inherit"),u&&"set"in u&&(r=u.set(e,r,i))===t||(s[n]=r)),t)}},css:function(e,n,r,i){var a,o,u,l=ae.camelCase(n);return n=ae.cssProps[l]||(ae.cssProps[l]=v(e.style,l)),u=ae.cssHooks[n]||ae.cssHooks[l],u&&"get"in u&&(a=u.get(e,!0,r)),a===t&&(a=Re(e,n,i)),"normal"===a&&n in Je&&(a=Je[n]),""===r||r?(o=parseFloat(a),!0===r||ae.isNumeric(o)?o||0:a):a}}),Re=function(e,n,r){var i,a,o,u=r||x(e),l=u?u.getPropertyValue(n)||u[n]:t,s=e.style;return u&&(""!==l||ae.contains(e.ownerDocument,e)||(l=ae.style(e,n)),We.test(l)&&ze.test(n)&&(i=s.width,a=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=l,l=u.width,s.width=i,s.minWidth=a,s.maxWidth=o)),l},ae.each(["height","width"],function(e,n){ae.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Ue.test(ae.css(e,"display"))?ae.swap(e,Xe,function(){return M(e,n,i)}):M(e,n,i):t},set:function(e,t,r){var i=r&&x(e);return w(e,t,r?T(e,n,r,ae.support.boxSizing&&"border-box"===ae.css(e,"boxSizing",!1,i),i):0)}}}),ae(function(){ae.support.reliableMarginRight||(ae.cssHooks.marginRight={get:function(e,n){return n?ae.swap(e,{display:"inline-block"},Re,[e,"marginRight"]):t}}),!ae.support.pixelPosition&&ae.fn.position&&ae.each(["top","left"],function(e,n){ae.cssHooks[n]={get:function(e,r){return r?(r=Re(e,n),We.test(r)?ae(e).position()[n]+"px":r):t}}})}),ae.expr&&ae.expr.filters&&(ae.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},ae.expr.filters.visible=function(e){return!ae.expr.filters.hidden(e)}),ae.each({margin:"",padding:"",border:"Width"},function(e,t){ae.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Ze[r]+t]=a[r]||a[r-2]||a[0];return i}},ze.test(e)||(ae.cssHooks[e+t].set=w)});var Ke=/%20/g,et=/\[\]$/,tt=/\r?\n/g,nt=/^(?:submit|button|image|reset|file)$/i,rt=/^(?:input|select|textarea|keygen)/i;ae.fn.extend({serialize:function(){return ae.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ae.prop(this,"elements");return e?ae.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ae(this).is(":disabled")&&rt.test(this.nodeName)&&!nt.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){var n=ae(this).val();return null==n?null:ae.isArray(n)?ae.map(n,function(e){return{name:t.name,value:e.replace(tt,"\r\n")}}):{name:t.name,value:n.replace(tt,"\r\n")}}).get()}}),ae.param=function(e,n){var r,i=[],a=function(e,t){t=ae.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ae.ajaxSettings&&ae.ajaxSettings.traditional),ae.isArray(e)||e.jquery&&!ae.isPlainObject(e))ae.each(e,function(){a(this.name,this.value)});else for(r in e)N(r,e[r],n,a);return i.join("&").replace(Ke,"+")},ae.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ae.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ae.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var it,at,ot=ae.now(),ut=/\?/,lt=/#.*$/,st=/([?&])_=[^&]*/,ct=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,dt=/^(?:GET|HEAD)$/,ht=/^\/\//,pt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,gt=ae.fn.load,mt={},yt={},vt="*/".concat("*");try{at=z.href}catch(e){at=Q.createElement("a"),at.href="",at=at.href}it=pt.exec(at.toLowerCase())||[],ae.fn.load=function(e,n,r){if("string"!=typeof e&&gt)return gt.apply(this,arguments);var i,a,o,u=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l),e=e.slice(0,l)),ae.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),u.length>0&&ae.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,u.html(i?ae("<div>").append(ae.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,o||[e.responseText,t,e])}),this},ae.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ae.fn[t]=function(e){return this.on(t,e)}}),ae.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:at,type:"GET",isLocal:ft.test(it[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ae.parseJSON,"text xml":ae.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?B(B(e,ae.ajaxSettings),t):B(ae.ajaxSettings,e)},ajaxPrefilter:C(mt),ajaxTransport:C(yt),ajax:function(e,n){function r(e,n,r,u){var s,f,v,b,_,T=n;2!==x&&(x=2,l&&clearTimeout(l),i=t,o=u||"",w.readyState=e>0?4:0,s=e>=200&&300>e||304===e,r&&(b=A(d,w,r)),b=E(d,b,w,s),s?(d.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(ae.lastModified[a]=_),(_=w.getResponseHeader("etag"))&&(ae.etag[a]=_)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=b.state,f=b.data,v=b.error,s=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(n||T)+"",s?g.resolveWith(h,[f,T,w]):g.rejectWith(h,[w,T,v]),w.statusCode(y),y=t,c&&p.trigger(s?"ajaxSuccess":"ajaxError",[w,d,s?f:v]),m.fireWith(h,[w,T]),c&&(p.trigger("ajaxComplete",[w,d]),--ae.active||ae.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,a,o,u,l,s,c,f,d=ae.ajaxSetup({},n),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?ae(h):ae.event,g=ae.Deferred(),m=ae.Callbacks("once memory"),y=d.statusCode||{},v={},b={},x=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!u)for(u={};t=ct.exec(o);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)y[t]=[y[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return i&&i.abort(t),r(0,t),this}};if(g.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||at)+"").replace(lt,"").replace(ht,it[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ae.trim(d.dataType||"*").toLowerCase().match(ue)||[""],null==d.crossDomain&&(s=pt.exec(d.url.toLowerCase()),d.crossDomain=!(!s||s[1]===it[1]&&s[2]===it[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(it[3]||("http:"===it[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ae.param(d.data,d.traditional)),j(mt,d,n,w),2===x)return w;c=d.global,c&&0==ae.active++&&ae.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!dt.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(ut.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=st.test(a)?a.replace(st,"$1_="+ot++):a+(ut.test(a)?"&":"?")+"_="+ot++)),d.ifModified&&(ae.lastModified[a]&&w.setRequestHeader("If-Modified-Since",ae.lastModified[a]),ae.etag[a]&&w.setRequestHeader("If-None-Match",ae.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+vt+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)w.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,w,d)||2===x))return w.abort();_="abort";for(f in{success:1,error:1,complete:1})w[f](d[f]);if(i=j(yt,d,n,w)){w.readyState=1,c&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{x=1,i.send(v,r)}catch(e){if(!(2>x))throw e;r(-1,e)}}else r(-1,"No Transport");return w},getJSON:function(e,t,n){return ae.get(e,t,n,"json")},getScript:function(e,n){return ae.get(e,t,n,"script")}}),ae.each(["get","post"],function(e,n){ae[n]=function(e,r,i,a){return ae.isFunction(r)&&(a=a||i,i=r,r=t),ae.ajax({url:e,type:n,dataType:a,data:r,success:i})}}),ae.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ae.globalEval(e),e}}}),ae.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ae.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=ae("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var bt=[],xt=/(=)\?(?=&|$)|\?\?/;ae.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bt.pop()||ae.expando+"_"+ot++;return this[e]=!0,e}}),ae.ajaxPrefilter("json jsonp",function(n,r,i){var a,o,u,l=!1!==n.jsonp&&(xt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&xt.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(a=n.jsonpCallback=ae.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(xt,"$1"+a):!1!==n.jsonp&&(n.url+=(ut.test(n.url)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return u||ae.error(a+" was not called"),u[0]},n.dataTypes[0]="json",o=e[a],e[a]=function(){u=arguments},i.always(function(){e[a]=o,n[a]&&(n.jsonpCallback=r.jsonpCallback,bt.push(a)),u&&ae.isFunction(o)&&o(u[0]),u=o=t}),"script"):t}),ae.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var _t=ae.ajaxSettings.xhr(),wt={0:200,1223:204},Tt=0,Mt={};e.ActiveXObject&&ae(e).on("unload",function(){for(var e in Mt)Mt[e]();Mt=t}),ae.support.cors=!!_t&&"withCredentials"in _t,ae.support.ajax=_t=!!_t,ae.ajaxTransport(function(e){var n;return ae.support.cors||_t&&!e.crossDomain?{send:function(r,i){var a,o,u=e.xhr();if(u.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)u[a]=e.xhrFields[a];e.mimeType&&u.overrideMimeType&&u.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)u.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(delete Mt[o],n=u.onload=u.onerror=null,"abort"===e?u.abort():"error"===e?i(u.status||404,u.statusText):i(wt[u.status]||u.status,u.statusText,"string"==typeof u.responseText?{text:u.responseText}:t,u.getAllResponseHeaders()))}},u.onload=n(),u.onerror=n("error"),n=Mt[o=Tt++]=n("abort"),u.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}:t});var St,kt,Nt=/^(?:toggle|show|hide)$/,Ct=RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),jt=/queueHooks$/,Bt=[F],At={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ct.exec(t),a=i&&i[3]||(ae.cssNumber[e]?"":"px"),o=(ae.cssNumber[e]||"px"!==a&&+r)&&Ct.exec(ae.css(n.elem,e)),u=1,l=20;if(o&&o[3]!==a){a=a||o[3],i=i||[],o=+r||1;do{u=u||".5",o/=u,ae.style(n.elem,e,o+a)}while(u!==(u=n.cur()/r)&&1!==u&&--l)}return i&&(o=n.start=+o||+r||0,n.unit=a,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};ae.Animation=ae.extend(O,{tweener:function(e,t){ae.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],At[n]=At[n]||[],At[n].unshift(t)},prefilter:function(e,t){t?Bt.unshift(e):Bt.push(e)}}),ae.Tween=q,q.prototype={constructor:q,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(ae.cssNumber[n]?"":"px")},cur:function(){var e=q.propHooks[this.prop];return e&&e.get?e.get(this):q.propHooks._default.get(this)},run:function(e){var t,n=q.propHooks[this.prop];return this.pos=t=this.options.duration?ae.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ae.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ae.fx.step[e.prop]?ae.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ae.cssProps[e.prop]]||ae.cssHooks[e.prop])?ae.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ae.each(["toggle","show","hide"],function(e,t){var n=ae.fn[t];ae.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(L(t,!0),e,r,i)}}),ae.fn.extend({fadeTo:function(e,t,n,r){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ae.isEmptyObject(e),a=ae.speed(t,n,r),o=function(){var t=O(this,ae.extend({},e),a);(i||me.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=ae.timers,o=me.get(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&jt.test(n)&&i(o[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(r),t=!1,a.splice(n,1));(t||!r)&&ae.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=me.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=ae.timers,o=r?r.length:0;for(n.finish=!0,ae.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ae.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ae.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ae.speed=function(e,t,n){var r=e&&"object"==typeof e?ae.extend({},e):{complete:n||!n&&t||ae.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ae.isFunction(t)&&t};return r.duration=ae.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ae.fx.speeds?ae.fx.speeds[r.duration]:ae.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ae.isFunction(r.old)&&r.old.call(this),r.queue&&ae.dequeue(this,r.queue)},r},ae.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ae.timers=[],ae.fx=q.prototype.init,ae.fx.tick=function(){var e,n=ae.timers,r=0;for(St=ae.now();n.length>r;r++)(e=n[r])()||n[r]!==e||n.splice(r--,1);n.length||ae.fx.stop(),St=t},ae.fx.timer=function(e){e()&&ae.timers.push(e)&&ae.fx.start()},ae.fx.interval=13,ae.fx.start=function(){kt||(kt=setInterval(ae.fx.tick,ae.fx.interval))},ae.fx.stop=function(){clearInterval(kt),kt=null},ae.fx.speeds={slow:600,fast:200,_default:400},ae.fx.step={},ae.expr&&ae.expr.filters&&(ae.expr.filters.animated=function(e){return ae.grep(ae.timers,function(t){return e===t.elem}).length}),ae.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ae.offset.setOffset(this,e,t)});var n,r,i=this[0],a={top:0,left:0},o=i&&i.ownerDocument;return o?(n=o.documentElement,ae.contains(n,i)?(typeof i.getBoundingClientRect!==U&&(a=i.getBoundingClientRect()),r=I(o),{top:a.top+r.pageYOffset-n.clientTop,left:a.left+r.pageXOffset-n.clientLeft}):a):void 0},ae.offset={setOffset:function(e,t,n){var r,i,a,o,u,l,s,c=ae.css(e,"position"),f=ae(e),d={};"static"===c&&(e.style.position="relative"),u=f.offset(),a=ae.css(e,"top"),l=ae.css(e,"left"),s=("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1,s?(r=f.position(),o=r.top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),ae.isFunction(t)&&(t=t.call(e,n,u)),null!=t.top&&(d.top=t.top-u.top+o),null!=t.left&&(d.left=t.left-u.left+i),"using"in t?t.using.call(e,d):f.css(d)}},ae.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ae.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ae.nodeName(e[0],"html")||(r=e.offset()),r.top+=ae.css(e[0],"borderTopWidth",!0),r.left+=ae.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-ae.css(n,"marginTop",!0),left:t.left-r.left-ae.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||W;e&&!ae.nodeName(e,"html")&&"static"===ae.css(e,"position");)e=e.offsetParent;return e||W})}}),ae.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var i="pageYOffset"===r;ae.fn[n]=function(a){return ae.access(this,function(n,a,o){var u=I(n);return o===t?u?u[r]:n[a]:(u?u.scrollTo(i?e.pageXOffset:o,i?o:e.pageYOffset):n[a]=o,t)},n,a,arguments.length,null)}}),ae.each({Height:"height",Width:"width"},function(e,n){ae.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){ae.fn[i]=function(i,a){var o=arguments.length&&(r||"boolean"!=typeof i),u=r||(!0===i||!0===a?"margin":"border");return ae.access(this,function(n,r,i){var a;return ae.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):i===t?ae.css(n,r,u):ae.style(n,r,i,u)},n,o?i:t,o,null)}})}),ae.fn.size=function(){return this.length},ae.fn.andSelf=ae.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ae:"function"==typeof define&&define.amd&&define("jquery",[],function(){return ae}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=ae)}(window);var Core={init:function(){Core.setOnlyNum()},Delete:function(e,t){jQuery.SmartMessageBox({title:phrase["Удалить?"],content:phrase["Эту операцию нельзя будет отменить."],buttons:"["+phrase["Нет"]+"]["+phrase["Да"]+"]"},function(n){n===phrase["Да"]&&jQuery.ajax({type:"POST",url:"/admin/delete",data:{id:e,table:t},dataType:"json",success:function(t){t.status?(TableBuilder.showSuccessNotification("Удалено успешно"),$(".tr_"+e).remove()):TableBuilder.showErrorNotification(phrase["Что-то пошло не так, попробуйте позже"])}})})},delPrm:function(e){var t=window.location.href,n=t.split("?"),r=new RegExp("(\\?|&)"+e+"=[^&]+","g");t=("?"+n[1]).replace(r,""),t=t.replace(/^&|\?/,"");var i=""==t?"":"?";return void 0===n[1]?n[0]:n[0]+i+t},setAttr:function(e,t){var n="",r=location.href.split("#")[0].split("?"),i=r[0],a=r[1];if(a)for(var o=a.split("&"),u=0;u<o.length;u++){var l=o[u].split("=");l[0]!=e&&(n+=o[u]+"&")}return n+=e+"="+t,i+"?"+n},urlParam:function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?null:t[1]||0},setOnlyNum:function(){$(document).on("keyup",".only_num",function(){var e=String($(this).val()),t=e.replace(/[^0-9]/gi,"");$(this).val(t)})}};jQuery(document).ready(function(){Core.init(),$.getQuery=function(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",r=new RegExp(n),i=r.exec(t);return null!==i&&i[1]}});var TableBuilder={options:null,files:{},admin_prefix:"",action_url:"",table:"#widget-grid",preloader:"#table-preloader",form_preloader:".form-preloader",form:"#modal_form",form_edit:"#modal_form_edit",export_form:"#tb-export-form",form_label:"#modal_form_edit_label",form_wrapper:"#modal_wrapper",create_form:"#create_form",edit_form:"#edit_form",filter:"#filters-row :input",is_page_form:!1,thisFileElementInGroup:null,thisPictureElementInGroup:null,onDoEdit:null,onDoCreate:null,onDoDelete:null,handlerCreate:null,tableEditorImg:null,sort:!0,init:function(e){TableBuilder.options=TableBuilder.getOptions(e),TableBuilder.initSelect2Hider()},optionsInit:function(e){TableBuilder.options=TableBuilder.getOptions(e)},afterLoadPage:function(){$(".selectable").editable(),$(".tb-sort-me-gently",".tb-table").on("mousedown",function(){$(".widget-body",".table-builder").css("overflow-x","visible")}),$(".tb-sort-me-gently",".tb-table").on("mouseup",function(){$(".widget-body",".table-builder").css("overflow-x","scroll")}),$("tbody","#datatable_fixed_column").sortable({scroll:!0,axis:"y",handle:".tb-sort",update:function(){var e=$("tbody","#datatable_fixed_column").sortable("serialize");TableBuilder.saveOrder(e)}})},initFroalaEditor:function(e){var t="en",n=void 0==e?".text_block":".modal_form_"+e+" .text_block";t="ua"==langCms?"uk":langCms,$(n).each(function(e){var n=$("meta[name=csrf-token]").attr("content"),r={initOnClick:!0,inlineMode:!1,imageUploadURL:"/admin/upload_image?_token="+n,imageManagerDeleteURL:"/admin/delete_image?_token="+n,heightMin:100,heightMax:500,fileUploadURL:"/admin/upload_file?_token="+n,imageManagerLoadURL:"/admin/load_image?_token="+n,imageDeleteURL:"/admin/delete_image?_token="+n,language:t,imageEditButtons:["imageReplace","imageAlign","imageRemove","|","imageLink","linkOpen","linkEdit","linkRemove","-","imageDisplay","imageStyle","imageAlt","imageSize","crop"]};if($(this).attr("toolbar")){var i=$(this).attr("toolbar"),a=i.split(",");a=$.map(a,$.trim),r.toolbarButtons=a,r.toolbarButtonsMD=a,r.toolbarButtonsSM=a,r.toolbarButtonsXS=a}if($(this).attr("inlinestyles")&&(r.inlineStyles=JSON.parse($(this).attr("inlinestyles"))),$(this).attr("options")){var o=JSON.parse($(this).attr("options"));for(var u in o)r[u]=o[u]}$(this).froalaEditor(r)}),$(".text_block").on("froalaEditor.initialized",function(e,t){$(this).parent().removeClass("no_active_froala")}),$(".group").on("keyup, blur","[data-multi=multi]",function(){TableBuilder.multiInputAction($(this))}),$(".group [data-multi=multi]").each(function(){TableBuilder.multiInputAction($(this))})},multiInputAction:function(e){var t=e.parents(".input_content").find("input"),n=[],r=e.parents(".tabs_section").find("input[type=hidden]");$(t).each(function(e){n.push($(this).val())}),r.val(JSON.stringify(n))},getActionUrl:function(e){return void 0!=e?e.parents("form").attr("action"):TableBuilder.action_url?TableBuilder.action_url:"/admin/handle/tree"},initSearchOnEnterPressed:function(){$(document).on("keypress",".filters-row input",function(e){"13"==(e.keyCode?e.keyCode:e.which)&&(TableBuilder.search(),e.preventDefault())})},getOptions:function(e){var t={lang:{},ident:null,table_ident:null,form_ident:null,action_url:null,list_url:null,is_page_form:!1,onSearchResponse:null,onFastEditResponse:null,onShowEditFormResponse:null},e=jQuery.extend(t,e);return TableBuilder.checkOptions(e),e},checkOptions:function(e){var t=["ident","table_ident","form_ident","action_url"];jQuery.each(t,function(t,n){null===typeof e[n]&&alert("TableBuilder: ["+n+"] is required option.")})},lang:function(e){return void 0!==TableBuilder.options.lang[e]?TableBuilder.options.lang[e]:e},search:function(){TableBuilder.showProgressBar();var e=$("form[target=submiter]"),t=e.serializeArray();t.push({name:"query_type",value:"search"}),t.push({name:"__node",value:TableBuilder.getUrlParameter("node")}),t=t.concat(e.find("input[type=checkbox]:not(:checked)").map(function(){return{name:this.name,value:0}}).get());var n=TableBuilder.getActionUrl();jQuery.post(n,t).done(function(e){doAjaxLoadContent(location.pathname)})},showProgressBar:function(){jQuery("#"+TableBuilder.options.ident).find(".ui-overlay").fadeIn()},hideProgressBar:function(){jQuery("#"+TableBuilder.options.ident).find(".ui-overlay").fadeOut()},showFastEdit:function(e){$(".fast-edit-buttons").hide(),$(e).parent().find(".fast-edit-buttons").show()},closeFastEdit:function(e,t,n){$(e).parent().hide()},saveFastEdit:function(e,t,n){var r=$(e).parent().parent(),i=r.find(".dblclick-edit-input").val();$("tr[id-row="+t+"] .element_"+n).text(i),TableBuilder.closeFastEdit(e);var a=[{name:"query_type",value:"fast_save"},{name:"id",value:t},{name:"name",value:n},{name:"value",value:i}];jQuery.post(TableBuilder.getActionUrl(),a)},activeToggle:function(e,t,n){var r=n?1:0,i=[{name:"query_type",value:"fast_save"},{name:"id",value:e},{name:"name",value:t},{name:"value",value:r}];$.post(TableBuilder.getActionUrl(),i)},getUrlParameter:function(e){for(var t=window.location.search.substring(1),n=t.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");if(i[0]==e)return i[1]}},getCreateForm:function(){jQuery(TableBuilder.form_edit).remove(),jQuery(TableBuilder.form).remove(),TableBuilder.showPreloader(),jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(),data:{query_type:"show_add_form"},dataType:"json",success:function(e){$(".table_form_create").html(e),jQuery(TableBuilder.form).modal("show"),TableBuilder.initFroalaEditor(),TableBuilder.hidePreloader(),TableBuilder.handleActionSelect(),TableBuilder.refreshMask()},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},refreshMask:function(){jQuery("#modal_form_edit form, #modal_form form").find("input[data-mask]").each(function(){var e=jQuery(this);e.mask(e.attr("data-mask"))})},initSelect2Hider:function(){jQuery(".modal-dialog").on("click",function(){jQuery('.select2-enabled[id^="many2many"]').select2("close"),jQuery(".select2-hidden-accessible").hide()})},getCloneForm:function(e,t){$.post(TableBuilder.getActionUrl(t),{query_type:"clone_record",id:e}).done(function(e){doAjaxLoadContent(location.href)}).fail(function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()})},handleStartLoad:function(){var e=Core.urlParam("id");$.isNumeric(e)&&TableBuilder.getEditForm(e);var t=Core.urlParam("revision_page");$.isNumeric(t)&&TableBuilder.getRevisions(t);var n=Core.urlParam("views_statistic");$.isNumeric(n)&&TableBuilder.getViewsStatistic(n)},doCustomAction:function(e){TableBuilder.showPreloader(),jQuery.ajax({type:"POST",url:e,data:{},dataType:"json",success:function(e){!0===e.status?jQuery.smallBox({title:e.message,content:"",color:"#659265",iconSmall:"fa fa-check fa-2x fadeInRight animated",timeout:4e3}):jQuery.smallBox({title:"Something went wrong, try again later",content:"",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3}),TableBuilder.hidePreloader()},error:function(){jQuery.smallBox({title:"Something went wrong, try again later",content:"",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:4e3})}})},getEditForm:function(e,t){var n="?id="+e;window.history.pushState(n,"",n),TableBuilder.showPreloader(),jQuery("#wid-id-1").find('tr[data-editing="true"]').removeAttr("data-editing");var r=[{name:"query_type",value:"show_edit_form"},{name:"id",value:e},{name:"__node",value:TableBuilder.getUrlParameter("node")}];jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(t),data:r,dataType:"json",success:function(e){e.status?($(TableBuilder.form_wrapper).html(e.html),$(TableBuilder.form_edit).modal("show").css("top",$(window).scrollTop()),TableBuilder.initFroalaEditor(),TableBuilder.handleActionSelect()):TableBuilder.showErrorNotification("Что-то пошло не так, попробуйте позже"),TableBuilder.hidePreloader()},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},getViewsStatistic:function(e,t){var n="?views_statistic="+e;window.history.pushState(n,"",n),TableBuilder.showPreloader();var r=[{name:"query_type",value:"show_views_statistic"},{name:"id",value:e}];jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl($(t)),data:r,dataType:"json",success:function(e){e.status?(jQuery(TableBuilder.form_wrapper).html(e.html),jQuery(TableBuilder.form_edit).modal("show").css("top",$(window).scrollTop())):TableBuilder.showErrorNotification("Что-то пошло не так, попробуйте позже"),TableBuilder.hidePreloader()},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},getRevisions:function(e,t){var n="?revision_page="+e;window.history.pushState(n,"",n),TableBuilder.showPreloader();var r=[{name:"query_type",value:"show_revisions"},{name:"id",value:e}];jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(t),data:r,dataType:"json",success:function(e){e.status?(jQuery(TableBuilder.form_wrapper).html(e.html),jQuery(TableBuilder.form_edit).modal("show").css("top",$(window).scrollTop())):TableBuilder.showErrorNotification("Что-то пошло не так, попробуйте позже"),TableBuilder.hidePreloader()},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},getReturnHistory:function(e){var t=[{name:"query_type",value:"return_revisions"},{name:"id",value:e}];jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(),data:t,dataType:"json",success:function(e){if(e.status)return TableBuilder.showSuccessNotification("Сохранено"),jQuery(TableBuilder.form_edit).modal("hide"),void window.history.back()
;TableBuilder.showErrorNotification("Что-то пошло не так, попробуйте позже"),TableBuilder.hidePreloader()},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},doDelete:function(e,t){jQuery.SmartMessageBox({title:phrase["Удалить?"],content:phrase["Эту операцию нельзя будет отменить."],buttons:"["+phrase["Нет"]+"]["+phrase["Да"]+"]"},function(n){n===phrase["Да"]&&(TableBuilder.showPreloader(),jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(t),data:{id:e,query_type:"delete_row",__node:TableBuilder.getUrlParameter("node")},dataType:"json",success:function(t){t.status?(TableBuilder.showSuccessNotification(phrase["Поле удалено успешно"]),jQuery('tr[id-row="'+e+'"]').remove()):TableBuilder.showErrorNotification(phrase["Что-то пошло не так, попробуйте позже"]),TableBuilder.onDoDelete&&TableBuilder.onDoDelete(TableBuilder.getActionUrl()),TableBuilder.hidePreloader()},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}}))})},doEdit:function(e,t,n,r){var i="#edit_form_"+t;TableBuilder.edit_form=i,TableBuilder.action_url=$(i).attr("action"),TableBuilder.showPreloader(),TableBuilder.showFormPreloader(TableBuilder.form_edit),$(".fr-popup").remove();var a=$(TableBuilder.edit_form).serializeArray();if(a.push({name:"id",value:e}),a.push({name:"query_type",value:"save_edit_form"}),a.push({name:"__node",value:TableBuilder.getUrlParameter("node")}),0!=$(".file_multi").size()){TableBuilder.buildFiles();for(var o in TableBuilder.files){var u=TableBuilder.files[o],l=JSON.stringify(u);a.push({name:o,value:l})}}a=a.concat(jQuery(TableBuilder.edit_form).find("input[type=checkbox]:not(:checked)").map(function(){return{name:this.name,value:0}}).get());var s=[];jQuery(TableBuilder.edit_form).find('select[multiple="multiple"]').each(function(e,t){$(this).val()||s.push({name:this.name,value:""})}),jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(),data:a,dataType:"json",success:function(i){if(TableBuilder.hideFormPreloader(TableBuilder.form_edit),i.id){if(""!=n&&""!=r)return ForeignDefinition.callbackForeignDefinition(n,r),void TableBuilder.doClosePopup(t);if(TableBuilder.showSuccessNotification(phrase["Сохранено"]),$(document).height($(window).height()),TableBuilder.options.is_page_form)return window.history.back(),void TableBuilder.doClosePopup(t);$(TableBuilder.form_edit).modal("hide"),$(document).height($(window).height()),$("#wid-id-1").find('tr[id-row="'+e+'"]').replaceWith(i.html),TableBuilder.onDoEdit&&TableBuilder.onDoEdit(TableBuilder.getActionUrl()),TableBuilder.clearParamsWithUrl(),TableBuilder.doClosePopup(t)}else{var a="";$(i.errors).each(function(e,t){a+=t+"<br>"}),TableBuilder.showBigErrorNotification(a)}TableBuilder.hidePreloader()},error:function(e,t,n){var r=$.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader(),TableBuilder.hideFormPreloader(TableBuilder.form_edit)}})},buildFiles:function(){$(".file_multi").each(function(e){var t=$(this).attr("nameident");TableBuilder.files[t]={}});var e=0;$(".file_multi").each(function(t){var n=$(this).attr("nameident");TableBuilder.files[n][e]=$(this).attr("value"),e++})},removeInputValues:function(e){jQuery(":input",e).removeAttr("checked").removeAttr("selected").not(':button, :submit, :reset, input[type="hidden"], :radio, :checkbox').val(""),jQuery("textarea",e).text(""),jQuery("input, textarea",e).removeClass("valid").removeClass("invalid"),jQuery(".state-success, .state-error",e).removeClass("state-success").removeClass("state-error")},doCreate:function(e,t,n){TableBuilder.create_form=e,TableBuilder.action_url=$(e).attr("action"),TableBuilder.showPreloader(),TableBuilder.showFormPreloader(TableBuilder.form),$(".fr-popup").remove();var r=jQuery(TableBuilder.create_form).serializeArray();if(r.push({name:"query_type",value:"save_add_form"}),r.push({name:"__node",value:TableBuilder.getUrlParameter("node")}),0!=$(".file_multi").size()){TableBuilder.buildFiles();for(var i in TableBuilder.files){var a=TableBuilder.files[i],o=JSON.stringify(a);r.push({name:i,value:o})}}var u=[];jQuery(TableBuilder.create_form).find('select[multiple="multiple"]').each(function(e,t){$(this).val()||u.push({name:this.name,value:""})}),r=r.concat(u),TableBuilder.onDoCreate&&(r=TableBuilder.onDoCreate(r)),r=r.concat(jQuery(TableBuilder.create_form).find("input[type=checkbox]:not(:checked)").map(function(){return{name:this.name,value:0}}).get()),jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(),data:r,dataType:"json",success:function(r){if(TableBuilder.hideFormPreloader(TableBuilder.form),r.id){if(""!=t&&""!=n)return void ForeignDefinition.callbackForeignDefinition(t,n);if(TableBuilder.handlerCreate)return void TableBuilder.handlerCreate(TableBuilder.getActionUrl(),r.id);if(TableBuilder.showSuccessNotification(phrase["Сохранено"]),TableBuilder.options.is_page_form)return void window.history.back();var i=$(e).parents("#modal_form");TableBuilder.removeInputValues(i),i.modal("hide"),"foreign_popup"==i.parent().attr("class")?i.remove():jQuery("#wid-id-1 .widget-body").find("tbody").prepend(r.html),TableBuilder.onDoCreate&&TableBuilder.onDoCreate(TableBuilder.getActionUrl())}else{var a="";jQuery(r.errors).each(function(e,t){a+=t+"<br>"}),TableBuilder.showBigErrorNotification(a)}TableBuilder.hidePreloader()},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader(),TableBuilder.hideFormPreloader(TableBuilder.form)}})},showPreloader:function(){$(TableBuilder.preloader).show()},hidePreloader:function(){$(TableBuilder.preloader).hide()},showFormPreloader:function(e){jQuery(TableBuilder.form_preloader,e).show()},hideFormPreloader:function(e){$(TableBuilder.form_preloader,e).hide()},uploadImage:function(e,t,n){var r=new FormData;r.append("image",e.files[0]),r.append("ident",t),r.append("query_type","upload_photo"),r.append("type","single_photo"),r.append("baseIdent",n),void 0!=TableBuilder.getUrlParameter("id_tree")&&r.append("page_id",TableBuilder.getUrlParameter("id_tree")),void 0!=TableBuilder.getUrlParameter("id")&&r.append("page_id",TableBuilder.getUrlParameter("id"));var i=$(e).parents(".picture_block").find(".progress-bar");jQuery.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){if(console.log(e),e.lengthComputable){var t=e.loaded/e.total;t*=100,t+="%",i.width(t)}},!1),e.addEventListener("progress",function(e){if(e.lengthComputable){e.loaded,e.total}},!1),e},data:r,type:"POST",url:TableBuilder.getActionUrl($(e)),cache:!1,contentType:!1,processData:!1,success:function(t){t.status?(i.width("0%"),$(e).parents(".picture_block").find(".tb-uploaded-image-container").html(t.html),$(e).parents(".picture_block").find("[type=hidden]").val(t.data.sizes.original)):TableBuilder.showErrorNotification(phrase["Ошибка при загрузке изображения"])},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},uploadMultipleImages:function(e,t,n){$(".no_photo").hide();for(var r=e.files,i=0;i<r.length;++i){var a=new FormData;a.append("image",e.files[i]),a.append("ident",t),a.append("baseIdent",n),a.append("query_type","upload_photo"),void 0!=TableBuilder.getUrlParameter("id_tree")&&a.append("page_id",TableBuilder.getUrlParameter("id_tree")),void 0!=TableBuilder.getUrlParameter("id")&&a.append("page_id",TableBuilder.getUrlParameter("id"));var o=jQuery(e).parent().parent().parent().parent().parent().find(".progress-bar");jQuery.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){if(console.log(e),e.lengthComputable){var t=e.loaded/e.total;t*=100,t+="%",o.width(t)}},!1),e.addEventListener("progress",function(e){if(e.lengthComputable){e.loaded,e.total}},!1),e},data:a,type:"POST",url:TableBuilder.getActionUrl(),cache:!1,contentType:!1,processData:!1,success:function(t){t.status?(o.width("0%"),$(e).parents(".multi_pictures").find(".tb-uploaded-image-container ul").append(t.html),TableBuilder.setInputImages(e)):TableBuilder.showErrorNotification(phrase["Ошибка при загрузке изображения"])},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})}},setInputImages:function(e){var t=new Array;$(e).parents(".multi_pictures").find(".tb-uploaded-image-container ul li img").each(function(e){t.push($(this).attr("data_src_original"))});var n=JSON.stringify(t);$(e).parents(".multi_pictures").find("[type=hidden]").val(n)},deleteImage:function(e){var t=$(e).parents(".multi_pictures").find("[type=file]");$(e).parent().parent().remove(),TableBuilder.setInputImages(t)},deleteSingleImage:function(e,t){var n=$(t).parent().parent(),r=$(t).parents(".picture_block").find("input[type=hidden]");n.hide(),r.val("")},doChangeSortingDirection:function(e,t){if(this.sort){var n=$(t),r=n.hasClass("sorting_asc"),i=r?"desc":"asc",a=[{name:"query_type",value:"change_direction"},{name:"direction",value:i},{name:"field",value:e},{name:"__node",value:TableBuilder.getUrlParameter("node")}];jQuery.ajax({data:a,type:"POST",url:TableBuilder.getActionUrl(),cache:!1,dataType:"json",success:function(e){doAjaxLoadContent(window.location.href)},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message)}})}},doClearOrder:function(){this.sort=!1,jQuery.ajax({data:[{name:"query_type",value:"clear_order_by"}],type:"POST",url:TableBuilder.getActionUrl(),cache:!1,dataType:"json",success:function(e){doAjaxLoadContent(window.location.href),TableBuilder.sort=!0},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.sort=!0}})},uploadFile:function(e,t){var n=new FormData;n.append("file",e.files[0]),n.append("query_type","upload_file"),n.append("ident",t),n.append("__node",TableBuilder.getUrlParameter("id_tree")),jQuery.ajax({data:n,type:"POST",url:TableBuilder.getActionUrl(),cache:!1,contentType:!1,processData:!1,success:function(t){if(t.status){var n='<a href="'+t.link+'" target="_blank">Скачать</a>';$(e).parents(".input-file").next().html(n),$(e).parents(".files_type_fields").find("input[type=text]").val(t.long_link)}else TableBuilder.showErrorNotification("Ошибка при загрузке файла")},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},uploadFileMulti:function(e,t){for(var n=e.files,r=0;r<n.length;++r){var i=new FormData;i.append("file",e.files[r]),i.append("query_type","upload_file"),i.append("ident",t),i.append("__node",TableBuilder.getUrlParameter("id_tree"));var a=jQuery(e).parent().parent().parent().parent().parent().find(".progress-bar");jQuery.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){if(console.log(e),e.lengthComputable){var t=e.loaded/e.total;t*=100,t+="%",a.width(t)}},!1),e.addEventListener("progress",function(e){if(e.lengthComputable){e.loaded,e.total}},!1),e},data:i,type:"POST",url:TableBuilder.getActionUrl(),cache:!1,contentType:!1,processData:!1,success:function(t){if(t.status){a.width("0%");var n="<li>"+t.short_link+'<a href="'+t.link+'" target="_blank" path="'+t.long_link+'">Скачать</a> <a class="delete" onclick="TableBuilder.doDeleteFile(this)">Удалить</a></li>';$(e).parents(".multi_files").find(".uploaded-files ul").append(n),TableBuilder.doSetInputFiles($(e).parents(".multi_files").find(".uploaded-files ul")),TableBuilder.doSortFileUpload()}else TableBuilder.showErrorNotification("Ошибка при загрузке файла")},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})}},selectImgInStorage:function(e){"one_file"==e.parents("tbody").attr("data-type")&&e.parents("tbody").find(".one_img_uploaded").removeClass("selected"),e.hasClass("selected")?e.removeClass("selected"):e.addClass("selected")},selectWithUploaded:function(e,t,n){var r=n.parents(".files_type_fields");r.find("#files_uploaded_table_"+e).show(),TableBuilder.thisFileElementInGroup=n;var i={query_type:"select_with_uploaded"};r.find("#files_uploaded_table_"+e+" tbody").html('<tr><td colspan="5" style="text-align: center">Загрузка...</td></tr>'),$.post(TableBuilder.getActionUrl(n),i,function(e){r.find("tbody").html(e.data),r.find("tbody").attr("data-type",t)},"json")},selectWithUploadedImages:function(e,t,n,r,i){TableBuilder.thisPictureElementInGroup=n;var a=n.parents(".pictures_input_field");a.find("#files_uploaded_table_"+e).show();var o={query_type:"select_with_uploaded_images",ident:e,baseName:r,page_id:i};a.find("#files_uploaded_table_"+e+" tbody").html('<tr><td colspan="5" style="text-align: center">Загрузка...</td></tr>'),$.post(TableBuilder.getActionUrl(n),o,function(n){a.find("#files_uploaded_table_"+e+" tbody").html(n.data),a.find("#files_uploaded_table_"+e+" tbody").attr("data-type",t)},"json")},selectFilesUploaded:function(e,t){if("multi"==t)$("#files_uploaded_table_"+e+" input:checked").each(function(t){var n="<li> "+$(this).attr("data-basename")+' <a href="'+$(this).val()+'" target="_blank" path ="'+$(this).val()+'">Скачать</a> <a class="delete" onclick="TableBuilder.doDeleteFile(this)">Удалить</a></li>';$(".tb-uploaded-file-container-"+e+" .ui-sortable").append(n)}),TableBuilder.doSetInputFiles($(".tb-uploaded-file-container-"+e+" ul")),TableBuilder.doSortFileUpload();else{var n=$("#files_uploaded_table_"+e+" input:checked").val(),r=TableBuilder.thisFileElementInGroup.parent().find("input[type=text]");r.val(n),r.parents(".input-file").next().html('<a href="'+n+'" target="_blank">Скачать</a> | <a class="delete" style="color:red;" onclick="$(this).parents(\'.files_type_fields\').find(\'input[type=text]\').val(\'\'); $(this).parent().hide()">Удалить</a>')}$(".files_uploaded_table").hide()},selectImageUploaded:function(e,t){var n=TableBuilder.thisPictureElementInGroup.parents(".pictures_input_field");if("multi"==t)n.find("#files_uploaded_table_"+e+" .one_img_uploaded.selected img").each(function(t){var r=$(this).attr("data-path"),i='<li><img src="/'+r+'" data_src_original = "'+r+'" width="120px"><div class="tb-btn-delete-wrap"><button class="btn2 btn-default btn-sm tb-btn-image-delete" type="button" onclick="TableBuilder.deleteImage(this);"><i class="fa fa-times"></i></button></div></li>';n.find(".tb-uploaded-image-container_"+e+" ul").append(i),TableBuilder.setInputImages(".tb-uploaded-image-container_"+e),$(".no_photo").hide()});else{var r=n.find("#files_uploaded_table_"+e+" .one_img_uploaded.selected img").attr("data-path");void 0!=r&&(n.find("[type=hidden]").val(r),n.find(".image-container_"+e).html('<div style="position: relative; display: inline-block;"><img src="/'+r+'" width="200px"><div class="tb-btn-delete-wrap"><button class="btn btn-default btn-sm tb-btn-image-delete" type="button" onclick="TableBuilder.deleteSingleImage(\'picture\', this);"><i class="fa fa-times"></i></button></div></div>'))}n.find("tbody").html(""),$(".files_uploaded_table").hide()},closeWindowWithPictures:function(){$(".files_uploaded_table tbody").html(""),$(".files_uploaded_table").hide()},doSetInputFiles:function(e){var t=new Array;$(e).find("li a").each(function(e){null!=$(this).attr("path")&&t.push($(this).attr("path"))});var n=JSON.stringify(t);"[]"==n&&(n=""),$(e).parent().parent().parent().find("[type=hidden]").val(n)},doDeleteFile:function(e){var t=$(e).parent().parent();return $(e).parent().remove(),TableBuilder.doSetInputFiles(t),!1},changeGalleryAndTags:function(e){var t=e.parents(".filter_gallary_images").find("[name=id_gallery]").val(),n=e.parents(".filter_gallary_images").find("[name=id_tag]").val(),r=e.parents(".filter_gallary_images").find("[name=q]").val(),i=e.parents(".filter_gallary_images").find("[name=ident]").val(),a=e.parents(".filter_gallary_images").find("[name=baseName]").val(),o={query_type:"select_with_uploaded_images",ident:i,baseName:a,tag:n,gallary:t,q:r},u=e.parents("tbody");$.post(TableBuilder.getActionUrl(),o,function(e){u.html(e.data)})},doSortFileUpload:function(){$(".uploaded-files ul").sortable({items:"> li",update:function(e,t){TableBuilder.doSetInputFiles($(this))}})},showErrorNotification:function(e){jQuery.smallBox({title:e,content:"",color:"#C46A69",iconSmall:"fa fa-times fa-2x fadeInRight animated",timeout:1e4,class:"error"})},showSuccessNotification:function(e){jQuery.smallBox({title:e,content:"",color:"#659265",iconSmall:"fa fa-check fadeInRight animated",timeout:3e3})},setPerPageAmount:function(e){TableBuilder.showProgressBar();var t={query_type:"set_per_page",per_page:e,__node:TableBuilder.getUrlParameter("node")};jQuery.post(TableBuilder.getActionUrl(),t).done(function(e){doAjaxLoadContent(location.href)})},doExport:function(e,t){var n=$(TableBuilder.export_form).serializeArray();n.push({name:"type",value:e}),n.push({name:"query_type",value:"export"});var r=new Array;if($.each(n,function(e,t){r.push(t.name+"="+t.value)}),void 0==t&&(t=document.location.pathname),document.location.search)var i=t+document.location.search+"&"+r.join("&");else var i=t+"?"+r.join("&");location.href=i},flushStorage:function(){TableBuilder.storage={}},showBigErrorNotification:function(e){jQuery.bigBox({content:e,color:"#C46A69",icon:"fa fa-warning shake animated"})},doImport:function(e,t,n){void 0==n&&(n=TableBuilder.getActionUrl()),TableBuilder.showPreloader();var r=new FormData;r.append("file",e.files[0]),r.append("type",t),r.append("query_type","import"),jQuery.SmartMessageBox({title:"Произвести импорт?",content:"Результат импорта нельзя отменить",buttons:"[Нет][Да]"},function(e){"Да"===e?jQuery.ajax({data:r,type:"POST",url:n,cache:!1,contentType:!1,processData:!1,success:function(e){if(e.status)e.callback&&window[e.callback]?window[e.callback](e):TableBuilder.showSuccessNotification("Импорт прошел успешно");else if(void 0===e.errors)TableBuilder.showErrorNotification("Что-то пошло не так");else{var t="";jQuery(e.errors).each(function(e,n){t+=n+"<br>"}),TableBuilder.showBigErrorNotification(t)}TableBuilder.hidePreloader()},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}}):TableBuilder.hidePreloader()})},doDownloadImportTemplate:function(e){TableBuilder.showPreloader();var t=jQuery("#submiter"),n=new Array;n.push("type="+e),n.push("query_type=get_import_template");var r=document.location.pathname+"?"+n.join("&");t.attr("src",r),TableBuilder.hidePreloader()},doSelectAllMultiCheckboxes:function(e){var t=jQuery("input",e).is(":checked");jQuery(".multi-checkbox input").prop("checked",t)},doMultiActionCall:function(e){TableBuilder.showPreloader();var t=[];$("tbody .multi-checkbox [type=checkbox]:checked").each(function(){t.push($(this).val())});var n=[];n.push({name:"type",value:e}),n.push({name:"query_type",value:"multi_action"}),n.push({name:"__node",value:TableBuilder.getUrlParameter("node")}),n.push({name:"multi_ids",value:t}),jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(),data:n,dataType:"json",success:function(e){if(e.status)e.is_hide_rows&&$(e.ids).each(function(e,t){$('tr[id-row="'+t+'"]').remove()}),TableBuilder.showSuccessNotification(e.message);else if(void 0===e.errors)TableBuilder.showErrorNotification("Что-то пошло не так");else{var t="";jQuery(e.errors).each(function(e,n){t+=n+"<br>"}),TableBuilder.showBigErrorNotification(t)}TableBuilder.hidePreloader()},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},doMultiActionCallWithOption:function(e,t,n){TableBuilder.showPreloader();var r=jQuery("#"+TableBuilder.options.table_ident).serializeArray();r.push({name:"type",value:t}),r.push({name:"option",value:n}),r.push({name:"query_type",value:"multi_action_with_option"}),r.push({name:"__node",value:TableBuilder.getUrlParameter("node")}),jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(),data:r,dataType:"json",success:function(t){if(jQuery(e).parent().parent().parent().removeClass("open"),t.status)t.is_hide_rows&&jQuery(t.ids).each(function(e,t){jQuery('tr[id-row="'+t+'"]',"#"+TableBuilder.options.table_ident).remove()}),TableBuilder.showSuccessNotification(t.message);else if(void 0===t.errors)TableBuilder.showErrorNotification(phrase["Что-то пошло не так, попробуйте позже"]);else{var n="";jQuery(t.errors).each(function(e,t){n+=t+"<br>"}),TableBuilder.showBigErrorNotification(n)}TableBuilder.hidePreloader()},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},saveOrder:function(e){jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(),data:{order:e,params:TableBuilder.getUrlParameter("page"),query_type:"change_order"},dataType:"json",success:function(e){e.status?TableBuilder.showSuccessNotification(phrase["Порядок следования изменен"]):e.message?TableBuilder.showErrorNotification(e.message):TableBuilder.showErrorNotification(phrase["Что-то пошло не так, попробуйте позже"])},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},openImageStorageModal:function(e,t){jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(),data:{query_type:"image_storage",storage_type:"show_modal",__node:TableBuilder.getUrlParameter("node"),storage_type_select:t},dataType:"json",success:function(n){n.status?($(TableBuilder.image_storage_wrapper).html(n.html),$(".image_storage_wrapper").show(),$(".tb-modal:visible").addClass("superbox-modal-hide").hide(),Superbox.input=$(e).parent().parent().find("input"),Superbox.type_select=t):TableBuilder.showErrorNotification(phrase["Что-то пошло не так, попробуйте позже"])},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},closeImageStorageModal:function(){$(".image_storage_wrapper").hide(),$(".superbox-modal-hide").removeClass("superbox-modal-hide").show()},openFileStorageModal:function(e){jQuery.ajax({type:"POST",url:TableBuilder.getActionUrl(),data:{query_type:"file_storage",storage_type:"show_modal",__node:TableBuilder.getUrlParameter("node")},dataType:"json",success:function(t){t.status?($(TableBuilder.image_storage_wrapper).html(t.html),$(".image_storage_wrapper").show(),$(".tb-modal:visible").addClass("superbox-modal-hide").hide(),FileStorage.input=$(e).parent().parent().find("input")):TableBuilder.showErrorNotification(phrase["Что-то пошло не так, попробуйте позже"])},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message),TableBuilder.hidePreloader()}})},reLoadTable:function(){},addGroup:function(e){var t=$(e).parent().find(".section_group").first().clone();$(t).find("input[data-multi=multi]").size()>1&&$(t).find("input[data-multi=multi]").not(":first").remove(),$(t).find("input, textarea").val(""),$(t).find(".tb-uploaded-image-container").html("<ul class='dop_foto'></ul>"),$(t).find(".uploaded-files").html("<ul class='ui-sortable'></ul>"),$(t).find(".tb-uploaded-file-container").html(""),$(e).parent().find(".other_section").append(t),TableBuilder.refreshMask()},deleteGroup:function(e){var t=$(e).parents(".group").find(".section_group").size(),n=$(e).parents(".section_group");1==t?($(n).find("input, textarea").val(""),$(n).find(".tb-uploaded-image-container").html("")):$(n).remove()},handleActionSelect:function(){var e=$("select.action");if(0!=e.size()){var t=e.val();TableBuilder.checkActionSelect(t),e.change(function(){var t=e.val();TableBuilder.checkActionSelect(t)})}},checkActionSelect:function(e){$("section.section_field").hide(),$("section.section_field."+e).show()},doActiveMenu:function(){var e=window.location.pathname;$('nav a[href="'+e+'"]').parent().addClass("active"),$('nav a[href="'+e+'"]').parents(".level1").hasClass("active")||$('nav a[href="'+e+'"]').parents(".level1").addClass("open"),$('nav a[href="'+e+'"]').parents(".level1").find("ul").show()},urlRusLat:function(e){e=e.toLowerCase();for(var t=new Array(["а","a"],["б","b"],["в","v"],["г","g"],["д","d"],["е","e"],["є","ye"],["ё","yo"],["ж","zh"],["з","z"],["і","i"],["и","i"],["й","y"],["к","k"],["л","l"],["м","m"],["н","n"],["о","o"],["п","p"],["р","r"],["с","s"],["т","t"],["у","u"],["ф","f"],["х","h"],["ц","c"],["ч","ch"],["ш","sh"],["щ","shch"],["ъ",""],["ы","y"],["ь",""],["э","e"],["ю","yu"],["я","ya"],["А","A"],["Б","B"],["В","V"],["Г","G"],["Д","D"],["Е","E"],["Ё","YO"],["Ж","ZH"],["З","Z"],["И","I"],["Й","Y"],["К","K"],["Л","L"],["М","M"],["Н","N"],["О","O"],["П","P"],["Р","R"],["С","S"],["Т","T"],["У","U"],["Ф","F"],["Х","H"],["Ц","C"],["Ч","CH"],["Ш","SH"],["Щ","SHCH"],["Ъ",""],["Ы","Y"],["Ь",""],["Э","E"],["Ю","YU"],["Я","YA"],["a","a"],["b","b"],["c","c"],["d","d"],["e","e"],["f","f"],["g","g"],["h","h"],["i","i"],["j","j"],["k","k"],["l","l"],["m","m"],["n","n"],["o","o"],["p","p"],["q","q"],["r","r"],["s","s"],["t","t"],["u","u"],["v","v"],["w","w"],["x","x"],["y","y"],["z","z"],["A","A"],["B","B"],["C","C"],["D","D"],["E","E"],["F","F"],["G","G"],["H","H"],["I","I"],["J","J"],["K","K"],["L","L"],["M","M"],["N","N"],["O","O"],["P","P"],["Q","Q"],["R","R"],["S","S"],["T","T"],["U","U"],["V","V"],["W","W"],["X","X"],["Y","Y"],["Z","Z"],[" ","-"],["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["-","-"]),n=new String,r=0;r<e.length;r++){for(var i=e.charAt(r),a="",o=0;o<t.length;o++)i==t[o][0]&&(a=t[o][1]);n+=a}return n.replace(/[_]{2,}/gim,"_").replace(/\n/gim,"")},doClosePopup:function(e){$(".modal_form_"+e).parent().hasClass("modal_popup_first")&&TableBuilder.hideBackgroundForm();try{TableBuilder.destroyFroala(e)}catch(e){}$(".modal_form_"+e).remove()},destroyFroala:function(e){var t=".modal_form_"+e+" .text_block";$(t).each(function(e){$(this).froalaEditor("destroy")})},hideBackgroundForm:function(){$("body").removeClass("modal-open").css("padding-right","0"),$(".modal-backdrop").remove(),$("#table-preloader").hide(),TableBuilder.clearParamsWithUrl()},clearParamsWithUrl:function(){var e=Core.delPrm("id");void 0!=e&&window.history.pushState(e,"",e)},initSortableValue:function(e){e.length&&e.find(".sortable-values").sortable({items:".sortable-item",handle:".sortable-handler",axis:"y",update:function(t,n){TableBuilder.updateSortableValue(e)}}).disableSelection()},updateSortableValue:function(e){var t=e.find(".sortable-item"),n=[],r=e.find("[data-sortable-result]");t.each(function(){var e=$(this).find("input[data-option-activation]");e.length?e.is(":checked")&&n.push(this.getAttribute("data-value")):n.push(this.getAttribute("data-value"))}),r.val(n.join(","))}};$(document).on("change",'[data-interface="sortable"] [data-option-activation]',function(){var e=$(this).closest('[data-interface="sortable"]');TableBuilder.updateSortableValue(e)}),$(window).load(function(){TableBuilder.handleStartLoad(),TableBuilder.initSearchOnEnterPressed(),$(document).on("click","a.node_link",function(e){var t=$(this).attr("href");doAjaxLoadContent(t),e.preventDefault()})}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var ForeignDefinition={createDefinition:function(e,t,n,r){var i=jQuery.parseJSON(n),a=i.definition,o=i.foreign_field;if(void 0==r){var u=e.parent().find(".loader_create_definition");return u.removeClass("hide").text("Сохранение данных.."),e.parents("form").submit(),void(TableBuilder.handlerCreate=function(r,i){jQuery.ajax({type:"POST",url:r,data:{id:i,query_type:"show_edit_form"},dataType:"json",success:function(r){$(".table_form_create").html(r.html),$(".table_form_create #modal_form_edit").addClass("in").show(),e=$(".table_form_create #"+e.attr("id")),TableBuilder.initFroalaEditor(),TableBuilder.refreshMask(),TableBuilder.handleActionSelect(),u.addClass("hide"),ForeignDefinition.sendRequestForShowDefinition(e,t,a,i,o,n)},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message)}})})}ForeignDefinition.sendRequestForShowDefinition(e,t,a,r,o,n)},sendRequestForShowDefinition:function(e,t,n,r,i,a){var o=e.parent().find(".loader_create_definition");o.removeClass("hide").text("Загрузка окна..."),jQuery.ajax({type:"POST",url:"/admin/handle/"+n,data:{query_type:"show_add_form",foreign_field_id:r,foreign_field:i,foreign_attributes:a},success:function(e){$(".foreign_popups").append(e),o.addClass("hide"),ForeignDefinition.afterOpenPopup(t)},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message)}})},callbackForeignDefinition:function(e,t){var n=jQuery.parseJSON(t);TableBuilder.doClosePopup(n.table),$(".definition_"+n.name+" .loader_definition").show(),jQuery.ajax({type:"POST",url:"/admin/handle/"+n.definition,data:{id:e,paramsJson:t,query_type:"get_html_foreign_definition"},dataType:"json",success:function(e){e.html&&($(".definition_"+n.name).html(e.html),void 0!=n.sortable?$(".definition_"+n.name+" tbody").sortable({handle:".handle",update:function(e,n){ForeignDefinition.changePosition($(this),t)}}):$(".definition_"+n.name+" .col_sort").hide(),void 0!=n.only_once&&(e.count_records?$(".definition_"+n.name).parent().find(".btn-success").hide():$(".definition_"+n.name).parent().find(".btn-success").show()))},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message)}})},delete:function(e,t,n){jQuery.SmartMessageBox({title:phrase["Удалить?"],content:phrase["Эту операцию нельзя будет отменить."],buttons:"["+phrase["Нет"]+"]["+phrase["Да"]+"]"},function(r){if(r===phrase["Да"]){var i=jQuery.parseJSON(n);$(".definition_"+i.name+" .loader_definition").show(),jQuery.ajax({type:"POST",url:"/admin/handle/"+i.definition,data:{idDelete:e,id:t,paramsJson:n,query_type:"delete_foreign_row"},dataType:"json",success:function(e){e.html&&($(".definition_"+i.name).html(e.html),TableBuilder.showSuccessNotification("Удалено"),void 0!=i.only_once&&(e.count_records?$(".definition_"+i.name).parent().find(".btn-success").hide():$(".definition_"+i.name).parent().find(".btn-success").show()))},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message)}})}})},edit:function(e,t,n){var r=jQuery.parseJSON(n),i=$(".loader_definition_"+r.name);i.removeClass("hide").text("Загрузка окна..."),jQuery.ajax({type:"POST",url:"/admin/handle/"+r.definition,data:{id:e,idUpdate:t,foreign_attributes:n,foreign_field:r.foreign_field,foreign_field_id:t,query_type:"show_edit_form"},dataType:"json",success:function(e){$(".foreign_popups").append(e.html),i.addClass("hide"),ForeignDefinition.afterOpenPopup(r.table)},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message)}})},afterOpenPopup:function(e){$(".foreign_popups .fade").addClass("in").show(),$(".modal_form_"+e).css("top",$(window).scrollTop()+50),$(".modal-dialog").draggable({handle:".modal-header"}),TableBuilder.initFroalaEditor(e)},changePosition:function(e,t){var n=new Array;e.find("tr").each(function(e){n.push($(this).attr("data-id"))});var r=JSON.stringify(n),i=jQuery.parseJSON(t);jQuery.ajax({type:"POST",url:"/admin/handle/"+i.definition,data:{paramsJson:t,idsPosition:r,query_type:"change_position"},dataType:"json",success:function(e){TableBuilder.showSuccessNotification("Порядок сохранен")},error:function(e,t,n){var r=jQuery.parseJSON(e.responseText);TableBuilder.showErrorNotification(r.message)}})}};!function(){function e(e){for(var t=-1,n=e.length,r=[];++t<n;)r.push(e[t]);return r}function t(e){return Array.prototype.slice.call(e)}function n(){}function r(e){return e}function i(){return this}function a(){return!0}
function o(e){return"function"==typeof e?e:function(){return e}}function u(e,t,n){return function(){var r=n.apply(t,arguments);return arguments.length?e:r}}function l(e){return null!=e&&!isNaN(e)}function s(e){return e.length}function c(e){return null==e}function f(e){return e.trim().replace(/\s+/g," ")}function d(e){for(var t=1;e*t%1;)t*=10;return t}function h(){}function p(e){function t(){for(var t,n=r,i=-1,a=n.length;++i<a;)(t=n[i].on)&&t.apply(this,arguments);return e}var r=[],i=new n;return t.on=function(t,n){var a,o=i.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,r=r.slice(0,a=r.indexOf(o)).concat(r.slice(a+1)),i.remove(t)),n&&r.push(i.set(t,{on:n})),e)},t}function g(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function m(e){return e+""}function y(e){for(var t=e.lastIndexOf("."),n=t>=0?e.substring(t):(t=e.length,""),r=[];t>0;)r.push(e.substring(t-=3,t+3));return r.reverse().join(",")+n}function v(e,t){var n=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function b(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function x(e){return function(t){return 1-e(1-t)}}function _(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function w(e){return e}function T(e){return function(t){return Math.pow(t,e)}}function M(e){return 1-Math.cos(e*Math.PI/2)}function S(e){return Math.pow(2,10*(e-1))}function k(e){return 1-Math.sqrt(1-e*e)}function N(e,t){var n;return arguments.length<2&&(t=.45),arguments.length<1?(e=1,n=t/4):n=t/(2*Math.PI)*Math.asin(1/e),function(r){return 1+e*Math.pow(2,10*-r)*Math.sin(2*(r-n)*Math.PI/t)}}function C(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function j(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function B(){Hr.event.stopPropagation(),Hr.event.preventDefault()}function A(){for(var e,t=Hr.event;e=t.sourceEvent;)t=e;return t}function E(e){for(var t=new h,n=0,r=arguments.length;++n<r;)t[arguments[n]]=p(t);return t.of=function(n,r){return function(i){try{var a=i.sourceEvent=Hr.event;i.target=e,Hr.event=i,t[i.type].apply(n,r)}finally{Hr.event=a}}},t}function D(e){var t=[e.a,e.b],n=[e.c,e.d],r=O(t),i=P(t,n),a=O($(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*ii,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*ii:0}function P(e,t){return e[0]*t[0]+e[1]*t[1]}function O(e){var t=Math.sqrt(P(e,e));return t&&(e[0]/=t,e[1]/=t),t}function $(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function F(e){return"transform"==e?Hr.interpolateTransform:Hr.interpolate}function q(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function L(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function I(e,t,n){return new R(e,t,n)}function R(e,t,n){this.r=e,this.g=t,this.b=n}function H(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function U(e,t,n){var r,i,a,o=0,u=0,l=0;if(r=/([a-z]+)\((.*)\)/i.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Y(i[0]),Y(i[1]),Y(i[2]))}return(a=ui.get(e))?t(a.r,a.g,a.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(o=e.charAt(1),o+=o,u=e.charAt(2),u+=u,l=e.charAt(3),l+=l):7===e.length&&(o=e.substring(1,3),u=e.substring(3,5),l=e.substring(5,7)),o=parseInt(o,16),u=parseInt(u,16),l=parseInt(l,16)),t(o,u,l))}function z(e,t,n){var r,i,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),u=o-a,l=(o+a)/2;return u?(i=l<.5?u/(o+a):u/(2-o-a),r=e==o?(t-n)/u+(t<n?6:0):t==o?(n-e)/u+2:(e-t)/u+4,r*=60):i=r=0,V(r,i,l)}function Q(e,t,n){e=W(e),t=W(t),n=W(n);var r=ae((.4124564*e+.3575761*t+.1804375*n)/si),i=ae((.2126729*e+.7151522*t+.072175*n)/ci);return ee(116*i-16,500*(r-i),200*(i-ae((.0193339*e+.119192*t+.9503041*n)/fi)))}function W(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Y(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function V(e,t,n){return new X(e,t,n)}function X(e,t,n){this.h=e,this.s=t,this.l=n}function J(e,t,n){function r(e){return e>360?e-=360:e<0&&(e+=360),e<60?a+(o-a)*e/60:e<180?o:e<240?a+(o-a)*(240-e)/60:a}function i(e){return Math.round(255*r(e))}var a,o;return e%=360,e<0&&(e+=360),t=t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,o=n<=.5?n*(1+t):n+t-n*t,a=2*n-o,I(i(e+120),i(e),i(e-120))}function Z(e,t,n){return new G(e,t,n)}function G(e,t,n){this.h=e,this.c=t,this.l=n}function K(e,t,n){return ee(n,Math.cos(e*=Math.PI/180)*t,Math.sin(e)*t)}function ee(e,t,n){return new te(e,t,n)}function te(e,t,n){this.l=e,this.a=t,this.b=n}function ne(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return i=ie(i)*si,r=ie(r)*ci,a=ie(a)*fi,I(oe(3.2404542*i-1.5371385*r-.4985314*a),oe(-.969266*i+1.8760108*r+.041556*a),oe(.0556434*i-.2040259*r+1.0572252*a))}function re(e,t,n){return Z(Math.atan2(n,t)/Math.PI*180,Math.sqrt(t*t+n*n),e)}function ie(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ae(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function oe(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ue(e){return zr(e,yi),e}function le(e){return function(){return di(e,this)}}function se(e){return function(){return hi(e,this)}}function ce(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function a(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function u(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=Hr.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?u:o:e.local?a:i}function fe(e){return new RegExp("(?:^|\\s+)"+Hr.requote(e)+"(?:\\s+|$)","g")}function de(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=e.trim().split(/\s+/).map(he);var i=e.length;return"function"==typeof t?r:n}function he(e){var t=fe(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.className,a=null!=i.baseVal,o=a?i.baseVal:i;r?(t.lastIndex=0,t.test(o)||(o=f(o+" "+e),a?i.baseVal=o:n.className=o)):o&&(o=f(o.replace(t," ")),a?i.baseVal=o:n.className=o)}}function pe(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function a(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?a:i}function ge(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function me(e){return{__data__:e}}function ye(e){return function(){return mi(this,e)}}function ve(e){return arguments.length||(e=Hr.ascending),function(t,n){return e(t&&t.__data__,n&&n.__data__)}}function be(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function i(){function i(e){var n=Hr.event;Hr.event=e,u[0]=o.__data__;try{t.apply(o,u)}finally{Hr.event=n}}var o=this,u=arguments;r.call(this),this.addEventListener(e,this[a]=i,i.$=n),i._=t}var a="__on"+e,o=e.indexOf(".");return o>0&&(e=e.substring(0,o)),t?i:r}function xe(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,a=e[n],o=0,u=a.length;o<u;o++)(i=a[o])&&t(i,o,n);return e}function _e(e){return zr(e,bi),e}function we(e,t,r){zr(e,xi);var i=new n,a=Hr.dispatch("start","end"),o=ki;return e.id=t,e.time=r,e.tween=function(t,n){return arguments.length<2?i.get(t):(null==n?i.remove(t):i.set(t,n),e)},e.ease=function(t){return arguments.length?(o="function"==typeof t?t:Hr.ease.apply(Hr,arguments),e):o},e.each=function(t,n){return arguments.length<2?Te.call(e,t):(a.on(t,n),e)},Hr.timer(function(n){return xe(e,function(e,u,l){function s(n){return g.active>t?f():(g.active=t,i.forEach(function(t,n){(n=n.call(e,m,u))&&d.push(n)}),a.start.call(e,m,u),c(n)||Hr.timer(c,0,r),1)}function c(n){if(g.active!==t)return f();for(var r=(n-h)/p,i=o(r),l=d.length;l>0;)d[--l].call(e,i);return r>=1?(f(),wi=t,a.end.call(e,m,u),wi=0,1):void 0}function f(){return--g.count||delete e.__transition__,1}var d=[],h=e.delay,p=e.duration,g=(e=e.node).__transition__||(e.__transition__={active:0,count:0}),m=e.__data__;++g.count,h<=n?s(n):Hr.timer(s,h,r)})},0,r),e}function Te(e){var t=wi,n=ki,r=Mi,i=Si;return wi=this.id,ki=this.ease(),xe(this,function(t,n,r){Mi=t.delay,Si=t.duration,e.call(t=t.node,t.__data__,n,r)}),wi=t,ki=n,Mi=r,Si=i,this}function Me(e,t,n){return""!=n&&ji}function Se(e,t){return Hr.tween(e,F(t))}function ke(){for(var e,t=Date.now(),n=Bi;n;)e=t-n.then,e>=n.delay&&(n.flush=n.callback(e)),n=n.next;var r=Ne()-t;r>24?(isFinite(r)&&(clearTimeout(Ci),Ci=setTimeout(ke,r)),Ni=0):(Ni=1,Ai(ke))}function Ne(){for(var e=null,t=Bi,n=1/0;t;)t.flush?t=e?e.next=t.next:Bi=t.next:(n=Math.min(n,t.then+t.delay),t=(e=t).next);return n}function Ce(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ei<0&&(window.scrollX||window.scrollY)){n=Hr.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var i=n[0][0].getScreenCTM();Ei=!(i.f||i.e),n.remove()}return Ei?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}function je(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Be(e){return e.rangeExtent?e.rangeExtent():je(e.range())}function Ae(e,t){var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),(t=t(o-a))&&(e[r]=t.floor(a),e[i]=t.ceil(o)),e}function Ee(){return Math}function De(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Ie:Le,l=r?L:q;return o=i(e,t,l,n),u=i(t,e,l,Hr.interpolate),a}function a(e){return o(e)}var o,u;return a.invert=function(e){return u(e)},a.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},a.range=function(e){return arguments.length?(t=e,i()):t},a.rangeRound=function(e){return a.range(e).interpolate(Hr.interpolateRound)},a.clamp=function(e){return arguments.length?(r=e,i()):r},a.interpolate=function(e){return arguments.length?(n=e,i()):n},a.ticks=function(t){return Fe(e,t)},a.tickFormat=function(t){return qe(e,t)},a.nice=function(){return Ae(e,Oe),i()},a.copy=function(){return De(e,t,n,r)},i()}function Pe(e,t){return Hr.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Oe(e){return(e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1))&&{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function $e(e,t){var n=je(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Fe(e,t){return Hr.range.apply(Hr,$e(e,t))}function qe(e,t){return Hr.format(",."+Math.max(0,-Math.floor(Math.log($e(e,t)[2])/Math.LN10+.01))+"f")}function Le(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function Ie(e,t,n,r){var i=[],a=[],o=0,u=Math.min(e.length,t.length)-1;for(e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=u;)i.push(n(e[o-1],e[o])),a.push(r(t[o-1],t[o]));return function(t){var n=Hr.bisect(e,t,1,u)-1;return a[n](i[n](t))}}function Re(e,t){function n(n){return e(t(n))}var r=t.pow;return n.invert=function(t){return r(e.invert(t))},n.domain=function(i){return arguments.length?(t=i[0]<0?Ue:He,r=t.pow,e.domain(i.map(t)),n):e.domain().map(r)},n.nice=function(){return e.domain(Ae(e.domain(),Ee)),n},n.ticks=function(){var n=je(e.domain()),i=[];if(n.every(isFinite)){var a=Math.floor(n[0]),o=Math.ceil(n[1]),u=r(n[0]),l=r(n[1]);if(t===Ue)for(i.push(r(a));a++<o;)for(var s=9;s>0;s--)i.push(r(a)*s);else{for(;a<o;a++)for(var s=1;s<10;s++)i.push(r(a)*s);i.push(r(a))}for(a=0;i[a]<u;a++);for(o=i.length;i[o-1]>l;o--);i=i.slice(a,o)}return i},n.tickFormat=function(e,i){if(arguments.length<2&&(i=Di),arguments.length<1)return i;var a,o=Math.max(.1,e/n.ticks().length),u=t===Ue?(a=-1e-12,Math.floor):(a=1e-12,Math.ceil);return function(e){return e/r(u(t(e)+a))<=o?i(e):""}},n.copy=function(){return Re(e.copy(),t)},Pe(n,e)}function He(e){return Math.log(e<0?0:e)/Math.LN10}function Ue(e){return-Math.log(e>0?0:-e)/Math.LN10}function ze(e,t){function n(t){return e(r(t))}var r=Qe(t),i=Qe(1/t);return n.invert=function(t){return i(e.invert(t))},n.domain=function(t){return arguments.length?(e.domain(t.map(r)),n):e.domain().map(i)},n.ticks=function(e){return Fe(n.domain(),e)},n.tickFormat=function(e){return qe(n.domain(),e)},n.nice=function(){return n.domain(Ae(n.domain(),Oe))},n.exponent=function(e){if(!arguments.length)return t;var a=n.domain();return r=Qe(t=e),i=Qe(1/t),n.domain(a)},n.copy=function(){return ze(e.copy(),t)},Pe(n,e)}function Qe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function We(e,t){function r(t){return o[((a.get(t)||a.set(t,e.push(t)))-1)%o.length]}function i(t,n){return Hr.range(e.length).map(function(e){return t+n*e})}var a,o,u;return r.domain=function(i){if(!arguments.length)return e;e=[],a=new n;for(var o,u=-1,l=i.length;++u<l;)a.has(o=i[u])||a.set(o,e.push(o));return r[t.t].apply(r,t.a)},r.range=function(e){return arguments.length?(o=e,u=0,t={t:"range",a:arguments},r):o},r.rangePoints=function(n,a){arguments.length<2&&(a=0);var l=n[0],s=n[1],c=(s-l)/(e.length-1+a);return o=i(e.length<2?(l+s)/2:l+c*a/2,c),u=0,t={t:"rangePoints",a:arguments},r},r.rangeBands=function(n,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var s=n[1]<n[0],c=n[s-0],f=n[1-s],d=(f-c)/(e.length-a+2*l);return o=i(c+d*l,d),s&&o.reverse(),u=d*(1-a),t={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(n,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var s=n[1]<n[0],c=n[s-0],f=n[1-s],d=Math.floor((f-c)/(e.length-a+2*l)),h=f-c-(e.length-a)*d;return o=i(c+Math.round(h/2),d),s&&o.reverse(),u=Math.round(d*(1-a)),t={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return u},r.rangeExtent=function(){return je(t.a[0])},r.copy=function(){return We(e,t)},r.domain(e)}function Ye(e,t){function n(){var n=0,a=(e.length,t.length);for(i=[];++n<a;)i[n-1]=Hr.quantile(e,n/a);return r}function r(e){return isNaN(e=+e)?NaN:t[Hr.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(Hr.ascending),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.copy=function(){return Ye(e,t)},n()}function Ve(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(a*(t-e))))]}function i(){return a=n.length/(t-e),o=n.length-1,r}var a,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.copy=function(){return Ve(e,t,n)},i()}function Xe(e,t){function n(n){return t[Hr.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Xe(e,t)},n}function Je(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Fe(e,t)},t.tickFormat=function(t){return qe(e,t)},t.copy=function(){return Je(e)},t}function Ze(e){return e.innerRadius}function Ge(e){return e.outerRadius}function Ke(e){return e.startAngle}function et(e){return e.endAngle}function tt(e){function t(t){function a(){c.push("M",u(e(f),s))}for(var l,c=[],f=[],d=-1,h=t.length,p=o(n),g=o(r);++d<h;)i.call(this,l=t[d],d)?f.push([+p.call(this,l,d),+g.call(this,l,d)]):f.length&&(a(),f=[]);return f.length&&a(),c.length?c.join(""):null}var n=nt,r=rt,i=a,u=it,l=u.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?u=e:(u=Ii.get(e)||it).key,t):l},t.tension=function(e){return arguments.length?(s=e,t):s},t}function nt(e){return e[0]}function rt(e){return e[1]}function it(e){return e.join("L")}function at(e){return it(e)+"Z"}function ot(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function ut(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function lt(e,t){return e.length<4?it(e):e[1]+ft(e.slice(1,e.length-1),dt(e,t))}function st(e,t){return e.length<3?it(e):e[0]+ft((e.push(e[0]),e),dt([e[e.length-2]].concat(e,[e[1]]),t))}function ct(e,t,n){return e.length<3?it(e):e[0]+ft(e,dt(e,t))}function ft(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return it(e);var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],u=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=e[1],l=2),t.length>1){u=t[1],a=e[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-u[0])+","+(a[1]-u[1])+","+a[0]+","+a[1];for(var s=2;s<t.length;s++,l++)a=e[l],u=t[s],r+="S"+(a[0]-u[0])+","+(a[1]-u[1])+","+a[0]+","+a[1]}if(n){var c=e[l];r+="Q"+(a[0]+2*u[0]/3)+","+(a[1]+2*u[1]/3)+","+c[0]+","+c[1]}return r}function dt(e,t){for(var n,r=[],i=(1-t)/2,a=e[0],o=e[1],u=1,l=e.length;++u<l;)n=a,a=o,o=e[u],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function ht(e){if(e.length<3)return it(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],u=[a,a,a,r[1]],l=[i,",",a];for(vt(l,o,u);++t<n;)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),vt(l,o,u);for(t=-1;++t<2;)o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),vt(l,o,u);return l.join("")}function pt(e){if(e.length<4)return it(e);for(var t,n=[],r=-1,i=e.length,a=[0],o=[0];++r<3;)t=e[r],a.push(t[0]),o.push(t[1]);for(n.push(yt(Ui,a)+","+yt(Ui,o)),--r;++r<i;)t=e[r],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),vt(n,a,o);return n.join("")}function gt(e){for(var t,n,r=-1,i=e.length,a=i+4,o=[],u=[];++r<4;)n=e[r%i],o.push(n[0]),u.push(n[1]);for(t=[yt(Ui,o),",",yt(Ui,u)],--r;++r<a;)n=e[r%i],o.shift(),o.push(n[0]),u.shift(),u.push(n[1]),vt(t,o,u);return t.join("")}function mt(e,t){var n=e.length-1;if(n)for(var r,i,a=e[0][0],o=e[0][1],u=e[n][0]-a,l=e[n][1]-o,s=-1;++s<=n;)r=e[s],i=s/n,r[0]=t*r[0]+(1-t)*(a+i*u),r[1]=t*r[1]+(1-t)*(o+i*l);return ht(e)}function yt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function vt(e,t,n){e.push("C",yt(Ri,t),",",yt(Ri,n),",",yt(Hi,t),",",yt(Hi,n),",",yt(Ui,t),",",yt(Ui,n))}function bt(e,t){return(t[1]-e[1])/(t[0]-e[0])}function xt(e){for(var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=bt(i,a);++t<n;)r[t]=(o+(o=bt(i=a,a=e[t+1])))/2;return r[t]=o,r}function _t(e){for(var t,n,r,i,a=[],o=xt(e),u=-1,l=e.length-1;++u<l;)t=bt(e[u],e[u+1]),Math.abs(t)<1e-6?o[u]=o[u+1]=0:(n=o[u]/t,r=o[u+1]/t,(i=n*n+r*r)>9&&(i=3*t/Math.sqrt(i),o[u]=i*n,o[u+1]=i*r));for(u=-1;++u<=l;)i=(e[Math.min(l,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),a.push([i||0,o[u]*i||0]);return a}function wt(e){return e.length<3?it(e):e[0]+ft(e,_t(e))}function Tt(e){for(var t,n,r,i=-1,a=e.length;++i<a;)t=e[i],n=t[0],r=t[1]+qi,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Mt(e){function t(t){function a(){m.push("M",s(e(v),h),d,f(e(y.reverse()),h),"Z")}for(var c,p,g,m=[],y=[],v=[],b=-1,x=t.length,_=o(n),w=o(i),T=n===r?function(){return p}:o(r),M=i===u?function(){return g}:o(u);++b<x;)l.call(this,c=t[b],b)?(y.push([p=+_.call(this,c,b),g=+w.call(this,c,b)]),v.push([+T.call(this,c,b),+M.call(this,c,b)])):y.length&&(a(),y=[],v=[]);return y.length&&a(),m.length?m.join(""):null}var n=nt,r=nt,i=0,u=rt,l=a,s=it,c=s.key,f=s,d="L",h=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=u=e,t):u},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(u=e,t):u},t.defined=function(e){return arguments.length?(l=e,t):l},t.interpolate=function(e){return arguments.length?(c="function"==typeof e?s=e:(s=Ii.get(e)||it).key,f=s.reverse||s,d=s.closed?"M":"L",t):c},t.tension=function(e){return arguments.length?(h=e,t):h},t}function St(e){return e.source}function kt(e){return e.target}function Nt(e){return e.radius}function Ct(e){return[e.x,e.y]}function jt(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+qi;return[n*Math.cos(r),n*Math.sin(r)]}}function Bt(){return 64}function At(){return"circle"}function Et(e){var t=Math.sqrt(e/Math.PI);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Dt(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function Pt(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Ot(e,t,n){if(r=[],n&&t.length>1){for(var r,i,a,o=je(e.domain()),u=-1,l=t.length,s=(t[1]-t[0])/++n;++u<l;)for(i=n;--i>0;)(a=+t[u]-i*s)>=o[0]&&r.push(a);for(--u,i=0;++i<n&&(a=+t[u]+i*s)<o[1];)r.push(a)}return r}function $t(){Xi||(Xi=Hr.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var e,t=Hr.event;try{Xi.scrollTop=1e3,Xi.dispatchEvent(t),e=1e3-Xi.scrollTop}catch(n){e=t.wheelDelta||5*-t.detail}return e}function Ft(e){for(var t=e.source,n=e.target,r=Lt(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function qt(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Lt(e,t){if(e===t)return e;for(var n=qt(e),r=qt(t),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function It(e){e.fixed|=2}function Rt(e){e!==Gi&&(e.fixed&=1)}function Ht(){Gi.fixed&=1,Zi=Gi=null}function Ut(){Gi.px=Hr.event.x,Gi.py=Hr.event.y,Zi.resume()}function zt(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,u=o.length,l=-1;++l<u;)null!=(a=o[l])&&(zt(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var s=t*n[e.point.index];e.charge+=e.pointCharge=s,r+=s*e.point.x,i+=s*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function Qt(e){return 20}function Wt(e){return 1}function Yt(e){return e.x}function Vt(e){return e.y}function Xt(e,t,n){e.y0=t,e.y=n}function Jt(e){return Hr.range(e.length)}function Zt(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Gt(e){for(var t,n=1,r=0,i=e[0][1],a=e.length;n<a;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function Kt(e){return e.reduce(en,0)}function en(e,t){return e+t[1]}function tn(e,t){return nn(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function nn(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function rn(e){return[Hr.min(e),Hr.max(e)]}function an(e,t){return Hr.rebind(e,t,"sort","children","value"),e.links=sn,e.nodes=function(t){return na=!0,(e.nodes=e)(t)},e}function on(e){return e.children}function un(e){return e.value}function ln(e,t){return t.value-e.value}function sn(e){return Hr.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function cn(e,t){return e.value-t.value}function fn(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function dn(e,t){e._pack_next=t,t._pack_prev=e}function hn(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-n*n-r*r>.001}function pn(e){function t(e){c=Math.min(e.x-e.r,c),f=Math.max(e.x+e.r,f),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(s=n.length)){var n,r,i,a,o,u,l,s,c=1/0,f=-1/0,d=1/0,h=-1/0;if(n.forEach(gn),r=n[0],r.x=-r.r,r.y=0,t(r),s>1&&(i=n[1],i.x=i.r,i.y=0,t(i),s>2))for(a=n[2],vn(r,i,a),t(a),fn(r,a),r._pack_prev=a,fn(a,i),i=r._pack_next,o=3;o<s;o++){vn(r,i,a=n[o]);var p=0,g=1,m=1;for(u=i._pack_next;u!==i;u=u._pack_next,g++)if(hn(u,a)){p=1;break}if(1==p)for(l=r._pack_prev;l!==u._pack_prev&&!hn(l,a);l=l._pack_prev,m++);p?(g<m||g==m&&i.r<r.r?dn(r,i=u):dn(r=l,i),o--):(fn(r,a),i=a,t(a))}var y=(c+f)/2,v=(d+h)/2,b=0;for(o=0;o<s;o++)a=n[o],a.x-=y,a.y-=v,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=b,n.forEach(mn)}}function gn(e){e._pack_next=e._pack_prev=e}function mn(e){delete e._pack_next,delete e._pack_prev}function yn(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)yn(i[a],t,n,r)}function vn(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,u=i*i+a*a;o*=o,r*=r;var l=.5+(r-o)/(2*u),s=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+l*i+s*a,n.y=e.y+l*a-s*i}else n.x=e.x+r,n.y=e.y}function bn(e){return 1+Hr.max(e,function(e){return e.y})}function xn(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function _n(e){var t=e.children;return t&&t.length?_n(t[0]):e}function wn(e){var t,n=e.children;return n&&(t=n.length)?wn(n[t-1]):e}function Tn(e,t){return e.parent==t.parent?1:2}function Mn(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function Sn(e){var t,n=e.children;return n&&(t=n.length)?n[t-1]:e._tree.thread}function kn(e,t){var n=e.children;if(n&&(i=n.length))for(var r,i,a=-1;++a<i;)t(r=kn(n[a],t),e)>0&&(e=r);return e}function Nn(e,t){return e.x-t.x}function Cn(e,t){return t.x-e.x}function jn(e,t){return e.depth-t.depth}function Bn(e,t){function n(e,r){var i=e.children;if(i&&(o=i.length))for(var a,o,u=null,l=-1;++l<o;)a=i[l],n(a,u),u=a;t(e,r)}n(e,null)}function An(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)t=i[a]._tree,t.prelim+=n,t.mod+=n,n+=t.shift+(r+=t.change)}function En(e,t,n){e=e._tree,t=t._tree;var r=n/(t.number-e.number);e.change+=r,t.change-=r,t.shift+=n,t.prelim+=n,t.mod+=n}function Dn(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function Pn(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function On(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function $n(e,t){function n(e,r){Hr.text(e,t,function(e){r(e&&n.parse(e))})}function r(t){return t.map(i).join(e)}function i(e){return o.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var a=new RegExp("\r\n|["+e+"\r\n]","g"),o=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e){var t;return n.parseRows(e,function(e,n){if(n){for(var r={},i=-1,a=t.length;++i<a;)r[t[i]]=e[i];return r}return t=e,null})},n.parseRows=function(e,t){function n(){if(a.lastIndex>=e.length)return l;if(i)return i=!1,o;var t=a.lastIndex;if(34===e.charCodeAt(t)){for(var n=t;n++<e.length;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;n++}a.lastIndex=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&a.lastIndex++):10===r&&(i=!0),e.substring(t+1,n).replace(/""/g,'"')}var s=a.exec(e);return s?(i=s[0].charCodeAt(0)!==u,e.substring(t,s.index)):(a.lastIndex=e.length,e.substring(t))}var r,i,o={},l={},s=[],c=0;for(a.lastIndex=0;(r=n())!==l;){for(var f=[];r!==o&&r!==l;)f.push(r),r=n();t&&!(f=t(f,c++))||s.push(f)}return s},n.format=function(e){return e.map(r).join("\n")},n}function Fn(e,t){return function(n){return n&&e.hasOwnProperty(n.type)?e[n.type](n):t}}function qn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Ln(e,t){ia.hasOwnProperty(e.type)&&ia[e.type](e,t)}function In(e,t){Ln(e.geometry,t)}function Rn(e,t){for(var n=e.features,r=0,i=n.length;r<i;r++)Ln(n[r].geometry,t)}function Hn(e,t){for(var n=e.geometries,r=0,i=n.length;r<i;r++)Ln(n[r],t)}function Un(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)t.apply(null,n[r])}function zn(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)for(var a=n[r],o=0,u=a.length;o<u;o++)t.apply(null,a[o])}function Qn(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)for(var a=n[r][0],o=0,u=a.length;o<u;o++)t.apply(null,a[o])}function Wn(e,t){t.apply(null,e.coordinates)}function Yn(e,t){for(var n=e.coordinates[0],r=0,i=n.length;r<i;r++)t.apply(null,n[r])}function Vn(e){return e.source}function Xn(e){return e.target}function Jn(){function e(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*a+t*f,u=n*o+t*d,l=n*i+t*c;return[Math.atan2(u,r)/ra,Math.atan2(l,Math.sqrt(r*r+u*u))/ra]}var t,n,r,i,a,o,u,l,s,c,f,d,h,p;return e.distance=function(){return null==h&&(p=1/Math.sin(h=Math.acos(Math.max(-1,Math.min(1,i*c+r*s*Math.cos(u-t)))))),h},e.source=function(u){var l=Math.cos(t=u[0]*ra),s=Math.sin(t);return r=Math.cos(n=u[1]*ra),i=Math.sin(n),a=r*l,o=r*s,h=null,e},e.target=function(t){var n=Math.cos(u=t[0]*ra),r=Math.sin(u);return s=Math.cos(l=t[1]*ra),c=Math.sin(l),f=s*n,d=s*r,h=null,e},e}function Zn(e,t){var n=Jn().source(e).target(t);return n.distance(),n}function Gn(e){for(var t=0,n=0;;){if(e(t,n))return[t,n];0===t?(t=n+1,n=0):(t-=1,n+=1)}}function Kn(e,t,n,r){var i,a,o,u,l,s;return i=r[e],a=i[0],o=i[1],i=r[t],u=i[0],l=i[1],i=r[n],s=i[0],(i[1]-o)*(u-a)-(l-o)*(s-a)>0}function er(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function tr(e,t,n,r){var i=e[0],a=t[0],o=n[0],u=r[0],l=e[1],s=t[1],c=n[1],f=r[1],d=i-o,h=a-i,p=u-o,g=l-c,m=s-l,y=f-c,v=(p*g-y*d)/(y*h-p*m);return[i+v*h,l+v*m]}function nr(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=r.leftEnd;do{t=t.r}while(t!=r.rightEnd&&i.rightOf(t,e));return t=t.l},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return null==e.edge?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return null==e.edge?n.bottomSite:e.edge.region[ua[e.side]]}},i={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}},r=t.x-e.x,i=t.y-e.y,a=r>0?r:-r,o=i>0?i:-i;return n.c=e.x*r+e.y*i+.5*(r*r+i*i),a>o?(n.a=1,n.b=i/r,n.c/=r):(n.b=1,n.a=r/i,n.c/=i),n},intersect:function(e,t){var n=e.edge,r=t.edge;if(!n||!r||n.region.r==r.region.r)return null;var i=n.a*r.b-n.b*r.a;if(Math.abs(i)<1e-10)return null;var a,o,u=(n.c*r.b-r.c*n.b)/i,l=(r.c*n.a-n.c*r.a)/i,s=n.region.r,c=r.region.r;s.y<c.y||s.y==c.y&&s.x<c.x?(a=e,o=n):(a=t,o=r);var f=u>=o.region.r.x;return f&&"l"===a.side||!f&&"r"===a.side?null:{x:u,y:l}},rightOf:function(e,t){var n=e.edge,r=n.region.r,i=t.x>r.x;if(i&&"l"===e.side)return 1;if(!i&&"r"===e.side)return 0;if(1===n.a){var a=t.y-r.y,o=t.x-r.x,u=0,l=0;if(!i&&n.b<0||i&&n.b>=0?l=u=a>=n.b*o:(l=t.x+t.y*n.b>n.c,n.b<0&&(l=!l),l||(u=1)),!u){var s=r.x-n.region.l.x;l=n.b*(o*o-a*a)<s*a*(1+2*o/s+n.b*n.b),n.b<0&&(l=!l)}}else{var c=n.c-n.a*t.x,f=t.y-c,d=t.x-r.x,h=c-r.y;l=f*f>d*d+h*h}return"l"===e.side?l:!l},endPoint:function(e,n,r){e.ep[n]=r,e.ep[ua[n]]&&t(e)},distance:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},a={list:[],insert:function(e,t,n){e.vertex=t,e.ystar=t.y+n;for(var r=0,i=a.list,o=i.length;r<o;r++){var u=i[r];if(!(e.ystar>u.ystar||e.ystar==u.ystar&&t.x>u.vertex.x))break}i.splice(r,0,e)},del:function(e){for(var t=0,n=a.list,r=n.length;t<r&&n[t]!=e;++t);n.splice(t,1)},empty:function(){return 0===a.list.length},nextEvent:function(e){for(var t=0,n=a.list,r=n.length;t<r;++t)if(n[t]==e)return n[t+1];return null},min:function(){var e=a.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return a.list.shift()}};r.init(),n.bottomSite=n.list.shift();for(var o,u,l,s,c,f,d,h,p,g,m,y,v,b=n.list.shift();;)if(a.empty()||(o=a.min()),
b&&(a.empty()||b.y<o.y||b.y==o.y&&b.x<o.x))u=r.leftBound(b),l=r.right(u),d=r.rightRegion(u),y=i.bisect(d,b),f=r.createHalfEdge(y,"l"),r.insert(u,f),g=i.intersect(u,f),g&&(a.del(u),a.insert(u,g,i.distance(g,b))),u=f,f=r.createHalfEdge(y,"r"),r.insert(u,f),g=i.intersect(f,l),g&&a.insert(f,g,i.distance(g,b)),b=n.list.shift();else{if(a.empty())break;u=a.extractMin(),s=r.left(u),l=r.right(u),c=r.right(l),d=r.leftRegion(u),h=r.rightRegion(l),m=u.vertex,i.endPoint(u.edge,u.side,m),i.endPoint(l.edge,l.side,m),r.del(u),a.del(l),r.del(l),v="l",d.y>h.y&&(p=d,d=h,h=p,v="r"),y=i.bisect(d,h),f=r.createHalfEdge(y,v),r.insert(s,f),i.endPoint(y,ua[v],m),g=i.intersect(s,f),g&&(a.del(s),a.insert(s,g,i.distance(g,d))),(g=i.intersect(f,c))&&a.insert(f,g,i.distance(g,d))}for(u=r.right(r.leftEnd);u!=r.rightEnd;u=r.right(u))t(u.edge)}function rr(){return{leaf:!0,nodes:[],point:null}}function ir(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=.5*(n+i),u=.5*(r+a),l=t.nodes;l[0]&&ir(e,l[0],n,r,o,u),l[1]&&ir(e,l[1],o,r,i,u),l[2]&&ir(e,l[2],n,u,o,a),l[3]&&ir(e,l[3],o,u,i,a)}}function ar(e){return{x:e[0],y:e[1]}}function or(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function ur(e){return e.substring(0,3)}function lr(e,t,n,r){for(var i,a,o=0,u=t.length,l=n.length;o<u;){if(r>=l)return-1;if(37==(i=t.charCodeAt(o++))){if(!(a=ka[t.charAt(o++)])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function sr(e){return new RegExp("^(?:"+e.map(Hr.requote).join("|")+")","i")}function cr(e){for(var t=new n,r=-1,i=e.length;++r<i;)t.set(e[r].toLowerCase(),r);return t}function fr(e,t,n){xa.lastIndex=0;var r=xa.exec(t.substring(n));return r?n+=r[0].length:-1}function dr(e,t,n){ba.lastIndex=0;var r=ba.exec(t.substring(n));return r?n+=r[0].length:-1}function hr(e,t,n){Ta.lastIndex=0;var r=Ta.exec(t.substring(n));return r?(e.m=Ma.get(r[0].toLowerCase()),n+=r[0].length):-1}function pr(e,t,n){_a.lastIndex=0;var r=_a.exec(t.substring(n));return r?(e.m=wa.get(r[0].toLowerCase()),n+=r[0].length):-1}function gr(e,t,n){return lr(e,Sa.c.toString(),t,n)}function mr(e,t,n){return lr(e,Sa.x.toString(),t,n)}function yr(e,t,n){return lr(e,Sa.X.toString(),t,n)}function vr(e,t,n){Na.lastIndex=0;var r=Na.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+=r[0].length):-1}function br(e,t,n){Na.lastIndex=0;var r=Na.exec(t.substring(n,n+2));return r?(e.y=xr(+r[0]),n+=r[0].length):-1}function xr(e){return e+(e>68?1900:2e3)}function _r(e,t,n){Na.lastIndex=0;var r=Na.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+=r[0].length):-1}function wr(e,t,n){Na.lastIndex=0;var r=Na.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+=r[0].length):-1}function Tr(e,t,n){Na.lastIndex=0;var r=Na.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+=r[0].length):-1}function Mr(e,t,n){Na.lastIndex=0;var r=Na.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+=r[0].length):-1}function Sr(e,t,n){Na.lastIndex=0;var r=Na.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+=r[0].length):-1}function kr(e,t,n){Na.lastIndex=0;var r=Na.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+=r[0].length):-1}function Nr(e,t,n){var r=Ca.get(t.substring(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}function Cr(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(Math.abs(t)/60),i=Math.abs(t)%60;return n+ga(r)+ga(i)}function jr(e){return e.toISOString()}function Br(e,t,n){function r(t){var n=e(t),r=a(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new la(n-1)),1),n}function a(e,n){return t(e=new la(+e),n),e}function o(e,r,a){var o=i(e),u=[];if(a>1)for(;o<r;)n(o)%a||u.push(new Date(+o)),t(o,1);else for(;o<r;)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{la=or;var r=new or;return r._=e,o(r,t,n)}finally{la=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=a,e.range=o;var l=e.utc=Ar(e);return l.floor=l,l.round=Ar(r),l.ceil=Ar(i),l.offset=Ar(a),l.range=u,e}function Ar(e){return function(t,n){try{la=or;var r=new or;return r._=t,e(r,n)._}finally{la=Date}}}function Er(e,t,n){function r(t){return e(t)}return r.invert=function(t){return Pr(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Pr)},r.nice=function(e){return r.domain(Ae(r.domain(),function(){return e}))},r.ticks=function(n,i){var a=Dr(r.domain());if("function"!=typeof n){var o=a[1]-a[0],u=o/n,l=Hr.bisect(Ba,u);if(l==Ba.length)return t.year(a,n);if(!l)return e.ticks(n).map(Pr);Math.log(u/Ba[l-1])<Math.log(Ba[l]/u)&&--l,n=t[l],i=n[1],n=n[0].range}return n(a[0],new Date(+a[1]+1),i)},r.tickFormat=function(){return n},r.copy=function(){return Er(e.copy(),t,n)},Hr.rebind(r,e,"range","rangeRound","interpolate","clamp")}function Dr(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Pr(e){return new Date(e)}function Or(e){return function(t){for(var n=e.length-1,r=e[n];!r[1](t);)r=e[--n];return r[0](t)}}function $r(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function Fr(e){var t=e.getFullYear(),n=$r(t);return t+(e-n)/($r(t+1)-n)}function qr(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function Lr(e){var t=e.getUTCFullYear(),n=qr(t);return t+(e-n)/(qr(t+1)-n)}Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(e){var Ir=CSSStyleDeclaration.prototype,Rr=Ir.setProperty;Ir.setProperty=function(e,t,n){Rr.call(this,e,t+"",n)}}var Hr={},Ur=t;try{Ur(document.documentElement.childNodes)[0].nodeType}catch(t){Ur=e}var zr=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};Hr.map=function(e){var t=new n;for(var r in e)t.set(r,e[r]);return t},function(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(n){e.prototype=t}}(n,{has:function(e){return Qr+e in this},get:function(e){return this[Qr+e]},set:function(e,t){return this[Qr+e]=t},remove:function(e){return(e=Qr+e)in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===Wr&&e.call(this,t.substring(1),this[t])}});var Qr="\0",Wr=Qr.charCodeAt(0);Hr.functor=o,Hr.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=u(e,t,t[n]);return e},Hr.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Hr.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},Hr.mean=function(e,t){var n,r=e.length,i=0,a=-1,o=0;if(1===arguments.length)for(;++a<r;)l(n=e[a])&&(i+=(n-i)/++o);else for(;++a<r;)l(n=t.call(e,e[a],a))&&(i+=(n-i)/++o);return o?i:void 0},Hr.median=function(e,t){return arguments.length>1&&(e=e.map(t)),e=e.filter(l),e.length?Hr.quantile(e.sort(Hr.ascending),.5):void 0},Hr.min=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a&&(null==(n=e[i])||n!=n);)n=void 0;for(;++i<a;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<a&&(null==(n=t.call(e,e[i],i))||n!=n);)n=void 0;for(;++i<a;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},Hr.max=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a&&(null==(n=e[i])||n!=n);)n=void 0;for(;++i<a;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<a&&(null==(n=t.call(e,e[i],i))||n!=n);)n=void 0;for(;++i<a;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},Hr.extent=function(e,t){var n,r,i,a=-1,o=e.length;if(1===arguments.length){for(;++a<o&&(null==(n=i=e[a])||n!=n);)n=i=void 0;for(;++a<o;)null!=(r=e[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o&&(null==(n=i=t.call(e,e[a],a))||n!=n);)n=void 0;for(;++a<o;)null!=(r=t.call(e,e[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},Hr.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(e,t){var n=arguments.length;n<2&&(t=1),n<1&&(e=0);var r=Hr.random.normal();return function(){return Math.exp(e+t*r())}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}}},Hr.sum=function(e,t){var n,r=0,i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)isNaN(n=+e[a])||(r+=n);else for(;++a<i;)isNaN(n=+t.call(e,e[a],a))||(r+=n);return r},Hr.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=e[r-1],a=n-r;return a?i+a*(e[r]-i):i},Hr.transpose=function(e){return Hr.zip.apply(Hr,e)},Hr.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=Hr.min(arguments,s),n=new Array(t);++e<t;)for(var r,i=-1,a=n[e]=new Array(r);++i<r;)a[i]=arguments[i][e];return n},Hr.bisector=function(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e.call(t,t[a],a)<n?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;n<e.call(t,t[a],a)?i=a:r=a+1}return r}}};var Yr=Hr.bisector(function(e){return e});Hr.bisectLeft=Yr.left,Hr.bisect=Hr.bisectRight=Yr.right,Hr.first=function(e,t){var n,r=0,i=e.length,a=e[0];for(1===arguments.length&&(t=Hr.ascending);++r<i;)t.call(e,a,n=e[r])>0&&(a=n);return a},Hr.last=function(e,t){var n,r=0,i=e.length,a=e[0];for(1===arguments.length&&(t=Hr.ascending);++r<i;)t.call(e,a,n=e[r])<=0&&(a=n);return a},Hr.nest=function(){function e(t,u){if(u>=o.length)return i?i.call(a,t):r?t.sort(r):t;for(var l,s,c,f=-1,d=t.length,h=o[u++],p=new n,g={};++f<d;)(c=p.get(l=h(s=t[f])))?c.push(s):p.set(l,[s]);return p.forEach(function(t){g[t]=e(p.get(t),u)}),g}function t(e,n){if(n>=o.length)return e;var r,i=[],a=u[n++];for(r in e)i.push({key:r,values:t(e[r],n)});return a&&i.sort(function(e,t){return a(e.key,t.key)}),i}var r,i,a={},o=[],u=[];return a.map=function(t){return e(t,0)},a.entries=function(n){return t(e(n,0),0)},a.key=function(e){return o.push(e),a},a.sortKeys=function(e){return u[o.length-1]=e,a},a.sortValues=function(e){return r=e,a},a.rollup=function(e){return i=e,a},a},Hr.keys=function(e){var t=[];for(var n in e)t.push(n);return t},Hr.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Hr.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},Hr.permute=function(e,t){for(var n=[],r=-1,i=t.length;++r<i;)n[r]=e[t[r]];return n},Hr.merge=function(e){return Array.prototype.concat.apply([],e)},Hr.split=function(e,t){var n,r=[],i=[],a=-1,o=e.length;for(arguments.length<2&&(t=c);++a<o;)t.call(i,n=e[a],a)?i=[]:(i.length||r.push(i),i.push(n));return r},Hr.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,i=[],a=d(Math.abs(n)),o=-1;if(e*=a,t*=a,n*=a,n<0)for(;(r=e+n*++o)>t;)i.push(r/a);else for(;(r=e+n*++o)<t;)i.push(r/a);return i},Hr.requote=function(e){return e.replace(Vr,"\\$&")};var Vr=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Hr.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},Hr.xhr=function(e,t,n){var r=new XMLHttpRequest;arguments.length<3?(n=t,t=null):t&&r.overrideMimeType&&r.overrideMimeType(t),r.open("GET",e,!0),t&&r.setRequestHeader("Accept",t),r.onreadystatechange=function(){if(4===r.readyState){var e=r.status;n(!e&&r.response||e>=200&&e<300||304===e?r:null)}},r.send(null)},Hr.text=function(e,t,n){function r(e){n(e&&e.responseText)}arguments.length<3&&(n=t,t=null),Hr.xhr(e,t,r)},Hr.json=function(e,t){Hr.text(e,"application/json",function(e){t(e?JSON.parse(e):null)})},Hr.html=function(e,t){Hr.text(e,"text/html",function(e){if(null!=e){var n=document.createRange();n.selectNode(document.body),e=n.createContextualFragment(e)}t(e)})},Hr.xml=function(e,t,n){function r(e){n(e&&e.responseXML)}arguments.length<3&&(n=t,t=null),Hr.xhr(e,t,r)};var Xr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Hr.ns={prefix:Xr,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),Xr.hasOwnProperty(n)?{space:Xr[n],local:e}:e}},Hr.dispatch=function(){for(var e=new h,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=p(e);return e},h.prototype.on=function(e,t){var n=e.indexOf("."),r="";return n>0&&(r=e.substring(n+1),e=e.substring(0,n)),arguments.length<2?this[e].on(r):this[e].on(r,t)},Hr.format=function(e){var t=Jr.exec(e),n=t[1]||" ",r=t[3]||"",i=t[5],a=+t[6],o=t[7],u=t[8],l=t[9],s=1,c="",f=!1;switch(u&&(u=+u.substring(1)),i&&(n="0",o&&(a-=Math.floor((a-1)/4))),l){case"n":o=!0,l="g";break;case"%":s=100,c="%",l="f";break;case"p":s=100,c="%",l="r";break;case"d":f=!0,u=0;break;case"s":s=-1,l="r"}return"r"!=l||u||(l="g"),l=Zr.get(l)||m,function(e){if(f&&e%1)return"";var t=e<0&&(e=-e)?"-":r;if(s<0){var d=Hr.formatPrefix(e,u);e=d.scale(e),c=d.symbol}else e*=s;if(e=l(e,u),i){var h=e.length+t.length;h<a&&(e=new Array(a-h+1).join(n)+e),o&&(e=y(e)),e=t+e}else{o&&(e=y(e)),e=t+e;var h=e.length;h<a&&(e=new Array(a-h+1).join(n)+e)}return e+c}};var Jr=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,Zr=Hr.map({g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return Hr.round(e,t=g(e,t)).toFixed(Math.max(0,Math.min(20,t)))}}),Gr=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(v);Hr.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=Hr.round(e,g(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n<=0?n+1:n-1)/3)))),Gr[8+n/3]};var Kr=T(2),ei=T(3),ti=function(){return w},ni=Hr.map({linear:ti,poly:T,quad:function(){return Kr},cubic:function(){return ei},sin:function(){return M},exp:function(){return S},circle:function(){return k},elastic:N,back:C,bounce:function(){return j}}),ri=Hr.map({in:w,out:x,"in-out":_,"out-in":function(e){return _(x(e))}});Hr.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return n=ni.get(n)||ti,r=ri.get(r)||w,b(r(n.apply(null,Array.prototype.slice.call(arguments,1))))},Hr.event=null,Hr.transform=function(e){var t=document.createElementNS(Hr.ns.prefix.svg,"g");return(Hr.transform=function(e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate();return new D(n?n.matrix:ai)})(e)},D.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ii=180/Math.PI,ai={a:1,b:0,c:0,d:1,e:0,f:0};Hr.interpolate=function(e,t){for(var n,r=Hr.interpolators.length;--r>=0&&!(n=Hr.interpolators[r](e,t)););return n},Hr.interpolateNumber=function(e,t){return t-=e,function(n){return e+t*n}},Hr.interpolateRound=function(e,t){return t-=e,function(n){return Math.round(e+t*n)}},Hr.interpolateString=function(e,t){var n,r,i,a,o,u=0,l=[],s=[];for(oi.lastIndex=0,r=0;n=oi.exec(t);++r)n.index&&l.push(t.substring(u,n.index)),s.push({i:l.length,x:n[0]}),l.push(null),u=oi.lastIndex;for(u<t.length&&l.push(t.substring(u)),r=0,a=s.length;(n=oi.exec(e))&&r<a;++r)if(o=s[r],o.x==n[0]){if(o.i)if(null==l[o.i+1])for(l[o.i-1]+=o.x,l.splice(o.i,1),i=r+1;i<a;++i)s[i].i--;else for(l[o.i-1]+=o.x+l[o.i+1],l.splice(o.i,2),i=r+1;i<a;++i)s[i].i-=2;else if(null==l[o.i+1])l[o.i]=o.x;else for(l[o.i]=o.x+l[o.i+1],l.splice(o.i+1,1),i=r+1;i<a;++i)s[i].i--;s.splice(r,1),a--,r--}else o.x=Hr.interpolateNumber(parseFloat(n[0]),parseFloat(o.x));for(;r<a;)o=s.pop(),null==l[o.i+1]?l[o.i]=o.x:(l[o.i]=o.x+l[o.i+1],l.splice(o.i+1,1)),a--;return 1===l.length?null==l[0]?s[0].x:function(){return t}:function(e){for(r=0;r<a;++r)l[(o=s[r]).i]=o.x(e);return l.join("")}},Hr.interpolateTransform=function(e,t){var n,r=[],i=[],a=Hr.transform(e),o=Hr.transform(t),u=a.translate,l=o.translate,s=a.rotate,c=o.rotate,f=a.skew,d=o.skew,h=a.scale,p=o.scale;return u[0]!=l[0]||u[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:Hr.interpolateNumber(u[0],l[0])},{i:3,x:Hr.interpolateNumber(u[1],l[1])})):l[0]||l[1]?r.push("translate("+l+")"):r.push(""),s!=c?(s-c>180?c+=360:c-s>180&&(s+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Hr.interpolateNumber(s,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=d?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Hr.interpolateNumber(f,d)}):d&&r.push(r.pop()+"skewX("+d+")"),h[0]!=p[0]||h[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:Hr.interpolateNumber(h[0],p[0])},{i:n-2,x:Hr.interpolateNumber(h[1],p[1])})):1==p[0]&&1==p[1]||r.push(r.pop()+"scale("+p+")"),n=i.length,function(e){for(var t,a=-1;++a<n;)r[(t=i[a]).i]=t.x(e);return r.join("")}},Hr.interpolateRgb=function(e,t){e=Hr.rgb(e),t=Hr.rgb(t);var n=e.r,r=e.g,i=e.b,a=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+H(Math.round(n+a*e))+H(Math.round(r+o*e))+H(Math.round(i+u*e))}},Hr.interpolateHsl=function(e,t){e=Hr.hsl(e),t=Hr.hsl(t);var n=e.h,r=e.s,i=e.l,a=t.h-n,o=t.s-r,u=t.l-i;return a>180?a-=360:a<-180&&(a+=360),function(e){return J(n+a*e,r+o*e,i+u*e)+""}},Hr.interpolateLab=function(e,t){e=Hr.lab(e),t=Hr.lab(t);var n=e.l,r=e.a,i=e.b,a=t.l-n,o=t.a-r,u=t.b-i;return function(e){return ne(n+a*e,r+o*e,i+u*e)+""}},Hr.interpolateHcl=function(e,t){e=Hr.hcl(e),t=Hr.hcl(t);var n=e.h,r=e.c,i=e.l,a=t.h-n,o=t.c-r,u=t.l-i;return a>180?a-=360:a<-180&&(a+=360),function(e){return K(n+a*e,r+o*e,i+u*e)+""}},Hr.interpolateArray=function(e,t){var n,r=[],i=[],a=e.length,o=t.length,u=Math.min(e.length,t.length);for(n=0;n<u;++n)r.push(Hr.interpolate(e[n],t[n]));for(;n<a;++n)i[n]=e[n];for(;n<o;++n)i[n]=t[n];return function(e){for(n=0;n<u;++n)i[n]=r[n](e);return i}},Hr.interpolateObject=function(e,t){var n,r={},i={};for(n in e)n in t?r[n]=F(n)(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}};var oi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Hr.interpolators=[Hr.interpolateObject,function(e,t){return t instanceof Array&&Hr.interpolateArray(e,t)},function(e,t){return("string"==typeof e||"string"==typeof t)&&Hr.interpolateString(e+"",t+"")},function(e,t){return("string"==typeof t?ui.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof R||t instanceof X)&&Hr.interpolateRgb(e,t)},function(e,t){return!isNaN(e=+e)&&!isNaN(t=+t)&&Hr.interpolateNumber(e,t)}],Hr.rgb=function(e,t,n){return 1===arguments.length?e instanceof R?I(e.r,e.g,e.b):U(""+e,I,J):I(~~e,~~t,~~n)},R.prototype.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),I(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e)))):I(i,i,i)},R.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),I(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},R.prototype.hsl=function(){return z(this.r,this.g,this.b)},R.prototype.toString=function(){return"#"+H(this.r)+H(this.g)+H(this.b)};var ui=Hr.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});ui.forEach(function(e,t){ui.set(e,U(t,I,J))}),Hr.hsl=function(e,t,n){return 1===arguments.length?e instanceof X?V(e.h,e.s,e.l):U(""+e,z,V):V(+e,+t,+n)},X.prototype.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),V(this.h,this.s,this.l/e)},X.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),V(this.h,this.s,e*this.l)},X.prototype.rgb=function(){return J(this.h,this.s,this.l)},X.prototype.toString=function(){return this.rgb().toString()},Hr.hcl=function(e,t,n){return 1===arguments.length?e instanceof G?Z(e.h,e.c,e.l):e instanceof te?re(e.l,e.a,e.b):re((e=Q((e=Hr.rgb(e)).r,e.g,e.b)).l,e.a,e.b):Z(+e,+t,+n)},G.prototype.brighter=function(e){return Z(this.h,this.c,Math.min(100,this.l+li*(arguments.length?e:1)))},G.prototype.darker=function(e){return Z(this.h,this.c,Math.max(0,this.l-li*(arguments.length?e:1)))},G.prototype.rgb=function(){return K(this.h,this.c,this.l).rgb()},G.prototype.toString=function(){return this.rgb()+""},Hr.lab=function(e,t,n){return 1===arguments.length?e instanceof te?ee(e.l,e.a,e.b):e instanceof G?K(e.l,e.c,e.h):Q((e=Hr.rgb(e)).r,e.g,e.b):ee(+e,+t,+n)};var li=18,si=.95047,ci=1,fi=1.08883;te.prototype.brighter=function(e){return ee(Math.min(100,this.l+li*(arguments.length?e:1)),this.a,this.b)},te.prototype.darker=function(e){return ee(Math.max(0,this.l-li*(arguments.length?e:1)),this.a,this.b)},te.prototype.rgb=function(){return ne(this.l,this.a,this.b)},te.prototype.toString=function(){return this.rgb()+""};var di=function(e,t){return t.querySelector(e)},hi=function(e,t){return t.querySelectorAll(e)},pi=document.documentElement,gi=pi.matchesSelector||pi.webkitMatchesSelector||pi.mozMatchesSelector||pi.msMatchesSelector||pi.oMatchesSelector,mi=function(e,t){return gi.call(e,t)};"function"==typeof Sizzle&&(di=function(e,t){return Sizzle(e,t)[0]||null},hi=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},mi=Sizzle.matchesSelector);var yi=[];Hr.selection=function(){return vi},Hr.selection.prototype=yi,yi.select=function(e){var t,n,r,i,a=[];"function"!=typeof e&&(e=le(e));for(var o=-1,u=this.length;++o<u;){a.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,s=r.length;++l<s;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return ue(a)},yi.selectAll=function(e){var t,n,r=[];"function"!=typeof e&&(e=se(e));for(var i=-1,a=this.length;++i<a;)for(var o=this[i],u=-1,l=o.length;++u<l;)(n=o[u])&&(r.push(t=Ur(e.call(n,n.__data__,u))),t.parentNode=n);return ue(r)},yi.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=Hr.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(ce(t,e[t]));return this}return this.each(ce(e,t))},yi.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=e.trim().split(/^|\s+/g)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.className,null!=t.baseVal&&(t=t.baseVal);++i<r;)if(!fe(e[i]).test(t))return!1;return!0}for(t in e)this.each(de(t,e[t]));return this}return this.each(de(e,t))},yi.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t="");for(n in e)this.each(pe(n,e[n],t));return this}if(r<2)return window.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(pe(e,t,n))},yi.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(ge(t,e[t]));return this}return this.each(ge(e,t))},yi.text=function(e){return arguments.length<1?this.node().textContent:this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e})},yi.html=function(e){return arguments.length<1?this.node().innerHTML:this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e})},yi.append=function(e){function t(){return this.appendChild(document.createElementNS(this.namespaceURI,e))}function n(){return this.appendChild(document.createElementNS(e.space,e.local))}return e=Hr.ns.qualify(e),this.select(e.local?n:t)},yi.insert=function(e,t){function n(){return this.insertBefore(document.createElementNS(this.namespaceURI,e),di(t,this))}function r(){return this.insertBefore(document.createElementNS(e.space,e.local),di(t,this))}return e=Hr.ns.qualify(e),this.select(e.local?r:n)},yi.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},yi.data=function(e,t){function r(e,r){var i,a,o,u=e.length,f=r.length,d=Math.min(u,f),h=Math.max(u,f),p=[],g=[],m=[];if(t){var y,v=new n,b=[],x=r.length;for(i=-1;++i<u;)y=t.call(a=e[i],a.__data__,i),v.has(y)?m[x++]=a:v.set(y,a),b.push(y);for(i=-1;++i<f;)y=t.call(r,o=r[i],i),v.has(y)?(p[i]=a=v.get(y),a.__data__=o,g[i]=m[i]=null):(g[i]=me(o),p[i]=m[i]=null),v.remove(y);for(i=-1;++i<u;)v.has(b[i])&&(m[i]=e[i])}else{for(i=-1;++i<d;)a=e[i],o=r[i],a?(a.__data__=o,p[i]=a,g[i]=m[i]=null):(g[i]=me(o),p[i]=m[i]=null);for(;i<f;++i)g[i]=me(r[i]),p[i]=m[i]=null;for(;i<h;++i)m[i]=e[i],g[i]=p[i]=null}g.update=p,g.parentNode=p.parentNode=m.parentNode=e.parentNode,l.push(g),s.push(p),c.push(m)}var i,a,o=-1,u=this.length;if(!arguments.length){for(e=new Array(u=(i=this[0]).length);++o<u;)(a=i[o])&&(e[o]=a.__data__);return e}var l=_e([]),s=ue([]),c=ue([]);if("function"==typeof e)for(;++o<u;)r(i=this[o],e.call(i,i.parentNode.__data__,o));else for(;++o<u;)r(i=this[o],e);return s.enter=function(){return l},s.exit=function(){return c},s},yi.datum=yi.map=function(e){return arguments.length<1?this.property("__data__"):this.property("__data__",e)},yi.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=ye(e));for(var a=0,o=this.length;a<o;a++){i.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var u=0,l=n.length;u<l;u++)(r=n[u])&&e.call(r,r.__data__,u)&&t.push(r)}return ue(i)},yi.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},yi.sort=function(e){e=ve.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},yi.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t=!1);for(n in e)this.each(be(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(be(e,t,n))},yi.each=function(e){return xe(this,function(t,n,r){e.call(t,t.__data__,n,r)})},yi.call=function(e){return e.apply(this,(arguments[0]=this,arguments)),this},yi.empty=function(){return!this.node()},yi.node=function(e){for(var t=0,n=this.length;t<n;t++)for(var r=this[t],i=0,a=r.length;i<a;i++){var o=r[i];if(o)return o}return null},yi.transition=function(){for(var e,t,n=[],r=-1,i=this.length;++r<i;){n.push(e=[]);for(var a=this[r],o=-1,u=a.length;++o<u;)e.push((t=a[o])?{node:t,delay:Mi,duration:Si}:null)}return we(n,wi||++_i,Date.now())};var vi=ue([[document]]);vi[0].parentNode=pi,Hr.select=function(e){return"string"==typeof e?vi.select(e):ue([[e]])},Hr.selectAll=function(e){return"string"==typeof e?vi.selectAll(e):ue([Ur(e)])};var bi=[];Hr.selection.enter=_e,Hr.selection.enter.prototype=bi,bi.append=yi.append,bi.insert=yi.insert,bi.empty=yi.empty,bi.node=yi.node,bi.select=function(e){for(var t,n,r,i,a,o=[],u=-1,l=this.length;++u<l;){r=(i=this[u]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var s=-1,c=i.length;++s<c;)(a=i[s])?(t.push(r[s]=n=e.call(i.parentNode,a.__data__,s)),n.__data__=a.__data__):t.push(null)}return ue(o)};var xi=[],_i=0,wi=0,Ti=Hr.ease("cubic-in-out"),Mi=0,Si=250,ki=Ti;xi.call=yi.call,Hr.transition=function(e){return arguments.length?wi?e.transition():e:vi.transition()},Hr.transition.prototype=xi,xi.select=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=le(e));for(var a=-1,o=this.length;++a<o;){i.push(t=[]);for(var u=this[a],l=-1,s=u.length;++l<s;)(r=u[l])&&(n=e.call(r.node,r.node.__data__,l))?("__data__"in r.node&&(n.__data__=r.node.__data__),t.push({node:n,delay:r.delay,duration:r.duration})):t.push(null)}return we(i,this.id,this.time).ease(this.ease())},xi.selectAll=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=se(e));for(var a=-1,o=this.length;++a<o;)for(var u=this[a],l=-1,s=u.length;++l<s;)if(r=u[l]){n=e.call(r.node,r.node.__data__,l),i.push(t=[]);for(var c=-1,f=n.length;++c<f;)t.push({node:n[c],delay:r.delay,duration:r.duration})}return we(i,this.id,this.time).ease(this.ease())},xi.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=ye(e));for(var a=0,o=this.length;a<o;a++){i.push(t=[]);for(var n=this[a],u=0,l=n.length;u<l;u++)(r=n[u])&&e.call(r.node,r.node.__data__,u)&&t.push(r)}return we(i,this.id,this.time).ease(this.ease())},xi.attr=function(e,t){if(arguments.length<2){for(t in e)this.attrTween(t,Se(e[t],t));return this}return this.attrTween(e,Se(t,e))},xi.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r===ji?(this.removeAttribute(i),null):r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r===ji?(this.removeAttributeNS(i.space,i.local),null):r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=Hr.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},xi.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t="");for(n in e)this.styleTween(n,Se(e[n],n),t);return this}n=""}return this.styleTween(e,Se(t,e),n)},xi.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(r,i){var a=t.call(this,r,i,window.getComputedStyle(this,null).getPropertyValue(e));return a===ji?(this.style.removeProperty(e),null):a&&function(t){this.style.setProperty(e,a(t),n)}})},xi.text=function(e){return this.tween("text",function(t,n){this.textContent="function"==typeof e?e.call(this,t,n):e})},xi.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},xi.delay=function(e){
return xe(this,"function"==typeof e?function(t,n,r){t.delay=0|e.call(t=t.node,t.__data__,n,r)}:(e|=0,function(t){t.delay=e}))},xi.duration=function(e){return xe(this,"function"==typeof e?function(t,n,r){t.duration=Math.max(1,0|e.call(t=t.node,t.__data__,n,r))}:(e=Math.max(1,0|e),function(t){t.duration=e}))},xi.transition=function(){return this.select(i)},Hr.tween=function(e,t){function n(n,r,i){var a=e.call(this,n,r);return null==a?""!=i&&ji:i!=a&&t(i,a)}function r(n,r,i){return i!=e&&t(i,e)}return"function"==typeof e?n:null==e?Me:(e+="",r)};var Ni,Ci,ji={},Bi=null;Hr.timer=function(e,t,n){var r=!1,i=Bi;if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}for(;i;){if(i.callback===e){i.then=n,i.delay=t,r=!0;break}i,i=i.next}r||(Bi={callback:e,then:n,delay:t,next:Bi}),Ni||(Ci=clearTimeout(Ci),Ni=1,Ai(ke))},Hr.timer.flush=function(){for(var e,t=Date.now(),n=Bi;n;)e=t-n.then,n.delay||(n.flush=n.callback(e)),n=n.next;Ne()};var Ai=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};Hr.mouse=function(e){return Ce(e,A())};var Ei=/WebKit/.test(navigator.userAgent)?-1:0;Hr.touches=function(e,t){return arguments.length<2&&(t=A().touches),t?Ur(t).map(function(t){var n=Ce(e,t);return n.identifier=t.identifier,n}):[]},Hr.scale={},Hr.scale.linear=function(){return De([0,1],[0,1],Hr.interpolate,!1)},Hr.scale.log=function(){return Re(Hr.scale.linear(),He)};var Di=Hr.format(".0e");He.pow=function(e){return Math.pow(10,e)},Ue.pow=function(e){return-Math.pow(10,-e)},Hr.scale.pow=function(){return ze(Hr.scale.linear(),1)},Hr.scale.sqrt=function(){return Hr.scale.pow().exponent(.5)},Hr.scale.ordinal=function(){return We([],{t:"range",a:[[]]})},Hr.scale.category10=function(){return Hr.scale.ordinal().range(Pi)},Hr.scale.category20=function(){return Hr.scale.ordinal().range(Oi)},Hr.scale.category20b=function(){return Hr.scale.ordinal().range($i)},Hr.scale.category20c=function(){return Hr.scale.ordinal().range(Fi)};var Pi=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Oi=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],$i=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Fi=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];Hr.scale.quantile=function(){return Ye([],[])},Hr.scale.quantize=function(){return Ve(0,1,[0,1])},Hr.scale.threshold=function(){return Xe([.5],[0,1])},Hr.scale.identity=function(){return Je([0,1])},Hr.svg={},Hr.svg.arc=function(){function e(){var e=t.apply(this,arguments),a=n.apply(this,arguments),o=r.apply(this,arguments)+qi,u=i.apply(this,arguments)+qi,l=(u<o&&(l=o,o=u,u=l),u-o),s=l<Math.PI?"0":"1",c=Math.cos(o),f=Math.sin(o),d=Math.cos(u),h=Math.sin(u);return l>=Li?e?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":e?"M"+a*c+","+a*f+"A"+a+","+a+" 0 "+s+",1 "+a*d+","+a*h+"L"+e*d+","+e*h+"A"+e+","+e+" 0 "+s+",0 "+e*c+","+e*f+"Z":"M"+a*c+","+a*f+"A"+a+","+a+" 0 "+s+",1 "+a*d+","+a*h+"L0,0Z"}var t=Ze,n=Ge,r=Ke,i=et;return e.innerRadius=function(n){return arguments.length?(t=o(n),e):t},e.outerRadius=function(t){return arguments.length?(n=o(t),e):n},e.startAngle=function(t){return arguments.length?(r=o(t),e):r},e.endAngle=function(t){return arguments.length?(i=o(t),e):i},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,a=(r.apply(this,arguments)+i.apply(this,arguments))/2+qi;return[Math.cos(a)*e,Math.sin(a)*e]},e};var qi=-Math.PI/2,Li=2*Math.PI-1e-6;Hr.svg.line=function(){return tt(r)};var Ii=Hr.map({linear:it,"linear-closed":at,"step-before":ot,"step-after":ut,basis:ht,"basis-open":pt,"basis-closed":gt,bundle:mt,cardinal:ct,"cardinal-open":lt,"cardinal-closed":st,monotone:wt});Ii.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Ri=[0,2/3,1/3,0],Hi=[0,1/3,2/3,0],Ui=[0,1/6,2/3,1/6];Hr.svg.line.radial=function(){var e=tt(Tt);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},ot.reverse=ut,ut.reverse=ot,Hr.svg.area=function(){return Mt(r)},Hr.svg.area.radial=function(){var e=Mt(Tt);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Hr.svg.chord=function(){function e(e,o){var l=t(this,a,e,o),s=t(this,u,e,o);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,s)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,s.r,s.p0)+r(s.r,s.p1,s.a1-s.a0)+i(s.r,s.p1,l.r,l.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),a=l.call(e,i,r),o=s.call(e,i,r)+qi,u=c.call(e,i,r)+qi;return{r:a,a0:o,a1:u,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(u),a*Math.sin(u)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Math.PI)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var a=St,u=kt,l=Nt,s=Ke,c=et;return e.radius=function(t){return arguments.length?(l=o(t),e):l},e.source=function(t){return arguments.length?(a=o(t),e):a},e.target=function(t){return arguments.length?(u=o(t),e):u},e.startAngle=function(t){return arguments.length?(s=o(t),e):s},e.endAngle=function(t){return arguments.length?(c=o(t),e):c},e},Hr.svg.diagonal=function(){function e(e,i){var a=t.call(this,e,i),o=n.call(this,e,i),u=(a.y+o.y)/2,l=[a,{x:a.x,y:u},{x:o.x,y:u},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=St,n=kt,r=Ct;return e.source=function(n){return arguments.length?(t=o(n),e):t},e.target=function(t){return arguments.length?(n=o(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},Hr.svg.diagonal.radial=function(){var e=Hr.svg.diagonal(),t=Ct,n=e.projection;return e.projection=function(e){return arguments.length?n(jt(t=e)):t},e},Hr.svg.mouse=Hr.mouse,Hr.svg.touches=Hr.touches,Hr.svg.symbol=function(){function e(e,r){return(zi.get(t.call(this,e,r))||Et)(n.call(this,e,r))}var t=At,n=Bt;return e.type=function(n){return arguments.length?(t=o(n),e):t},e.size=function(t){return arguments.length?(n=o(t),e):n},e};var zi=Hr.map({circle:Et,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Wi)),n=t*Wi;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Qi),n=t*Qi/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Qi),n=t*Qi/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});Hr.svg.symbolTypes=zi.keys();var Qi=Math.sqrt(3),Wi=Math.tan(30*Math.PI/180);Hr.svg.axis=function(){function e(e){e.each(function(){var e,f=Hr.select(this),d=null==s?n.ticks?n.ticks.apply(n,l):n.domain():s,h=null==t?n.tickFormat?n.tickFormat.apply(n,l):String:t,p=Ot(n,d,c),g=f.selectAll(".minor").data(p,String),m=g.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),y=Hr.transition(g.exit()).style("opacity",1e-6).remove(),v=Hr.transition(g).style("opacity",1),b=f.selectAll("g").data(d,String),x=b.enter().insert("g","path").style("opacity",1e-6),_=Hr.transition(b.exit()).style("opacity",1e-6).remove(),w=Hr.transition(b).style("opacity",1),T=Be(n),M=f.selectAll(".domain").data([0]),S=(M.enter().append("path").attr("class","domain"),Hr.transition(M)),k=n.copy(),N=this.__chart__||k;this.__chart__=k,x.append("line").attr("class","tick"),x.append("text");var C=x.select("line"),j=w.select("line"),B=b.select("text").text(h),A=x.select("text"),E=w.select("text");switch(r){case"bottom":e=Dt,m.attr("y2",a),v.attr("x2",0).attr("y2",a),C.attr("y2",i),A.attr("y",Math.max(i,0)+u),j.attr("x2",0).attr("y2",i),E.attr("x",0).attr("y",Math.max(i,0)+u),B.attr("dy",".71em").attr("text-anchor","middle"),S.attr("d","M"+T[0]+","+o+"V0H"+T[1]+"V"+o);break;case"top":e=Dt,m.attr("y2",-a),v.attr("x2",0).attr("y2",-a),C.attr("y2",-i),A.attr("y",-(Math.max(i,0)+u)),j.attr("x2",0).attr("y2",-i),E.attr("x",0).attr("y",-(Math.max(i,0)+u)),B.attr("dy","0em").attr("text-anchor","middle"),S.attr("d","M"+T[0]+","+-o+"V0H"+T[1]+"V"+-o);break;case"left":e=Pt,m.attr("x2",-a),v.attr("x2",-a).attr("y2",0),C.attr("x2",-i),A.attr("x",-(Math.max(i,0)+u)),j.attr("x2",-i).attr("y2",0),E.attr("x",-(Math.max(i,0)+u)).attr("y",0),B.attr("dy",".32em").attr("text-anchor","end"),S.attr("d","M"+-o+","+T[0]+"H0V"+T[1]+"H"+-o);break;case"right":e=Pt,m.attr("x2",a),v.attr("x2",a).attr("y2",0),C.attr("x2",i),A.attr("x",Math.max(i,0)+u),j.attr("x2",i).attr("y2",0),E.attr("x",Math.max(i,0)+u).attr("y",0),B.attr("dy",".32em").attr("text-anchor","start"),S.attr("d","M"+o+","+T[0]+"H0V"+T[1]+"H"+o)}if(n.ticks)x.call(e,N),w.call(e,k),_.call(e,k),m.call(e,N),v.call(e,k),y.call(e,k);else{var D=k.rangeBand()/2,P=function(e){return k(e)+D};x.call(e,P),w.call(e,P)}})}var t,n=Hr.scale.linear(),r="bottom",i=6,a=6,o=6,u=3,l=[10],s=null,c=0;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t,e):r},e.ticks=function(){return arguments.length?(l=arguments,e):l},e.tickValues=function(t){return arguments.length?(s=t,e):s},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t,n,r){if(!arguments.length)return i;var u=arguments.length-1;return i=+t,a=u>1?+n:i,o=u>0?+arguments[u]:i,e},e.tickPadding=function(t){return arguments.length?(u=+t,e):u},e.tickSubdivide=function(t){return arguments.length?(c=+t,e):c},e},Hr.svg.brush=function(){function e(a){a.each(function(){var a,o=Hr.select(this),c=o.selectAll(".background").data([0]),f=o.selectAll(".extent").data([0]),d=o.selectAll(".resize").data(s,String);o.style("pointer-events","all").on("mousedown.brush",i).on("touchstart.brush",i),c.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),f.enter().append("rect").attr("class","extent").style("cursor","move"),d.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Yi[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),d.style("display",e.empty()?"none":null),d.exit().remove(),u&&(a=Be(u),c.attr("x",a[0]).attr("width",a[1]-a[0]),n(o)),l&&(a=Be(l),c.attr("y",a[0]).attr("height",a[1]-a[0]),r(o)),t(o)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+c[+/e$/.test(e)][0]+","+c[+/^s/.test(e)][1]+")"})}function n(e){e.select(".extent").attr("x",c[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1][0]-c[0][0])}function r(e){e.select(".extent").attr("y",c[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1][1]-c[0][1])}function i(){function i(){var e=Hr.event.changedTouches;return e?Hr.touches(y,e)[0]:Hr.mouse(y)}function s(){32==Hr.event.keyCode&&(M||(g=null,S[0]-=c[1][0],S[1]-=c[1][1],M=2),B())}function f(){32==Hr.event.keyCode&&2==M&&(S[0]+=c[1][0],S[1]+=c[1][1],M=0,B())}function d(){var e=i(),a=!1;m&&(e[0]+=m[0],e[1]+=m[1]),M||(Hr.event.altKey?(g||(g=[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]),S[0]=c[+(e[0]<g[0])][0],S[1]=c[+(e[1]<g[1])][1]):g=null),w&&h(e,u,0)&&(n(x),a=!0),T&&h(e,l,1)&&(r(x),a=!0),a&&(t(x),b({type:"brush",mode:M?"move":"resize"}))}function h(e,t,n){var r,i,o=Be(t),u=o[0],l=o[1],s=S[n],f=c[1][n]-c[0][n];if(M&&(u-=s,l-=f+s),r=Math.max(u,Math.min(l,e[n])),M?i=(r+=s)+f:(g&&(s=Math.max(u,Math.min(l,2*g[n]-r))),s<r?(i=r,r=s):i=s),c[0][n]!==r||c[1][n]!==i)return a=null,c[0][n]=r,c[1][n]=i,!0}function p(){d(),x.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),Hr.select("body").style("cursor",null),k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),b({type:"brushend"}),B()}var g,m,y=this,v=Hr.select(Hr.event.target),b=o.of(y,arguments),x=Hr.select(y),_=v.datum(),w=!/^(n|s)$/.test(_)&&u,T=!/^(e|w)$/.test(_)&&l,M=v.classed("extent"),S=i(),k=Hr.select(window).on("mousemove.brush",d).on("mouseup.brush",p).on("touchmove.brush",d).on("touchend.brush",p).on("keydown.brush",s).on("keyup.brush",f);if(M)S[0]=c[0][0]-S[0],S[1]=c[0][1]-S[1];else if(_){var N=+/w$/.test(_),C=+/^n/.test(_);m=[c[1-N][0]-S[0],c[1-C][1]-S[1]],S[0]=c[N][0],S[1]=c[C][1]}else Hr.event.altKey&&(g=S.slice());x.style("pointer-events","none").selectAll(".resize").style("display",null),Hr.select("body").style("cursor",v.style("cursor")),b({type:"brushstart"}),d(),B()}var a,o=E(e,"brushstart","brush","brushend"),u=null,l=null,s=Vi[0],c=[[0,0],[0,0]];return e.x=function(t){return arguments.length?(u=t,s=Vi[!u<<1|!l],e):u},e.y=function(t){return arguments.length?(l=t,s=Vi[!u<<1|!l],e):l},e.extent=function(t){var n,r,i,o,s;return arguments.length?(a=[[0,0],[0,0]],u&&(n=t[0],r=t[1],l&&(n=n[0],r=r[0]),a[0][0]=n,a[1][0]=r,u.invert&&(n=u(n),r=u(r)),r<n&&(s=n,n=r,r=s),c[0][0]=0|n,c[1][0]=0|r),l&&(i=t[0],o=t[1],u&&(i=i[1],o=o[1]),a[0][1]=i,a[1][1]=o,l.invert&&(i=l(i),o=l(o)),o<i&&(s=i,i=o,o=s),c[0][1]=0|i,c[1][1]=0|o),e):(t=a||c,u&&(n=t[0][0],r=t[1][0],a||(n=c[0][0],r=c[1][0],u.invert&&(n=u.invert(n),r=u.invert(r)),r<n&&(s=n,n=r,r=s))),l&&(i=t[0][1],o=t[1][1],a||(i=c[0][1],o=c[1][1],l.invert&&(i=l.invert(i),o=l.invert(o)),o<i&&(s=i,i=o,o=s))),u&&l?[[n,i],[r,o]]:u?[n,r]:l&&[i,o])},e.clear=function(){return a=null,c[0][0]=c[0][1]=c[1][0]=c[1][1]=0,e},e.empty=function(){return u&&c[0][0]===c[1][0]||l&&c[0][1]===c[1][1]},Hr.rebind(e,o,"on")};var Yi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];Hr.behavior={},Hr.behavior.drag=function(){function e(){this.on("mousedown.drag",t).on("touchstart.drag",t)}function t(){function e(){var e=u.parentNode,t=Hr.event.changedTouches;return t?Hr.touches(e,t)[0]:Hr.mouse(e)}function t(){if(!u.parentNode)return i();var t=e(),n=t[0]-c[0],r=t[1]-c[1];f|=n|r,c=t,B(),l({type:"drag",x:t[0]+o[0],y:t[1]+o[1],dx:n,dy:r})}function i(){l({type:"dragend"}),f&&(B(),Hr.event.target===s&&d.on("click.drag",a,!0)),d.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function a(){B(),d.on("click.drag",null)}var o,u=this,l=n.of(u,arguments),s=Hr.event.target,c=e(),f=0,d=Hr.select(window).on("mousemove.drag",t).on("touchmove.drag",t).on("mouseup.drag",i,!0).on("touchend.drag",i,!0);r?(o=r.apply(u,arguments),o=[o.x-c[0],o.y-c[1]]):o=[0,0],B(),l({type:"dragstart"})}var n=E(e,"drag","dragstart","dragend"),r=null;return e.origin=function(t){return arguments.length?(r=t,e):r},Hr.rebind(e,n,"on")},Hr.behavior.zoom=function(){function e(){this.on("mousedown.zoom",o).on("mousewheel.zoom",u).on("mousemove.zoom",l).on("DOMMouseScroll.zoom",u).on("dblclick.zoom",s).on("touchstart.zoom",c).on("touchmove.zoom",f).on("touchend.zoom",c)}function t(e){return[(e[0]-b[0])/x,(e[1]-b[1])/x]}function n(e){return[e[0]*x+b[0],e[1]*x+b[1]]}function r(e){x=Math.max(_[0],Math.min(_[1],e))}function i(e,t){t=n(t),b[0]+=e[0]-t[0],b[1]+=e[1]-t[1]}function a(e){g&&g.domain(p.range().map(function(e){return(e-b[0])/x}).map(p.invert)),y&&y.domain(m.range().map(function(e){return(e-b[1])/x}).map(m.invert)),Hr.event.preventDefault(),e({type:"zoom",scale:x,translate:b})}function o(){function e(){s=1,i(Hr.mouse(o),f),a(u)}function n(){s&&B(),c.on("mousemove.zoom",null).on("mouseup.zoom",null),s&&Hr.event.target===l&&c.on("click.zoom",r,!0)}function r(){B(),c.on("click.zoom",null)}var o=this,u=w.of(o,arguments),l=Hr.event.target,s=0,c=Hr.select(window).on("mousemove.zoom",e).on("mouseup.zoom",n),f=t(Hr.mouse(o));window.focus(),B()}function u(){d||(d=t(Hr.mouse(this))),r(Math.pow(2,.002*$t())*x),i(Hr.mouse(this),d),a(w.of(this,arguments))}function l(){d=null}function s(){var e=Hr.mouse(this),n=t(e);r(Hr.event.shiftKey?x/2:2*x),i(e,n),a(w.of(this,arguments))}function c(){var e=Hr.touches(this),n=Date.now();if(h=x,d={},e.forEach(function(e){d[e.identifier]=t(e)}),B(),1===e.length){if(n-v<500){var o=e[0],u=t(e[0]);r(2*x),i(o,u),a(w.of(this,arguments))}v=n}}function f(){var e=Hr.touches(this),t=e[0],n=d[t.identifier];if(o=e[1]){var o,u=d[o.identifier];t=[(t[0]+o[0])/2,(t[1]+o[1])/2],n=[(n[0]+u[0])/2,(n[1]+u[1])/2],r(Hr.event.scale*h)}i(t,n),v=null,a(w.of(this,arguments))}var d,h,p,g,m,y,v,b=[0,0],x=1,_=Ji,w=E(e,"zoom");return e.translate=function(t){return arguments.length?(b=t.map(Number),e):b},e.scale=function(t){return arguments.length?(x=+t,e):x},e.scaleExtent=function(t){return arguments.length?(_=null==t?Ji:t.map(Number),e):_},e.x=function(t){return arguments.length?(g=t,p=t.copy(),e):g},e.y=function(t){return arguments.length?(y=t,m=t.copy(),e):y},Hr.rebind(e,w,"on")};var Xi,Ji=[0,1/0];Hr.layout={},Hr.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Ft(e[n]));return t}},Hr.layout.chord=function(){function e(){var e,s,f,d,h,p={},g=[],m=Hr.range(a),y=[];for(n=[],r=[],e=0,d=-1;++d<a;){for(s=0,h=-1;++h<a;)s+=i[d][h];g.push(s),y.push(Hr.range(a)),e+=s}for(o&&m.sort(function(e,t){return o(g[e],g[t])}),u&&y.forEach(function(e,t){e.sort(function(e,n){return u(i[t][e],i[t][n])})}),e=(2*Math.PI-c*a)/e,s=0,d=-1;++d<a;){for(f=s,h=-1;++h<a;){var v=m[d],b=y[v][h],x=i[v][b],_=s,w=s+=x*e;p[v+"-"+b]={index:v,subindex:b,startAngle:_,endAngle:w,value:x}}r[v]={index:v,startAngle:f,endAngle:s,value:(s-f)/e},s+=c}for(d=-1;++d<a;)for(h=d-1;++h<a;){var T=p[d+"-"+h],M=p[h+"-"+d];(T.value||M.value)&&n.push(T.value<M.value?{source:M,target:T}:{source:T,target:M})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,a,o,u,l,s={},c=0;return s.matrix=function(e){return arguments.length?(a=(i=e)&&i.length,n=r=null,s):i},s.padding=function(e){return arguments.length?(c=e,n=r=null,s):c},s.sortGroups=function(e){return arguments.length?(o=e,n=r=null,s):o},s.sortSubgroups=function(e){return arguments.length?(u=e,n=null,s):u},s.sortChords=function(e){return arguments.length?(l=e,n&&t(),s):l},s.chords=function(){return n||e(),n},s.groups=function(){return r||e(),r},s},Hr.layout.force=function(){function e(e){return function(t,n,r,i,a){if(t.point!==e){var o=t.cx-e.x,u=t.cy-e.y,l=1/Math.sqrt(o*o+u*u);if((i-n)*l<y){var s=t.charge*l*l;return e.px-=o*s,e.py-=u*s,!0}if(t.point&&isFinite(l)){var s=t.pointCharge*l*l;e.px-=o*s,e.py-=u*s}}return!t.charge}}function t(e){It(Gi=e),Zi=s}var n,i,a,u,l,s={},c=Hr.dispatch("start","tick","end"),f=[1,1],d=.9,h=Qt,p=Wt,g=-30,m=.1,y=.8,v=[],b=[];return s.tick=function(){if((i*=.99)<.005)return c.end({type:"end",alpha:i=0}),!0;var t,n,r,o,s,h,p,y,x,_=v.length,w=b.length;for(n=0;n<w;++n)r=b[n],o=r.source,s=r.target,y=s.x-o.x,x=s.y-o.y,(h=y*y+x*x)&&(h=i*u[n]*((h=Math.sqrt(h))-a[n])/h,y*=h,x*=h,s.x-=y*(p=o.weight/(s.weight+o.weight)),s.y-=x*p,o.x+=y*(p=1-p),o.y+=x*p);if((p=i*m)&&(y=f[0]/2,x=f[1]/2,n=-1,p))for(;++n<_;)r=v[n],r.x+=(y-r.x)*p,r.y+=(x-r.y)*p;if(g)for(zt(t=Hr.geom.quadtree(v),i,l),n=-1;++n<_;)(r=v[n]).fixed||t.visit(e(r));for(n=-1;++n<_;)r=v[n],r.fixed?(r.x=r.px,r.y=r.py):(r.x-=(r.px-(r.px=r.x))*d,r.y-=(r.py-(r.py=r.y))*d);c.tick({type:"tick",alpha:i})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(b=e,s):b},s.size=function(e){return arguments.length?(f=e,s):f},s.linkDistance=function(e){return arguments.length?(h=o(e),s):h},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(p=o(e),s):p},s.friction=function(e){return arguments.length?(d=e,s):d},s.charge=function(e){return arguments.length?(g="function"==typeof e?e:+e,s):g},s.gravity=function(e){return arguments.length?(m=e,s):m},s.theta=function(e){return arguments.length?(y=e,s):y},s.alpha=function(e){return arguments.length?(i?i=e>0?e:0:e>0&&(c.start({type:"start",alpha:i=e}),Hr.timer(s.tick)),s):i},s.start=function(){function e(e,n){for(var r,i=t(),a=-1,o=i.length;++a<o;)if(!isNaN(r=i[a][e]))return r;return Math.random()*n}function t(){if(!i){for(i=[],r=0;r<c;++r)i[r]=[];for(r=0;r<d;++r){var e=b[r];i[e.source.index].push(e.target),i[e.target.index].push(e.source)}}return i[n]}var n,r,i,o,c=v.length,d=b.length,m=f[0],y=f[1];for(n=0;n<c;++n)(o=v[n]).index=n,o.weight=0;for(a=[],u=[],n=0;n<d;++n)o=b[n],"number"==typeof o.source&&(o.source=v[o.source]),"number"==typeof o.target&&(o.target=v[o.target]),a[n]=h.call(this,o,n),u[n]=p.call(this,o,n),++o.source.weight,++o.target.weight;for(n=0;n<c;++n)o=v[n],isNaN(o.x)&&(o.x=e("x",m)),isNaN(o.y)&&(o.y=e("y",y)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(l=[],"function"==typeof g)for(n=0;n<c;++n)l[n]=+g.call(this,v[n],n);else for(n=0;n<c;++n)l[n]=g;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){n||(n=Hr.behavior.drag().origin(r).on("dragstart",t).on("drag",Ut).on("dragend",Ht)),this.on("mouseover.force",It).on("mouseout.force",Rt).call(n)},Hr.rebind(s,c,"on")};var Zi,Gi;Hr.layout.partition=function(){function e(t,n,r,i){var a=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,a&&(o=a.length)){var o,u,l,s=-1;for(r=t.value?r/t.value:0;++s<o;)e(u=a[s],n,l=u.value*r,i),n+=l}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,a=-1;++a<i;)r=Math.max(r,t(n[a]));return 1+r}function n(n,a){var o=r.call(this,n,a);return e(o[0],0,i[0],i[1]/t(o[0])),o}var r=Hr.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},an(n,r)},Hr.layout.pie=function(){function e(a,o){var u=a.map(function(n,r){return+t.call(e,n,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),s=(("function"==typeof i?i.apply(this,arguments):i)-r)/Hr.sum(u),c=Hr.range(a.length);null!=n&&c.sort(n===Ki?function(e,t){return u[t]-u[e]}:function(e,t){return n(a[e],a[t])});var f=[];return c.forEach(function(e){var t;f[e]={data:a[e],value:t=u[e],startAngle:l,endAngle:l+=t*s}}),f}var t=Number,n=Ki,r=0,i=2*Math.PI;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var Ki={};Hr.layout.stack=function(){function e(r,l){var s=r.map(function(n,r){return t.call(e,n,r)}),c=s.map(function(t,n){return t.map(function(t,n){return[o.call(e,t,n),u.call(e,t,n)]})}),f=n.call(e,c,l);s=Hr.permute(s,f),c=Hr.permute(c,f);var d,h,p,g=i.call(e,c,l),m=s.length,y=s[0].length;for(h=0;h<y;++h)for(a.call(e,s[0][h],p=g[h],c[0][h][1]),d=1;d<m;++d)a.call(e,s[d][h],p+=c[d-1][h][1],c[d][h][1]);return r}var t=r,n=Jt,i=Zt,a=Xt,o=Yt,u=Vt;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:ea.get(t)||Jt,e):n},e.offset=function(t){return arguments.length?(i="function"==typeof t?t:ta.get(t)||Zt,e):i},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(u=t,e):u},e.out=function(t){return arguments.length?(a=t,e):a},e};var ea=Hr.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(Gt),a=e.map(Kt),o=Hr.range(r).sort(function(e,t){return i[e]-i[t]}),u=0,l=0,s=[],c=[];for(t=0;t<r;++t)n=o[t],u<l?(u+=a[n],s.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(s)},reverse:function(e){return Hr.range(e.length).reverse()},default:Jt}),ta=Hr.map({silhouette:function(e){var t,n,r,i=e.length,a=e[0].length,o=[],u=0,l=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>u&&(u=r),o.push(r)}for(n=0;n<a;++n)l[n]=(u-o[n])/2;return l},wiggle:function(e){var t,n,r,i,a,o,u,l,s,c=e.length,f=e[0],d=f.length,h=[];for(h[0]=l=s=0,n=1;n<d;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,a=0,u=f[n][0]-f[n-1][0];t<c;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*u);r<t;++r)o+=(e[r][n][1]-e[r][n-1][1])/u;a+=o*e[t][n][1]}h[n]=l-=i?a/i*u:0,l<s&&(s=l)}for(n=0;n<d;++n)h[n]-=s;return h},expand:function(e){var t,n,r,i=e.length,a=e[0].length,o=1/i,u=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=o}for(n=0;n<a;++n)u[n]=0;return u},zero:Zt});Hr.layout.histogram=function(){function e(e,a){for(var o,u,l=[],s=e.map(n,this),c=r.call(this,s,a),f=i.call(this,c,s,a),a=-1,d=s.length,h=f.length-1,p=t?1:1/d;++a<h;)o=l[a]=[],o.dx=f[a+1]-(o.x=f[a]),o.y=0;if(h>0)for(a=-1;++a<d;)(u=s[a])>=c[0]&&u<=c[1]&&(o=l[Hr.bisect(f,u,1,h)-1],o.y+=p,o.push(e[a]));return l}var t=!0,n=Number,r=rn,i=tn;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=o(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return nn(e,t)}:o(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},Hr.layout.hierarchy=function(){function e(t,o,u){var l=i.call(n,t,o),s=na?t:{data:t};if(s.depth=o,u.push(s),l&&(c=l.length)){for(var c,f,d=-1,h=s.children=[],p=0,g=o+1;++d<c;)f=e(l[d],g,u),f.parent=s,h.push(f),p+=f.value;r&&h.sort(r),a&&(s.value=p)}else a&&(s.value=+a.call(n,t,o)||0);return s}function t(e,r){var i=e.children,o=0;if(i&&(u=i.length))for(var u,l=-1,s=r+1;++l<u;)o+=t(i[l],s);else a&&(o=+a.call(n,na?e:e.data,r)||0);return a&&(e.value=o),o}function n(t){var n=[];return e(t,0,n),n}var r=ln,i=on,a=un;return n.sort=function(e){return arguments.length?(r=e,n):r},n.children=function(e){return arguments.length?(i=e,n):i},n.value=function(e){return arguments.length?(a=e,n):a},n.revalue=function(e){return t(e,0),e},n};var na=!1;Hr.layout.pack=function(){function e(e,i){var a=t.call(this,e,i),o=a[0];o.x=0,o.y=0,Bn(o,function(e){e.r=Math.sqrt(e.value)}),Bn(o,pn);var u=r[0],l=r[1],s=Math.max(2*o.r/u,2*o.r/l);if(n>0){var c=n*s/2;Bn(o,function(e){e.r+=c}),Bn(o,pn),Bn(o,function(e){e.r-=c}),s=Math.max(2*o.r/u,2*o.r/l)}return yn(o,u/2,l/2,1/s),a}var t=Hr.layout.hierarchy().sort(cn),n=0,r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},e.padding=function(t){return arguments.length?(n=+t,e):n},an(e,t)},Hr.layout.cluster=function(){function e(e,i){var a,o=t.call(this,e,i),u=o[0],l=0;Bn(u,function(e){var t=e.children;t&&t.length?(e.x=xn(t),e.y=bn(t)):(e.x=a?l+=n(e,a):0,e.y=0,a=e)});var s=_n(u),c=wn(u),f=s.x-n(s,c)/2,d=c.x+n(c,s)/2;return Bn(u,function(e){e.x=(e.x-f)/(d-f)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),o}var t=Hr.layout.hierarchy().sort(null).value(null),n=Tn,r=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=t,e):r},an(e,t)},Hr.layout.tree=function(){function e(e,i){function a(e,t){var r=e.children,i=e._tree;if(r&&(o=r.length)){for(var o,l,s,c=r[0],f=c,d=-1;++d<o;)s=r[d],a(s,l),f=u(s,l,f),l=s;An(e);var h=.5*(c._tree.prelim+s._tree.prelim);t?(i.prelim=t._tree.prelim+n(e,t),i.mod=i.prelim-h):i.prelim=h}else t&&(i.prelim=t._tree.prelim+n(e,t))}function o(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(r=n.length)){var r,i=-1;for(t+=e._tree.mod;++i<r;)o(n[i],t)}}function u(e,t,r){if(t){for(var i,a=e,o=e,u=t,l=e.parent.children[0],s=a._tree.mod,c=o._tree.mod,f=u._tree.mod,d=l._tree.mod;u=Sn(u),a=Mn(a),u&&a;)l=Mn(l),o=Sn(o),o._tree.ancestor=e,i=u._tree.prelim+f-a._tree.prelim-s+n(u,a),i>0&&(En(Dn(u,e,r),e,i),s+=i,c+=i),f+=u._tree.mod,s+=a._tree.mod,d+=l._tree.mod,c+=o._tree.mod;u&&!Sn(o)&&(o._tree.thread=u,o._tree.mod+=f-c),a&&!Mn(l)&&(l._tree.thread=a,l._tree.mod+=s-d,r=e)}return r}var l=t.call(this,e,i),s=l[0];Bn(s,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),a(s),o(s,-s._tree.prelim);var c=kn(s,Cn),f=kn(s,Nn),d=kn(s,jn),h=c.x-n(c,f)/2,p=f.x+n(f,c)/2,g=d.depth||1;return Bn(s,function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=e.depth/g*r[1],delete e._tree}),l}var t=Hr.layout.hierarchy().sort(null).value(null),n=Tn,r=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=t,e):r},an(e,t)},Hr.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,a=e.length;++i<a;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function t(n){var a=n.children;if(a&&a.length){var o,u,l,s=f(n),c=[],d=a.slice(),h=1/0,p=Math.min(s.dx,s.dy);for(e(d,s.dx*s.dy/n.value),c.area=0;(l=d.length)>0;)c.push(o=d[l-1]),c.area+=o.area,(u=r(c,p))<=h?(d.pop(),h=u):(c.area-=c.pop().area,i(c,p,s,!1),p=Math.min(s.dx,s.dy),c.length=c.area=0,h=1/0);c.length&&(i(c,p,s,!0),c.length=c.area=0),a.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var a,o=f(t),u=r.slice(),l=[];for(e(u,o.dx*o.dy/t.value),l.area=0;a=u.pop();)l.push(a),l.area+=a.area,null!=a.z&&(i(l,a.z?o.dx:o.dy,o,!u.length),l.length=l.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,a=1/0,o=-1,u=e.length;++o<u;)(n=e[o].area)&&(n<a&&(a=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*h/r,r/(t*a*h)):1/0}function i(e,t,n,r){var i,a=-1,o=e.length,u=n.x,s=n.y,c=t?l(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++a<o;)i=e[a],i.x=u,i.y=s,i.dy=c,u+=i.dx=Math.min(n.x+n.dx-u,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-u,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++a<o;)i=e[a],i.x=u,i.y=s,i.dx=c,s+=i.dy=Math.min(n.y+n.dy-s,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-s,n.x+=c,n.dx-=c}}function a(r){var i=o||u(r),a=i[0];return a.x=0,a.y=0,a.dx=s[0],a.dy=s[1],o&&u.revalue(a),e([a],a.dx*a.dy/a.value),(o?n:t)(a),d&&(o=i),i}var o,u=Hr.layout.hierarchy(),l=Math.round,s=[1,1],c=null,f=Pn,d=!1,h=.5*(1+Math.sqrt(5));return a.size=function(e){return arguments.length?(s=e,a):s},a.padding=function(e){function t(t){var n=e.call(a,t,t.depth);return null==n?Pn(t):On(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return On(t,e)}if(!arguments.length)return c;var r;return f=null==(c=e)?Pn:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,a},a.round=function(e){return arguments.length?(l=e?Math.round:Number,a):l!=Number},a.sticky=function(e){return arguments.length?(d=e,o=null,a):d},a.ratio=function(e){return arguments.length?(h=e,a):h},an(a,u)},Hr.csv=$n(",","text/csv"),Hr.tsv=$n("\t","text/tab-separated-values"),Hr.geo={};var ra=Math.PI/180;Hr.geo.azimuthal=function(){function e(e){var t,r=e[0]*ra-n,s=e[1]*ra,c=Math.cos(r),f=Math.sin(r),d=Math.cos(s),h=Math.sin(s),p="orthographic"!==o?a*h+i*d*c:null,g="stereographic"===o?1/(1+p):"gnomonic"===o?1/p:"equidistant"===o?(t=Math.acos(p),t?t/Math.sin(t):0):"equalarea"===o?Math.sqrt(2/(1+p)):1,m=g*d*f,y=g*(a*d*c-i*h);return[u*m+l[0],u*y+l[1]]}var t,n,r,i,a,o="orthographic",u=200,l=[480,250];return e.invert=function(e){var t=(e[0]-l[0])/u,r=(e[1]-l[1])/u,s=Math.sqrt(t*t+r*r),c="stereographic"===o?2*Math.atan(s):"gnomonic"===o?Math.atan(s):"equidistant"===o?s:"equalarea"===o?2*Math.asin(.5*s):Math.asin(s),f=Math.sin(c),d=Math.cos(c);return[(n+Math.atan2(t*f,s*i*d+r*a*f))/ra,Math.asin(d*a-(s?r*f*i/s:0))/ra]},e.mode=function(t){return arguments.length?(o=t+"",e):o},e.origin=function(o){return arguments.length?(t=o,n=t[0]*ra,r=t[1]*ra,i=Math.cos(r),a=Math.sin(r),e):t},e.scale=function(t){return arguments.length?(u=+t,e):u},e.translate=function(t){return arguments.length?(l=[+t[0],+t[1]],e):l},e.origin([0,0])},Hr.geo.albers=function(){function e(e){var t=r*(ra*e[0]-n),o=Math.sqrt(i-2*r*Math.sin(ra*e[1]))/r;return[l*o*Math.sin(t)+s[0],l*(o*Math.cos(t)-a)+s[1]]}function t(){var t=ra*u[0],l=ra*u[1],s=ra*o[1],c=Math.sin(t),f=Math.cos(t);return n=ra*o[0],r=.5*(c+Math.sin(l)),i=f*f+2*r*c,a=Math.sqrt(i-2*r*Math.sin(s))/r,e}
var n,r,i,a,o=[-98,38],u=[29.5,45.5],l=1e3,s=[480,250];return e.invert=function(e){var t=(e[0]-s[0])/l,o=(e[1]-s[1])/l,u=a+o,c=Math.atan2(t,u),f=Math.sqrt(t*t+u*u);return[(n+c/r)/ra,Math.asin((i-f*f*r*r)/(2*r))/ra]},e.origin=function(e){return arguments.length?(o=[+e[0],+e[1]],t()):o},e.parallels=function(e){return arguments.length?(u=[+e[0],+e[1]],t()):u},e.scale=function(t){return arguments.length?(l=+t,e):l},e.translate=function(t){return arguments.length?(s=[+t[0],+t[1]],e):s},t()},Hr.geo.albersUsa=function(){function e(e){var a=e[0],o=e[1];return(o>50?n:a<-140?r:o<21?i:t)(e)}var t=Hr.geo.albers(),n=Hr.geo.albers().origin([-160,60]).parallels([55,65]),r=Hr.geo.albers().origin([-160,20]).parallels([8,18]),i=Hr.geo.albers().origin([-60,10]).parallels([8,18]);return e.scale=function(a){return arguments.length?(t.scale(a),n.scale(.6*a),r.scale(a),i.scale(1.5*a),e.translate(t.translate())):t.scale()},e.translate=function(a){if(!arguments.length)return t.translate();var o=t.scale()/1e3,u=a[0],l=a[1];return t.translate(a),n.translate([u-400*o,l+170*o]),r.translate([u-190*o,l+200*o]),i.translate([u+580*o,l+430*o]),e},e.scale(t.scale())},Hr.geo.bonne=function(){function e(e){var u=e[0]*ra-t,l=e[1]*ra-n;if(r){var s=i+r-l,c=u*Math.cos(l)/s;u=s*Math.sin(c),l=s*Math.cos(c)-i}else u*=Math.cos(l),l*=-1;return[a*u+o[0],a*l+o[1]]}var t,n,r,i,a=200,o=[480,250];return e.invert=function(e){var n=(e[0]-o[0])/a,u=(e[1]-o[1])/a;if(r){var l=i+u,s=Math.sqrt(n*n+l*l);u=i+r-s,n=t+s*Math.atan2(n,l)/Math.cos(u)}else u*=-1,n/=Math.cos(u);return[n/ra,u/ra]},e.parallel=function(t){return arguments.length?(i=1/Math.tan(r=t*ra),e):r/ra},e.origin=function(r){return arguments.length?(t=r[0]*ra,n=r[1]*ra,e):[t/ra,n/ra]},e.scale=function(t){return arguments.length?(a=+t,e):a},e.translate=function(t){return arguments.length?(o=[+t[0],+t[1]],e):o},e.origin([0,0]).parallel(45)},Hr.geo.equirectangular=function(){function e(e){var r=e[0]/360,i=-e[1]/360;return[t*r+n[0],t*i+n[1]]}var t=500,n=[480,250];return e.invert=function(e){return[(e[0]-n[0])/t*360,(e[1]-n[1])/t*-360]},e.scale=function(n){return arguments.length?(t=+n,e):t},e.translate=function(t){return arguments.length?(n=[+t[0],+t[1]],e):n},e},Hr.geo.mercator=function(){function e(e){var r=e[0]/360,i=-Math.log(Math.tan(Math.PI/4+e[1]*ra/2))/ra/360;return[t*r+n[0],t*Math.max(-.5,Math.min(.5,i))+n[1]]}var t=500,n=[480,250];return e.invert=function(e){var r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return[360*r,2*Math.atan(Math.exp(-360*i*ra))/ra-90]},e.scale=function(n){return arguments.length?(t=+n,e):t},e.translate=function(t){return arguments.length?(n=[+t[0],+t[1]],e):n},e},Hr.geo.path=function(){function e(e,t){"function"==typeof a&&(o=qn(a.apply(this,arguments))),s(e);var n=l.length?l.join(""):null;return l=[],n}function t(e){return u(e).join(",")}function n(e){for(var t=i(e[0]),n=0,r=e.length;++n<r;)t-=i(e[n]);return t}function r(e){for(var t=Hr.geom.polygon(e[0].map(u)),n=t.area(),r=t.centroid(n<0?(n*=-1,1):-1),i=r[0],a=r[1],o=n,l=0,s=e.length;++l<s;)t=Hr.geom.polygon(e[l].map(u)),n=t.area(),r=t.centroid(n<0?(n*=-1,1):-1),i-=r[0],a-=r[1],o-=n;return[i,a,6*o]}function i(e){return Math.abs(Hr.geom.polygon(e.map(u)).area())}var a=4.5,o=qn(a),u=Hr.geo.albersUsa(),l=[],s=Fn({FeatureCollection:function(e){for(var t=e.features,n=-1,r=t.length;++n<r;)l.push(s(t[n].geometry))},Feature:function(e){s(e.geometry)},Point:function(e){l.push("M",t(e.coordinates),o)},MultiPoint:function(e){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)l.push("M",t(n[r]),o)},LineString:function(e){var n=e.coordinates,r=-1,i=n.length;for(l.push("M");++r<i;)l.push(t(n[r]),"L");l.pop()},MultiLineString:function(e){for(var n,r,i,a=e.coordinates,o=-1,u=a.length;++o<u;){for(n=a[o],r=-1,i=n.length,l.push("M");++r<i;)l.push(t(n[r]),"L");l.pop()}},Polygon:function(e){for(var n,r,i,a=e.coordinates,o=-1,u=a.length;++o<u;)if(n=a[o],r=-1,(i=n.length-1)>0){for(l.push("M");++r<i;)l.push(t(n[r]),"L");l[l.length-1]="Z"}},MultiPolygon:function(e){for(var n,r,i,a,o,u,s=e.coordinates,c=-1,f=s.length;++c<f;)for(n=s[c],r=-1,i=n.length;++r<i;)if(a=n[r],o=-1,(u=a.length-1)>0){for(l.push("M");++o<u;)l.push(t(a[o]),"L");l[l.length-1]="Z"}},GeometryCollection:function(e){for(var t=e.geometries,n=-1,r=t.length;++n<r;)l.push(s(t[n]))}}),c=e.area=Fn({FeatureCollection:function(e){for(var t=0,n=e.features,r=-1,i=n.length;++r<i;)t+=c(n[r]);return t},Feature:function(e){return c(e.geometry)},Polygon:function(e){return n(e.coordinates)},MultiPolygon:function(e){for(var t=0,r=e.coordinates,i=-1,a=r.length;++i<a;)t+=n(r[i]);return t},GeometryCollection:function(e){for(var t=0,n=e.geometries,r=-1,i=n.length;++r<i;)t+=c(n[r]);return t}},0),f=e.centroid=Fn({Feature:function(e){return f(e.geometry)},Polygon:function(e){var t=r(e.coordinates);return[t[0]/t[2],t[1]/t[2]]},MultiPolygon:function(e){for(var t,n=e.coordinates,i=0,a=0,o=0,u=-1,l=n.length;++u<l;)t=r(n[u]),i+=t[0],a+=t[1],o+=t[2];return[i/o,a/o]}});return e.projection=function(t){return u=t,e},e.pointRadius=function(t){return"function"==typeof t?a=t:(a=+t,o=qn(a)),e},e},Hr.geo.bounds=function(e){var t=1/0,n=1/0,r=-1/0,i=-1/0;return Ln(e,function(e,a){e<t&&(t=e),e>r&&(r=e),a<n&&(n=a),a>i&&(i=a)}),[[t,n],[r,i]]};var ia={Feature:In,FeatureCollection:Rn,GeometryCollection:Hn,LineString:Un,MultiLineString:zn,MultiPoint:Un,MultiPolygon:Qn,Point:Wn,Polygon:Yn};Hr.geo.circle=function(){function e(){}function t(e){return l.distance(e)<u}function n(e){for(var t,n,r,a,o,s=-1,c=e.length,f=[];++s<c;)o=l.distance(r=e[s]),o<u?(n&&f.push(Zn(n,r)((a-u)/(a-o))),f.push(r),t=n=null):(n=r,!t&&f.length&&(f.push(Zn(f[f.length-1],n)((u-a)/(o-a))),t=n)),a=o;return t=e[0],n=f[0],!n||r[0]!==t[0]||r[1]!==t[1]||r[0]===n[0]&&r[1]===n[1]||f.push(n),i(f)}function i(e){for(var t,n,r,i=0,a=e.length,o=a?[e[0]]:e,u=l.source();++i<a;)for(r=l.source(e[i-1])(e[i]).coordinates,t=0,n=r.length;++t<n;)o.push(r[t]);return l.source(u),o}var a=[0,0],o=89.99,u=o*ra,l=Hr.geo.greatArc().source(a).target(r);e.clip=function(e){return"function"==typeof a&&l.source(a.apply(this,arguments)),s(e)||null};var s=Fn({FeatureCollection:function(e){var t=e.features.map(s).filter(r);return t&&(e=Object.create(e),e.features=t,e)},Feature:function(e){var t=s(e.geometry);return t&&(e=Object.create(e),e.geometry=t,e)},Point:function(e){return t(e.coordinates)&&e},MultiPoint:function(e){var n=e.coordinates.filter(t);return n.length&&{type:e.type,coordinates:n}},LineString:function(e){var t=n(e.coordinates);return t.length&&(e=Object.create(e),e.coordinates=t,e)},MultiLineString:function(e){var t=e.coordinates.map(n).filter(function(e){return e.length});return t.length&&(e=Object.create(e),e.coordinates=t,e)},Polygon:function(e){var t=e.coordinates.map(n);return t[0].length&&(e=Object.create(e),e.coordinates=t,e)},MultiPolygon:function(e){var t=e.coordinates.map(function(e){return e.map(n)}).filter(function(e){return e[0].length});return t.length&&(e=Object.create(e),e.coordinates=t,e)},GeometryCollection:function(e){var t=e.geometries.map(s).filter(r);return t.length&&(e=Object.create(e),e.geometries=t,e)}});return e.origin=function(t){return arguments.length?(a=t,"function"!=typeof a&&l.source(a),e):a},e.angle=function(t){return arguments.length?(u=(o=+t)*ra,e):o},Hr.rebind(e,l,"precision")},Hr.geo.greatArc=function(){function e(){for(var r=e.distance.apply(this,arguments),i=0,u=a/r,l=[t];(i+=u)<1;)l.push(o(i));return l.push(n),{type:"LineString",coordinates:l}}var t,n,r=Vn,i=Xn,a=6*ra,o=Jn();return e.distance=function(){return"function"==typeof r&&o.source(t=r.apply(this,arguments)),"function"==typeof i&&o.target(n=i.apply(this,arguments)),o.distance()},e.source=function(n){return arguments.length?(r=n,"function"!=typeof r&&o.source(t=r),e):r},e.target=function(t){return arguments.length?(i=t,"function"!=typeof i&&o.target(n=i),e):i},e.precision=function(t){return arguments.length?(a=t*ra,e):a/ra},e},Hr.geo.greatCircle=Hr.geo.circle,Hr.geom={},Hr.geom.contour=function(e,t){var n=t||Gn(e),r=[],i=n[0],a=n[1],o=0,u=0,l=NaN,s=NaN,c=0;do{c=0,e(i-1,a-1)&&(c+=1),e(i,a-1)&&(c+=2),e(i-1,a)&&(c+=4),e(i,a)&&(c+=8),6===c?(o=-1===s?-1:1,u=0):9===c?(o=0,u=1===l?-1:1):(o=aa[c],u=oa[c]),o!=l&&u!=s&&(r.push([i,a]),l=o,s=u),i+=o,a+=u}while(n[0]!=i||n[1]!=a);return r};var aa=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],oa=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];Hr.geom.hull=function(e){if(e.length<3)return[];var t,n,r,i,a,o,u,l,s,c,f=e.length,d=f-1,h=[],p=[],g=0;for(t=1;t<f;++t)e[t][1]<e[g][1]?g=t:e[t][1]==e[g][1]&&(g=e[t][0]<e[g][0]?t:g);for(t=0;t<f;++t)t!==g&&(i=e[t][1]-e[g][1],r=e[t][0]-e[g][0],h.push({angle:Math.atan2(i,r),index:t}));for(h.sort(function(e,t){return e.angle-t.angle}),s=h[0].angle,l=h[0].index,u=0,t=1;t<d;++t)n=h[t].index,s==h[t].angle?(r=e[l][0]-e[g][0],i=e[l][1]-e[g][1],a=e[n][0]-e[g][0],o=e[n][1]-e[g][1],r*r+i*i>=a*a+o*o?h[t].index=-1:(h[u].index=-1,s=h[t].angle,u=t,l=n)):(s=h[t].angle,u=t,l=n);for(p.push(g),t=0,n=0;t<2;++n)-1!==h[n].index&&(p.push(h[n].index),t++);for(c=p.length;n<d;++n)if(-1!==h[n].index){for(;!Kn(p[c-2],p[c-1],h[n].index,e);)--c;p[c++]=h[n].index}var m=[];for(t=0;t<c;++t)m.push(e[p[t]]);return m},Hr.geom.polygon=function(e){return e.area=function(){for(var t=0,n=e.length,r=e[n-1][0]*e[0][1],i=e[n-1][1]*e[0][0];++t<n;)r+=e[t-1][0]*e[t][1],i+=e[t-1][1]*e[t][0];return.5*(i-r)},e.centroid=function(t){var n,r,i=-1,a=e.length,o=0,u=0,l=e[a-1];for(arguments.length||(t=-1/(6*e.area()));++i<a;)n=l,l=e[i],r=n[0]*l[1]-l[0]*n[1],o+=(n[0]+l[0])*r,u+=(n[1]+l[1])*r;return[o*t,u*t]},e.clip=function(t){for(var n,r,i,a,o,u,l=-1,s=e.length,c=e[s-1];++l<s;){for(n=t.slice(),t.length=0,a=e[l],o=n[(i=n.length)-1],r=-1;++r<i;)u=n[r],er(u,c,a)?(er(o,c,a)||t.push(tr(o,u,c,a)),t.push(u)):er(o,c,a)&&t.push(tr(o,u,c,a)),o=u;c=a}return t},e},Hr.geom.voronoi=function(e){var t=e.map(function(){return[]});return nr(e,function(e){var n,r,i,a,o,u;1===e.a&&e.b>=0?(n=e.ep.r,r=e.ep.l):(n=e.ep.l,r=e.ep.r),1===e.a?(o=n?n.y:-1e6,i=e.c-e.b*o,u=r?r.y:1e6,a=e.c-e.b*u):(i=n?n.x:-1e6,o=e.c-e.a*i,a=r?r.x:1e6,u=e.c-e.a*a);var l=[i,o],s=[a,u];t[e.region.l.index].push(l,s),t[e.region.r.index].push(l,s)}),t.map(function(t,n){var r=e[n][0],i=e[n][1];return t.forEach(function(e){e.angle=Math.atan2(e[0]-r,e[1]-i)}),t.sort(function(e,t){return e.angle-t.angle}).filter(function(e,n){return!n||e.angle-t[n-1].angle>1e-10})})};var ua={l:"r",r:"l"};Hr.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];return nr(e,function(n){t[n.region.l.index].push(e[n.region.r.index])}),t.forEach(function(t,r){var i=e[r],a=i[0],o=i[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-a,e[1]-o)}),t.sort(function(e,t){return e.angle-t.angle});for(var u=0,l=t.length-1;u<l;u++)n.push([i,t[u],t[u+1]])}),n},Hr.geom.quadtree=function(e,t,n,r,i){function a(e,t,n,r,i,a){if(!isNaN(t.x)&&!isNaN(t.y))if(e.leaf){var u=e.point;u?Math.abs(u.x-t.x)+Math.abs(u.y-t.y)<.01?o(e,t,n,r,i,a):(e.point=null,o(e,u,n,r,i,a),o(e,t,n,r,i,a)):e.point=t}else o(e,t,n,r,i,a)}function o(e,t,n,r,i,o){var u=.5*(n+i),l=.5*(r+o),s=t.x>=u,c=t.y>=l,f=(c<<1)+s;e.leaf=!1,e=e.nodes[f]||(e.nodes[f]=rr()),s?n=u:i=u,c?r=l:o=l,a(e,t,n,r,i,o)}var u,l=-1,s=e.length;if(s&&isNaN(e[0].x)&&(e=e.map(ar)),arguments.length<5)if(3===arguments.length)i=r=n,n=t;else{for(t=n=1/0,r=i=-1/0;++l<s;)u=e[l],u.x<t&&(t=u.x),u.y<n&&(n=u.y),u.x>r&&(r=u.x),u.y>i&&(i=u.y);var c=r-t,f=i-n;c>f?i=n+c:r=t+f}var d=rr();return d.add=function(e){a(d,e,t,n,r,i)},d.visit=function(e){ir(e,d,t,n,r,i)},e.forEach(d.add),d},Hr.time={};var la=Date,sa=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];or.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ca.setUTCDate.apply(this._,arguments)},setDay:function(){ca.setUTCDay.apply(this._,arguments)},setFullYear:function(){ca.setUTCFullYear.apply(this._,arguments)},setHours:function(){ca.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ca.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ca.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ca.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ca.setUTCSeconds.apply(this._,arguments)},setTime:function(){ca.setTime.apply(this._,arguments)}};var ca=Date.prototype,fa=sa,da=fa.map(ur),ha=["January","February","March","April","May","June","July","August","September","October","November","December"],pa=ha.map(ur);Hr.time.format=function(e){function t(t){for(var r,i,a=[],o=-1,u=0;++o<n;)37==e.charCodeAt(o)&&(a.push(e.substring(u,o),(i=Sa[r=e.charAt(++o)])?i(t):r),u=o+1);return a.push(e.substring(u,o)),a.join("")}var n=e.length;return t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(lr(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=new la;return r.setFullYear(n.y,n.m,n.d),r.setHours(n.H,n.M,n.S,n.L),r},t.toString=function(){return e},t};var ga=Hr.format("02d"),ma=Hr.format("03d"),ya=Hr.format("04d"),va=Hr.format("2d"),ba=sr(fa),xa=sr(da),_a=sr(ha),wa=cr(ha),Ta=sr(pa),Ma=cr(pa),Sa={a:function(e){return da[e.getDay()]},A:function(e){return fa[e.getDay()]},b:function(e){return pa[e.getMonth()]},B:function(e){return ha[e.getMonth()]},c:Hr.time.format("%a %b %e %H:%M:%S %Y"),d:function(e){return ga(e.getDate())},e:function(e){return va(e.getDate())},H:function(e){return ga(e.getHours())},I:function(e){return ga(e.getHours()%12||12)},j:function(e){return ma(1+Hr.time.dayOfYear(e))},L:function(e){return ma(e.getMilliseconds())},m:function(e){return ga(e.getMonth()+1)},M:function(e){return ga(e.getMinutes())},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e){return ga(e.getSeconds())},U:function(e){return ga(Hr.time.sundayOfYear(e))},w:function(e){return e.getDay()},W:function(e){return ga(Hr.time.mondayOfYear(e))},x:Hr.time.format("%m/%d/%y"),X:Hr.time.format("%H:%M:%S"),y:function(e){return ga(e.getFullYear()%100)},Y:function(e){return ya(e.getFullYear()%1e4)},Z:Cr,"%":function(e){return"%"}},ka={a:fr,A:dr,b:hr,B:pr,c:gr,d:wr,e:wr,H:Tr,I:Tr,L:kr,m:_r,M:Mr,p:Nr,S:Sr,x:mr,X:yr,y:br,Y:vr},Na=/^\s*\d+/,Ca=Hr.map({am:0,pm:1});Hr.time.format.utc=function(e){function t(e){try{la=or;var t=new la;return t._=e,n(t)}finally{la=Date}}var n=Hr.time.format(e);return t.parse=function(e){try{la=or;var t=n.parse(e);return t&&t._}finally{la=Date}},t.toString=n.toString,t};var ja=Hr.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");Hr.time.format.iso=Date.prototype.toISOString?jr:ja,jr.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},jr.toString=ja.toString,Hr.time.second=Br(function(e){return new la(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),Hr.time.seconds=Hr.time.second.range,Hr.time.seconds.utc=Hr.time.second.utc.range,Hr.time.minute=Br(function(e){return new la(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),Hr.time.minutes=Hr.time.minute.range,Hr.time.minutes.utc=Hr.time.minute.utc.range,Hr.time.hour=Br(function(e){var t=e.getTimezoneOffset()/60;return new la(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),Hr.time.hours=Hr.time.hour.range,Hr.time.hours.utc=Hr.time.hour.utc.range,Hr.time.day=Br(function(e){var t=new la(0,e.getMonth(),e.getDate());return t.setFullYear(e.getFullYear()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),Hr.time.days=Hr.time.day.range,Hr.time.days.utc=Hr.time.day.utc.range,Hr.time.dayOfYear=function(e){var t=Hr.time.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},sa.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var n=Hr.time[e]=Br(function(e){return(e=Hr.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=Hr.time.year(e).getDay();return Math.floor((Hr.time.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});Hr.time[e+"s"]=n.range,Hr.time[e+"s"].utc=n.utc.range,Hr.time[e+"OfYear"]=function(e){var n=Hr.time.year(e).getDay();return Math.floor((Hr.time.dayOfYear(e)+(n+t)%7)/7)}}),Hr.time.week=Hr.time.sunday,Hr.time.weeks=Hr.time.sunday.range,Hr.time.weeks.utc=Hr.time.sunday.utc.range,Hr.time.weekOfYear=Hr.time.sundayOfYear,Hr.time.month=Br(function(e){return e=Hr.time.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),Hr.time.months=Hr.time.month.range,Hr.time.months.utc=Hr.time.month.utc.range,Hr.time.year=Br(function(e){return e=Hr.time.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),Hr.time.years=Hr.time.year.range,Hr.time.years.utc=Hr.time.year.utc.range;var Ba=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Aa=[[Hr.time.second,1],[Hr.time.second,5],[Hr.time.second,15],[Hr.time.second,30],[Hr.time.minute,1],[Hr.time.minute,5],[Hr.time.minute,15],[Hr.time.minute,30],[Hr.time.hour,1],[Hr.time.hour,3],[Hr.time.hour,6],[Hr.time.hour,12],[Hr.time.day,1],[Hr.time.day,2],[Hr.time.week,1],[Hr.time.month,1],[Hr.time.month,3],[Hr.time.year,1]],Ea=[[Hr.time.format("%Y"),function(e){return!0}],[Hr.time.format("%B"),function(e){return e.getMonth()}],[Hr.time.format("%b %d"),function(e){return 1!=e.getDate()}],[Hr.time.format("%a %d"),function(e){return e.getDay()&&1!=e.getDate()}],[Hr.time.format("%I %p"),function(e){return e.getHours()}],[Hr.time.format("%I:%M"),function(e){return e.getMinutes()}],[Hr.time.format(":%S"),function(e){return e.getSeconds()}],[Hr.time.format(".%L"),function(e){return e.getMilliseconds()}]],Da=Hr.scale.linear(),Pa=Or(Ea);Aa.year=function(e,t){return Da.domain(e.map(Fr)).ticks(t).map($r)},Hr.time.scale=function(){return Er(Hr.scale.linear(),Aa,Pa)};var Oa=Aa.map(function(e){return[e[0].utc,e[1]]}),$a=[[Hr.time.format.utc("%Y"),function(e){return!0}],[Hr.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[Hr.time.format.utc("%b %d"),function(e){return 1!=e.getUTCDate()}],[Hr.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],[Hr.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[Hr.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[Hr.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[Hr.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]],Fa=Or($a);Oa.year=function(e,t){return Da.domain(e.map(Lr)).ticks(t).map(qr)},Hr.time.scale.utc=function(){return Er(Hr.scale.linear(),Oa,Fa)}}(),function(){function e(e){return _.chain(_.range(e,10)).reverse().map(function(e){return'g[data-index="'+e+'"]'}).value().join(", ")}function t(e,t){var n=e.getAttribute("class");return(null!==n?n.replace(/color\d+/g,""):"")+" color"+t}function n(e,t){return _.chain(e).pluck("data").flatten().pluck(t).uniq().filter(function(e){return void 0!==e&&null!==e}).value().sort(d3.ascending)}function r(e,t){var n,r,i=e[0],a=e[1];return i===a&&(r=Math.max(Math.round(i/10),4),i-=r,a+=r),n=a-i,i=i?i-n/10:i,i=e[0]>0?Math.max(i,0):i,a=a?a+n/10:a,a=e[1]<0?Math.min(a,0):a,[i,a]}function i(e,t,n,i){var a,o=_.chain(t).pluck("data").flatten().value();return a={x:d3.extent(o,function(e){return e.x}),y:d3.extent(o,function(e){return e.y})},_.each([n,i],function(t,n){var i,u=n?"y":"x";a[u]=d3.extent(o,function(e){return e[u]}),"ordinal"!==t&&_.each([u+"Min",u+"Max"],function(n,o){"time"!==t&&(i=r(a[u])),e.hasOwnProperty(n)&&null!==e[n]?a[u][o]=e[n]:"time"!==t&&(a[u][o]=i[o])})}),a}function a(){var e=document;return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}function o(e,t,n,r){var i,o=this;if(o._options=r=_.defaults(r||{},f),!1===a())return r.unsupported(n);o._selector=n,o._container=d3.select(n),o._drawSvg(),o._mainStorage={},o._compStorage={},t=_.clone(t),e&&!t.type&&(t.type=e),o.setData(t),d3.select(window).on("resize.for."+n,function(){i&&clearTimeout(i),i=setTimeout(function(){i=null,o._resize()},500)})}var o,u={},l={},s={};(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,a=Function.prototype,o=r.push,u=r.slice,l=r.concat,s=i.toString,c=i.hasOwnProperty,f=r.forEach,d=r.map,h=r.reduce,p=r.reduceRight,g=r.filter,m=r.every,y=r.some,v=r.indexOf,b=r.lastIndexOf,x=Array.isArray,_=Object.keys,w=a.bind,T=function(e){return e instanceof T?e:this instanceof T?void(this._wrapped=e):new T(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=T),exports._=T):e._=T,T.VERSION="1.4.3";var M=T.each=T.forEach=function(e,t,r){if(null!=e)if(f&&e.forEach===f)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(T.has(e,o)&&t.call(r,e[o],o,e)===n)return};T.map=T.collect=function(e,t,n){var r=[];return null==e?r:d&&e.map===d?e.map(t,n):(M(e,function(e,i,a){r[r.length]=t.call(n,e,i,a)}),r)};var S="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(M(e,function(e,a,o){i?n=t.call(r,n,e,a,o):(n=e,i=!0)}),!i)throw new TypeError(S);return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return r&&(t=T.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var o=T.keys(e);a=o.length}if(M(e,function(u,l,s){l=o?o[--a]:--a,i?n=t.call(r,n,e[l],l,s):(n=e[l],i=!0)}),!i)throw new TypeError(S);return n},T.find=T.detect=function(e,t,n){var r;return k(e,function(e,i,a){return t.call(n,e,i,a)?(r=e,!0):void 0}),r},T.filter=T.select=function(e,t,n){var r=[];return null==e?r:g&&e.filter===g?e.filter(t,n):(M(e,function(e,i,a){t.call(n,e,i,a)&&(r[r.length]=e)}),r)},T.reject=function(e,t,n){return T.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},T.every=T.all=function(e,t,r){t||(t=T.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(M(e,function(e,a,o){return(i=i&&t.call(r,e,a,o))?void 0:n}),!!i)};var k=T.some=T.any=function(e,t,r){t||(t=T.identity);var i=!1;return null==e?i:y&&e.some===y?e.some(t,r):(M(e,function(e,a,o){return i||(i=t.call(r,e,a,o))?n:void 0}),!!i)};T.contains=T.include=function(e,t){return null!=e&&(v&&e.indexOf===v?-1!=e.indexOf(t):k(e,function(e){return e===t}))},T.invoke=function(e,t){var n=u.call(arguments,2);return T.map(e,function(e){return(T.isFunction(t)?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t){return T.isEmpty(t)?[]:T.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return M(e,function(e,i,a){var o=t?t.call(n,e,i,a):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return M(e,function(e,i,a){var o=t?t.call(n,e,i,a):e;r.computed>o&&(r={value:e,computed:o})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return M(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r};var N=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var r=N(t);return T.pluck(T.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var C=function(e,t,n,r){var i={},a=N(t||T.identity);return M(e,function(t,o){var u=a.call(n,t,o,e);r(i,u,t)}),i};T.groupBy=function(e,t,n){return C(e,t,n,function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)})},T.countBy=function(e,t,n){return C(e,t,n,function(e,t){T.has(e,t)||(e[t]=0),e[t]++})},T.sortedIndex=function(e,t,n,r){n=null==n?T.identity:N(n);for(var i=n.call(r,t),a=0,o=e.length;o>a;){var u=a+o>>>1;i>n.call(r,e[u])?a=u+1:o=u}return a},T.toArray=function(e){return e?T.isArray(e)?u.call(e):e.length===+e.length?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return null==e?0:e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},T.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},T.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},T.rest=T.tail=T.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var j=function(e,t,n){return M(e,function(e){T.isArray(e)?t?o.apply(n,e):j(e,t,n):n.push(e)}),n};T.flatten=function(e,t){return j(e,t,[])},T.without=function(e){return T.difference(e,u.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){T.isFunction(t)&&(r=n,n=t,t=!1);var i=n?T.map(e,n,r):e,a=[],o=[];return M(i,function(n,r){(t?r&&o[o.length-1]===n:T.contains(o,n))||(o.push(n),a.push(e[r]))}),a},T.union=function(){return T.uniq(l.apply(r,arguments))},T.intersection=function(e){var t=u.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=l.apply(r,u.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){for(var e=u.call(arguments),t=T.max(T.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=T.pluck(e,""+r);return n},T.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(v&&e.indexOf===v)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},T.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,a=Array(r);r>i;)a[i++]=e,e+=n;return a};var B=function(){};T.bind=function(e,t){var n,r;if(e.bind===w&&w)return w.apply(e,u.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(u.call(arguments)));B.prototype=e.prototype;var i=new B;B.prototype=null;var a=e.apply(i,n.concat(u.call(arguments)));return Object(a)===a?a:i}},T.bindAll=function(e){var t=u.call(arguments,1);return 0==t.length&&(t=T.functions(e)),M(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(u.call(arguments,1)))},T.throttle=function(e,t){var n,r,i,a,o=0,u=function(){o=new Date,i=null,a=e.apply(n,r)};return function(){var l=new Date,s=t-(l-o);return n=this,r=arguments,0>=s?(clearTimeout(i),i=null,o=l,a=e.apply(n,r)):i||(i=setTimeout(u,s)),a}},T.debounce=function(e,t,n){var r,i;return function(){var a=this,o=arguments,u=function(){r=null,n||(i=e.apply(a,o))},l=n&&!r;return clearTimeout(r),r=setTimeout(u,t),l&&(i=e.apply(a,o)),i}},T.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},T.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},T.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&(t[t.length]=n);return t},T.values=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push(e[n]);return t},T.pairs=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push([n,e[n]]);return t},T.invert=function(e){var t={};for(var n in e)T.has(e,n)&&(t[e[n]]=n);return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return M(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=l.apply(r,u.call(arguments,1));return M(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=l.apply(r,u.call(arguments,1));for(var i in e)T.contains(n,i)||(t[i]=e[i]);return t},T.defaults=function(e){return M(u.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var A=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=s.call(e);if(i!=s.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return r[a]==t;n.push(e),r.push(t);var o=0,u=!0;if("[object Array]"==i){if(o=e.length,u=o==t.length)for(;o--&&(u=A(e[o],t[o],n,r)););}else{var l=e.constructor,c=t.constructor;if(l!==c&&!(T.isFunction(l)&&l instanceof l&&T.isFunction(c)&&c instanceof c))return!1;for(var f in e)if(T.has(e,f)&&(o++,!(u=T.has(t,f)&&A(e[f],t[f],n,r))))break;if(u){for(f in t)if(T.has(t,f)&&!o--)break;u=!o}}return n.pop(),r.pop(),u};T.isEqual=function(e,t){return A(e,t,[],[])},T.isEmpty=function(e){if(null==e)return!0;if(T.isArray(e)||T.isString(e))return 0===e.length;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=x||function(e){return"[object Array]"==s.call(e)},T.isObject=function(e){return e===Object(e)},M(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return s.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!(!e||!T.has(e,"callee"))}),T.isFunction=function(e){return"function"==typeof e},T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==s.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return c.call(e,t)},T.noConflict=function(){return e._=t,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},T.random=function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};E.unescape=T.invert(E.escape);var D={escape:RegExp("["+T.keys(E.escape).join("")+"]","g"),unescape:RegExp("("+T.keys(E.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return E[e][t]})}}),T.result=function(e,t){if(null==e)return null;var n=e[t]
;return T.isFunction(n)?n.call(e):n},T.mixin=function(e){M(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),q.call(this,n.apply(T,e))}})};var P=0;T.uniqueId=function(e){var t=""+ ++P;return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){n=T.defaults({},n,T.templateSettings);var r=RegExp([(n.escape||O).source,(n.interpolate||O).source,(n.evaluate||O).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(r,function(t,n,r,o,u){return a+=e.slice(i,u).replace(F,function(e){return"\\"+$[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(a+="';\n"+o+"\n__p+='"),i=u+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=Function(n.variable||"obj","_",a)}catch(e){throw e.source=a,e}if(t)return o(t,T);var u=function(e){return o.call(this,e,T)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},T.chain=function(e){return T(e).chain()};var q=function(e){return this._chain?T(e).chain():e};T.mixin(T),M(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],q.call(this,n)}}),M(["concat","join","slice"],function(e){var t=r[e];T.prototype[e]=function(){return q.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this),s={getInsertionPoint:e,colorClass:t};l.ordinal=function(e,t,r,i){var a=n(e,t);return d3.scale.ordinal().domain(a).rangeRoundBands(r,.25)},l.linear=function(e,t,n,r){return d3.scale.linear().domain(r).nice().rangeRound(n)},l.exponential=function(e,t,n,r){return d3.scale.pow().exponent(.65).domain(r).nice().rangeRound(n)},l.time=function(e,t,n,r){return d3.time.scale().domain(_.map(r,function(e){return new Date(e)})).range(n)},l.xy=function(e,t,n,r){var a=e._options,u=i(a,t,n,r),l={},s=[a.axisPaddingLeft,e._width],c=[e._height,a.axisPaddingTop];return _.each([n,r],function(e,n){var r=0===n?"x":"y",i=0===n?s:c,a=o.getScale(e);l[r]=a(t,r,i,u[r])}),l},function(){function e(e,t,n,r){e.xScale2=d3.scale.ordinal().domain(d3.range(0,n.length)).rangeRoundBands([0,e.xScale.rangeBand()],.08)}function t(e,t,n,r,i){var u,c,f=e.yZero;u=e._g.selectAll(o+n).data(r,function(e){return e.className}),u.enter().insert("g",l).attr("data-index",a).style("opacity",0).attr("class",function(e,t){return _.uniq((n+e.className).split(".")).join(" ")+" bar "+s.colorClass(this,t)}).attr("transform",function(t,n){return"translate("+e.xScale2(n)+",0)"}),c=u.selectAll("rect").data(function(e){return e.data},function(e){return e.x}),c.enter().append("rect").attr("width",0).attr("rx",3).attr("ry",3).attr("x",function(t){return e.xScale(t.x)+e.xScale2.rangeBand()/2}).attr("height",function(t){return Math.abs(f-e.yScale(t.y))}).attr("y",function(t){return t.y<0?f:e.yScale(t.y)}).on("mouseover",i.mouseover).on("mouseout",i.mouseout).on("click",i.click),t.barGroups=u,t.bars=c}function n(e,t,n){var r=e.yZero;t.barGroups.attr("class",function(e,t){return s.colorClass(this,t)}).transition().duration(n).style("opacity",1).attr("transform",function(t,n){return"translate("+e.xScale2(n)+",0)"}),t.bars.transition().duration(n).attr("width",e.xScale2.rangeBand()).attr("x",function(t){return e.xScale(t.x)}).attr("height",function(t){return Math.abs(r-e.yScale(t.y))}).attr("y",function(t){return t.y<0?r:e.yScale(t.y)})}function r(e,t,n){t.bars.exit().transition().duration(n).attr("width",0).remove(),t.barGroups.exit().transition().duration(n).style("opacity",0).remove()}function i(e,t,n){var r=e.xScale2?e.xScale2.rangeBand()/2:0;delete e.xScale2,t.bars.transition().duration(n).attr("width",0).attr("x",function(t){return e.xScale(t.x)+r})}var a=2,o="g.bar",l=s.getInsertionPoint(a);u.bar={postUpdateScale:e,enter:t,update:n,exit:r,destroy:i}}(),function(){function e(e,t,n,r,u){function l(e){return[e.data]}var c,f,d,h=e._options.interpolation,p=function(t,n){return e.xScale2||e.xScale.rangeBand?e.xScale(t.x)+e.xScale.rangeBand()/2:e.xScale(t.x)},g=function(t){return e.yScale(t.y)},m=d3.svg.line().x(p).interpolate(h),y=d3.svg.area().x(p).y1(e.yZero).interpolate(h);c=e._g.selectAll(a+n).data(r,function(e){return e.className}),c.enter().insert("g",o).attr("data-index",i).attr("class",function(e,t){return _.uniq((n+e.className).split(".")).join(" ")+" line "+s.colorClass(this,t)}),f=c.selectAll("path.fill").data(l),f.enter().append("path").attr("class","fill").style("opacity",0).attr("d",y.y0(g)),d=c.selectAll("path.line").data(l),d.enter().append("path").attr("class","line").style("opacity",0).attr("d",m.y(g)),t.lineContainers=c,t.lineFills=f,t.linePaths=d,t.lineX=p,t.lineY=g,t.lineA=y,t.line=m}function t(e,t,n){t.lineContainers.attr("class",function(e,t){return s.colorClass(this,t)}),t.lineFills.transition().duration(n).style("opacity",1).attr("d",t.lineA.y0(t.lineY)),t.linePaths.transition().duration(n).style("opacity",1).attr("d",t.line.y(t.lineY))}function n(e,t){t.linePaths.exit().style("opacity",0).remove(),t.lineFills.exit().style("opacity",0).remove(),t.lineContainers.exit().remove()}function r(e,t,n){t.linePaths.transition().duration(n).style("opacity",0),t.lineFills.transition().duration(n).style("opacity",0)}var i=3,a="g.line",o=s.getInsertionPoint(i);u.line={enter:e,update:t,exit:n,destroy:r}}(),function(){function e(e,t,n,r,a){var o;i.enter(e,t,n,r,a),o=t.lineContainers.selectAll("circle").data(function(e){return e.data},function(e){return e.x}),o.enter().append("circle").style("opacity",0).attr("cx",t.lineX).attr("cy",t.lineY).attr("r",5).on("mouseover",a.mouseover).on("mouseout",a.mouseout).on("click",a.click),t.lineCircles=o}function t(e,t,n){i.update.apply(null,_.toArray(arguments)),t.lineCircles.transition().duration(n).style("opacity",1).attr("cx",t.lineX).attr("cy",t.lineY)}function n(e,t){t.lineCircles.exit().remove(),i.exit.apply(null,_.toArray(arguments))}function r(e,t,n){i.destroy.apply(null,_.toArray(arguments)),t.lineCircles&&t.lineCircles.transition().duration(n).style("opacity",0)}var i=u.line;u["line-dotted"]={enter:e,update:t,exit:n,destroy:r}}(),function(){function e(e,t,n,r,i){a.enter(e,t,n,r,i)}function t(e){function t(e,t){return e+t.y}return _.map(e,function(e){var n=e.data.length,r=_.clone(e.data);for(e=_.clone(e);n;)n-=1,r[n]=_.clone(e.data[n]),r[n].y0=e.data[n].y,r[n].y=_.reduce(_.first(e.data,n),t,e.data[n].y);return _.extend(e,{data:r})})}function n(e){e.hasOwnProperty("cumulativeOMainData")&&(e._mainData=e.cumulativeOMainData,delete e.cumulativeOMainData,e._compData=e.cumulativeOCompData,delete e.cumulativeOCompData)}function r(e,r){n(e),e.cumulativeOMainData=e._mainData,e._mainData=t(e._mainData),e.cumulativeOCompData=e._compData,e._compData=t(e._compData)}function i(e,t,r){n(e),a.destroy.apply(null,_.toArray(arguments))}var a=u["line-dotted"];u.cumulative={preUpdateScale:r,enter:e,update:a.update,exit:a.exit,destroy:i}}();var c=[[]],f={mouseover:function(e,t){},mouseout:function(e,t){},click:function(e,t){},axisPaddingTop:0,axisPaddingRight:0,axisPaddingBottom:5,axisPaddingLeft:20,paddingTop:0,paddingRight:0,paddingBottom:20,paddingLeft:60,tickHintX:10,tickFormatX:function(e){return e},tickHintY:10,tickFormatY:function(e){return e},xMin:null,xMax:null,yMin:null,yMax:null,dataFormatX:function(e){return e},dataFormatY:function(e){return e},unsupported:function(e){d3.select(e).text("SVG is not supported on your browser")},empty:function(e,t,n){},notempty:function(e,t){},timing:750,interpolation:"monotone",sortX:function(e,t){return e.x||t.x?e.x<t.x?-1:1:0}};if(o.setVis=function(e,t){if(u.hasOwnProperty(e))throw'Cannot override vis type "'+e+'".';u[e]=t},o.getVis=function(e){if(!u.hasOwnProperty(e))throw'Vis type "'+e+'" does not exist.';return _.clone(u[e])},o.setScale=function(e,t){if(l.hasOwnProperty(e))throw'Scale type "'+e+'" already exists.';l[e]=t},o.getScale=function(e){if(!l.hasOwnProperty(e))throw'Scale type "'+e+'" does not exist.';return l[e]},o.visutils=s,_.defaults(o.prototype,{setType:function(e,t){var n=this;if(!n._type||e!==n._type){if(!u.hasOwnProperty(e))throw'Vis type "'+e+'" is not defined.';n._type&&n._destroy(n._vis,n._mainStorage),n._type=e,n._vis=u[e],t||n._draw()}},setData:function(e){function t(e){var t=_.map(_.clone(e.data),function(e){var t=_.clone(e);return e.hasOwnProperty("x")&&(t.x=r.dataFormatX(e.x)),e.hasOwnProperty("y")&&(t.y=r.dataFormatY(e.y)),t}).sort(r.sortX);return _.extend(_.clone(e),{data:t})}var n=this,r=n._options,i=_.clone(e);if(!e.hasOwnProperty("main"))throw'No "main" key found in given chart data.';switch(e.type){case"bar":e.xScale="ordinal";break;case void 0:e.type=n._type}r.xMin=isNaN(parseInt(e.xMin,10))?r.xMin:e.xMin,r.xMax=isNaN(parseInt(e.xMax,10))?r.xMax:e.xMax,r.yMin=isNaN(parseInt(e.yMin,10))?r.yMin:e.yMin,r.yMax=isNaN(parseInt(e.yMax,10))?r.yMax:e.yMax,n._vis&&n._destroy(n._vis,n._mainStorage),n.setType(e.type,!0),i.main=_.map(i.main,t),n._mainData=i.main,n._xScaleType=i.xScale,n._yScaleType=i.yScale,i.hasOwnProperty("comp")?(i.comp=_.map(i.comp,t),n._compData=i.comp):n._compData=[],n._draw()},setScale:function(e,t){var n=this;switch(e){case"x":n._xScaleType=t;break;case"y":n._yScaleType=t;break;default:throw'Cannot change scale of unknown axis "'+e+'".'}n._draw()},_drawSvg:function(){var e,t,n,r=this,i=r._container,a=r._options,o=parseInt(i.style("width").replace("px",""),10),u=parseInt(i.style("height").replace("px",""),10);e=i.selectAll("svg").data(c),e.enter().append("svg").attr("height",u).attr("width",o).attr("class","xchart"),e.transition().attr("width",o).attr("height",u),t=e.selectAll("g").data(c),t.enter().append("g").attr("transform","translate("+a.paddingLeft+","+a.paddingTop+")"),n=t.selectAll("g.scale").data(c),n.enter().append("g").attr("class","scale"),r._svg=e,r._g=t,r._gScale=n,r._height=u-a.paddingTop-a.paddingBottom-a.axisPaddingTop-a.axisPaddingBottom,r._width=o-a.paddingLeft-a.paddingRight-a.axisPaddingLeft-a.axisPaddingRight},_resize:function(e){var t=this;t._drawSvg(),t._draw()},_drawAxes:function(){if(!this._noData){var e,t,n,r,i,a,o,u=this,l=u._options,s=u._gScale.transition().duration(l.timing),f=l.tickHintX,d=l.tickHintY,h=u._height+l.axisPaddingTop+l.axisPaddingBottom;d3.svg.line().x(function(e){return e});r=d3.svg.axis().scale(u.xScale).ticks(f).tickSize(-u._height).tickFormat(l.tickFormatX).orient("bottom"),n=u._gScale.selectAll("g.axisX").data(c),n.enter().append("g").attr("class","axis axisX").attr("transform","translate(0,"+h+")"),n.call(r),o=u._gScale.selectAll(".axisX g")[0],o.length>u._width/80&&(o.sort(function(e,t){var n=/translate\(([^,)]+)/;return e=e.getAttribute("transform").match(n),t=t.getAttribute("transform").match(n),parseFloat(e[1],10)-parseFloat(t[1],10)}),d3.selectAll(o).filter(function(e,t){return t%(Math.ceil(o.length/f)+1)}).remove()),a=d3.svg.axis().scale(u.yScale).ticks(d).tickSize(-u._width-l.axisPaddingRight-l.axisPaddingLeft).tickFormat(l.tickFormatY).orient("left"),i=u._gScale.selectAll("g.axisY").data(c),i.enter().append("g").attr("class","axis axisY").attr("transform","translate(0,0)"),s.selectAll("g.axisY").call(a),e=u._gScale.selectAll("g.axisZero").data([[]]),e.enter().append("g").attr("class","axisZero"),t=e.selectAll("line").data([[]]),t.enter().append("line").attr("x1",0).attr("x2",u._width+l.axisPaddingLeft+l.axisPaddingRight).attr("y1",u.yZero).attr("y2",u.yZero),t.transition().duration(l.timing).attr("y1",u.yZero).attr("y2",u.yZero)}},_updateScale:function(){var e,t,n=this,r=function(){return _.union(n._mainData,n._compData)},i=r(),a=n._vis;delete n.xScale,delete n.yScale,delete n.yZero,a.hasOwnProperty("preUpdateScale")&&a.preUpdateScale(n,i,n._mainData,n._compData),i=r(),e=l.xy(n,i,n._xScaleType,n._yScaleType),n.xScale=e.x,n.yScale=e.y,t=n.yScale.domain()[0],n.yZero=t>0?n.yScale(t):n.yScale(0),a.hasOwnProperty("postUpdateScale")&&a.postUpdateScale(n,i,n._mainData,n._compData)},_enter:function(e,t,n,r){var i=this,a={click:i._options.click,mouseover:i._options.mouseover,mouseout:i._options.mouseout};i._checkVisMethod(e,"enter"),e.enter(i,t,r,n,a)},_update:function(e,t){var n=this;n._checkVisMethod(e,"update"),e.update(n,t,n._options.timing)},_exit:function(e,t){var n=this;n._checkVisMethod(e,"exit"),e.exit(n,t,n._options.timing)},_destroy:function(e,t){var n=this;n._checkVisMethod(e,"destroy");try{e.destroy(n,t,n._options.timing)}catch(e){}},_draw:function(){var e,t,n=this,r=n._options;n._noData=0===_.flatten(_.pluck(n._mainData,"data").concat(_.pluck(n._compData,"data"))).length,n._updateScale(),n._drawAxes(),n._enter(n._vis,n._mainStorage,n._mainData,".main"),n._exit(n._vis,n._mainStorage),n._update(n._vis,n._mainStorage),e=_.chain(n._compData).groupBy(function(e){return e.type}),t=e.keys(),_.each(n._compStorage,function(e,r){if(-1===t.indexOf(r).value()){var i=u[r];n._enter(i,e,[],".comp."+r.replace(/\W+/g,"")),n._exit(i,e)}}),e.each(function(e,t){var r,i=u[t];n._compStorage.hasOwnProperty(t)||(n._compStorage[t]={}),r=n._compStorage[t],n._enter(i,r,e,".comp."+t.replace(/\W+/g,"")),n._exit(i,r),n._update(i,r)}),n._noData?r.empty(n,n._selector,n._mainData):r.notempty(n,n._selector)},_checkVisMethod:function(e,t){var n=this;if(!e[t])throw'Required method "'+t+'" not found on vis type "'+n._type+'".'}}),"function"==typeof define&&define.amd&&"object"==typeof define.amd)return void define(function(){return o});window.xChart=o}(),function(){function e(e){return function(){return e}}function t(e){return function(t){return Se.prototype.toString.call(t)==="[object "+e+"]"}}function n(e){e.SugarMethods||(o(e,"SugarMethods",{}),r(e,Me,Me,{restore:function(){var t=0===arguments.length,n=u(arguments);g(e.SugarMethods,function(r,i){(t||n.indexOf(r)>-1)&&o(i.wa?e.prototype:e,r,i.method)})},extend:function(t,n,i){r(e,i!==Me,n,t)}}))}function r(e,t,r,i){var u,l=t?e.prototype:e;n(e),g(i,function(n,i){u=l[n],"function"==typeof r&&(i=a(l[n],i,r)),r===Me&&l[n]||o(l,n,i),e.SugarMethods[n]={wa:t,method:i,Da:u}})}function i(e,t,n,i,a){var o={};i=Ie(i)?i.split(","):i,i.forEach(function(e,t){a(o,e,t)}),r(e,t,n,o)}function a(e,t,n){return function(){return!e||n!==we&&n.apply(this,arguments)?t.apply(this,arguments):e.apply(this,arguments)}}function o(e,t,n){De?Se.defineProperty(e,t,{value:n,configurable:we,enumerable:Me,writable:we}):e[t]=n}function u(e,t){var n,r=[];for(n=0;n<e.length;n++)r.push(e[n]),t&&t.call(e,e[n],n);return r}function l(e,t,n){u(ke.prototype.concat.apply([],ke.prototype.slice.call(e,n||0)),t)}function s(e){if(!e||!e.call)throw new TypeError("Callback is not callable")}function c(e){return void 0!==e}function f(e){return void 0===e}function d(e){return e&&"object"==typeof e}function h(e){return!!e&&"[object Object]"===Se.prototype.toString.call(e)&&"hasOwnProperty"in e}function p(e,t){return Se.hasOwnProperty.call(e,t)}function g(e,t){for(var n in e)if(p(e,n)&&t.call(e,n,e[n],e)===Me)break}function m(e,t){return g(t,function(n){e[n]=t[n]}),e}function y(e){m(this,e)}function v(e,t,n,r){var i=[];e=parseInt(e);for(var a=r<0;!a&&e<=t||a&&e>=t;)i.push(e),n&&n.call(this,e),e+=r||1;return i}function b(e,t,n){n=Ae[n||"round"];var r=Ae.pow(10,Ae.abs(t||0));return t<0&&(r=1/r),n(e*r)/r}function x(e,t){return b(e,t,"floor")}function _(e,t,n,r){return r=Ae.abs(e).toString(r||10),r=T(t-r.replace(/\.\d+/,"").length,"0")+r,(n||e<0)&&(r=(e<0?"-":"+")+r),r}function w(e){if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function T(e,t){return ke(Ae.max(0,c(e)?e:1)+1).join(t||"")}function M(e,t){var n=e.toString().match(/[^\/]*$/)[0];return t&&(n=(n+t).split("").sort().join("").replace(/([gimy])\1+/g,"$1")),n}function S(e){return Ie(e)||(e=je(e)),e.replace(/([\\\/'*+?|()\[\]{}.^$])/g,"\\$1")}function k(e,t){var n,r,i,a,o,u,l=typeof e;if("string"===l)return e;if(i=Se.prototype.toString.call(e),n=h(e),r="[object Array]"===i,e!=Te&&n||r){if(t||(t=[]),t.length>1)for(u=t.length;u--;)if(t[u]===e)return"CYC";for(t.push(e),n=je(e.constructor),a=r?e:Se.keys(e).sort(),u=0;u<a.length;u++)o=r?u:a[u],n+=o+k(e[o],t);t.pop()}else n=1/e==-1/0?"-0":je(e&&e.valueOf?e.valueOf():e);return l+i+n}function N(e){var t=Se.prototype.toString.call(e);return"[object Date]"===t||"[object Array]"===t||"[object String]"===t||"[object Number]"===t||"[object RegExp]"===t||"[object Boolean]"===t||"[object Arguments]"===t||h(e)}function C(e,t,n){var r,i=[],a=e.length,o=t[t.length-1]!==Me;return u(t,function(t){if($e(t))return Me;o&&(t%=a)<0&&(t=a+t),r=n?e.charAt(t)||"":e[t],i.push(r)}),i.length<2?i[0]:i}function j(e,t){i(t,we,Me,e,function(e,t){e[t+("equal"===t?"s":"")]=function(){return Se[t].apply(Te,[this].concat(u(arguments)))}})}function B(e,t,n,r){var i=e.length,a=-1==r,o=a?i-1:0;for(n=isNaN(n)?o:parseInt(n>>0),n<0&&(n=i+n),(!a&&n<0||a&&n>=i)&&(n=o);a&&n>=0||!a&&n<i;){if(e[n]===t)return n;n+=r}return-1}function A(e,t,n,r){var i=e.length,a=0,o=c(n);if(s(t),0==i&&!o)throw new TypeError("Reduce called on empty array with no initial value");for(o?n=n:(n=e[r?i-1:a],a++);a<i;)o=r?i-a-1:a,o in e&&(n=t(n,e[o],o,e)),a++;return n}function E(e){if(0===e.length)throw new TypeError("First argument must be defined")}function D(e,t,n,r){var i=we;return e===t?we:Re(t)&&Ie(e)?Ne(t).test(e):qe(t)?t.apply(n,r):h(t)&&d(e)?(g(t,function(r){D(e[r],t[r],n,[e[r],e])||(i=Me)}),i):N(e)&&N(t)?k(e)===k(t):e===t}function P(e,t,n,r){return f(t)?e:qe(t)?t.apply(n,r||[]):qe(e[t])?e[t].call(e):e[t]}function O(e,t,n,r){var i,a;for(n<0&&(n=e.length+n),a=isNaN(n)?0:n,n=r===we?e.length+a:e.length;a<n;){if(!((i=a%e.length)in e))return $(e,t,a);if(t.call(e,e[i],i,e)===Me)break;a++}}function $(e,t,n){var r,i=[];for(r in e)r in e&&r>>>0==r&&4294967295!=r&&r>=n&&i.push(parseInt(r));return i.sort().each(function(n){return t.call(e,e[n],n,e)}),e}function F(e,t,n,r,i){var a,o;return O(e,function(e,n,r){if(D(e,t,r,[e,n,r]))return a=e,o=n,Me},n,r),i?o:a}function q(e,t){var n,r=[],i={};return O(e,function(a,o){n=t?P(a,t,e,[a,o,e]):a,U(i,n)||r.push(a)}),r}function L(e,t,n){var r=[],i={};return t.each(function(e){U(i,e)}),e.each(function(e){var t=k(e),a=!N(e);if(H(i,t,e,a)!=n){var o=0;if(a)for(t=i[t];o<t.length;)t[o]===e?t.splice(o,1):o+=1;else delete i[t];r.push(e)}}),r}function I(e,t,n){t=t||1/0,n=n||0;var r=[];return O(e,function(e){Oe(e)&&n<t?r=r.concat(I(e,t,n+1)):r.push(e)}),r}function R(e){var t=[];return u(e,function(e){t=t.concat(e)}),t}function H(e,t,n,r){var i=t in e;return r&&(e[t]||(e[t]=[]),i=-1!==e[t].indexOf(n)),i}function U(e,t){var n=k(t),r=!N(t),i=H(e,n,t,r);return r?e[n].push(t):e[n]=t,i}function z(e,t,n,r){var i,a=[],o="max"===n,u="min"===n,l=Array.isArray(e);return g(e,function(n){var r=e[n];if(n=P(r,t,e,l?[r,parseInt(n),e]:[]),f(n))throw new TypeError("Cannot compare with undefined");n===i?a.push(r):(f(i)||o&&n>i||u&&n<i)&&(a=[r],i=n)}),l||(a=I(a,1)),r?a:a[0]}function Q(e){return ke[ze]&&(e=e.toLowerCase()),e.replace(ke[Ue],"")}function W(e,t){var n=e.charAt(t);return(ke[Qe]||{})[n]||n}function Y(e){var t=ke[He];return e?t.indexOf(e):Te}function V(e){return e&&e.valueOf&&(e=e.valueOf()),Se.keys(e)}function X(e,t){i(Se,Me,Me,e,function(e,n){e[n]=function(e,r,i){var a=V(e);return i=ke.prototype[n].call(a,function(n){return t?P(e[n],r,e,[n,e[n],e]):D(e[n],r,e,[n,e[n],e])},i),Oe(i)&&(i=i.reduce(function(t,n){return t[n]=e[n],t},{})),i}}),j(e,y)}function J(e){m(this,e),this.ga=it.concat()}function Z(e,t){var n;if(Ie(e)||(e=""),n=ut[e]||ut[e.slice(0,2)],t===Me&&!n)throw Error("Invalid locale.");return n||Ze}function G(e,t){function n(e){var t=u[e];Ie(t)?u[e]=t.split(","):t||(u[e]=[])}function r(e,t){return e=e.split("+").map(function(e){return e.replace(/(.+):(.+)$/,function(e,t,n){return n.split("|").map(function(e){return t+e}).join("|")})}).join("|"),e.split("|").forEach(t)}function i(e,t,n){var i=[];u[e].forEach(function(e,a){t&&(e+="+"+e.slice(0,3)),r(e,function(e,t){i[t*n+a]=e.toLowerCase()})}),u[e]=i}function a(e,t,n){return e="\\d{"+e+","+t+"}",n&&(e+="|(?:"+te(u.numbers)+")+"),e}function o(e,t){u[e]=u[e]||t}var u,l;return u=new J(t),n("modifiers"),"months,weekdays,units,numbers,articles,tokens,timeMarker,ampm,timeSuffixes,dateParse,timeParse".split(",").forEach(n),l=!u.monthSuffix,i("months",l,12),i("weekdays",l,7),i("units",Me,8),i("numbers",Me,10),o("code",e),o("date",a(1,2,u.digitDate)),o("year","'\\d{2}|"+a(4,4)),o("num",function(){var e=["\\d+"].concat(u.articles);return u.numbers&&(e=e.concat(u.numbers)),te(e)}()),function(){var e=[];u.ha={},u.modifiers.forEach(function(t){var n=t.name;r(t.src,function(r){var i=u[n];u.ha[r]=t,e.push({name:n,src:r,value:t.value}),u[n]=i?i+"|"+r:r})}),u.day+="|"+te(u.weekdays),u.modifiers=e}(),u.monthSuffix&&(u.month=a(1,2),u.months=v(1,12).map(function(e){return e+u.monthSuffix})),u.full_month=a(1,2)+"|"+te(u.months),u.timeSuffixes.length>0&&u.addFormat(ge(nt,u),Me,tt),u.addFormat("{day}",we),u.addFormat("{month}"+(u.monthSuffix||"")),u.addFormat("{year}"+(u.yearSuffix||"")),u.timeParse.forEach(function(e){u.addFormat(e,we)}),u.dateParse.forEach(function(e){u.addFormat(e)}),ut[e]=u}function K(e,t,n,r){e.ga.unshift({Ba:r,xa:e,Aa:Ne("^"+t+"$","i"),to:n})}function ee(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function te(e){return e.filter(function(e){return!!e}).join("|")}function ne(e,t){var n;return h(e[0])?e:Le(e[0])&&!Le(e[1])?[e[0]]:Ie(e[0])&&t?[re(e[0]),e[1]]:(n={},Ke.forEach(function(t,r){n[t.$]=e[r]}),[n])}function re(e,t){var n={};return(match=e.match(/^(\d+)?\s?(\w+?)s?$/i))&&(f(t)&&(t=parseInt(match[1])||1),n[match[2].toLowerCase()]=t),n}function ie(e,t){var n,r,i={};return t.forEach(function(t,a){n=e[a+1],f(n)||""===n||("year"===t&&(i.Ca=n.replace(/'/,"")),r=parseFloat(n.replace(/'/,"").replace(/,/,".")),i[t]=isNaN(r)?n.toLowerCase():r)}),i}function ae(e){return e=e.trim().replace(/^(just )?now|\.+$/i,""),oe(e)}function oe(e){return e.replace(Ge,function(e,t,n){var r,i,a=0,o=1;return t?e:(n.split("").reverse().forEach(function(e){e=rt[e];var t=e>9;t?(r&&(a+=o),o*=e/(i||1),i=e):(r===Me&&(o*=10),a+=o*e),r=t}),r&&(a+=o),a)})}function ue(e,t,n,r){var i,a,o,u,l,s,f,d,p,m=new Ce,y=Me;return m.utc(r),Fe(e)?m.utc(e.isUTC()).setTime(e.getTime()):Le(e)?m.setTime(e):h(e)?(m.set(e,we),u=e):Ie(e)&&(i=Z(t),e=ae(e),i&&g(i.sa(),function(n,r){var h=e.match(r.Aa);if(h)return o=r,a=o.xa,u=ie(h,o.to,a),u.utc&&m.utc(),a.ma=o,u.timestamp?(u=u.timestamp,Me):(o.Ba&&!Ie(u.month)&&(Ie(u.date)||i.va(t))&&(d=u.month,u.month=u.date,u.date=d),u.year&&2===u.Ca.length&&(u.year=100*b(he(new Ce,"FullYear")/100)-100*b(u.year/100)+u.year),u.month&&(u.month=a.getMonth(u.month),u.shift&&!u.unit&&(u.unit=a.units[7])),u.weekday&&u.date?delete u.weekday:u.weekday&&(u.weekday=a.getWeekday(u.weekday),u.shift&&!u.unit&&(u.unit=a.units[5])),u.day&&(d=a.ha[u.day])?(u.day=d.value,m.reset(),y=we):u.day&&(s=a.getWeekday(u.day))>-1&&(delete u.day,u.num&&u.month?(p=function(){var e=m.getWeekday();m.setWeekday(7*(u.num-1)+(e>s?s+7:s))},u.day=1):u.weekday=s),u.date&&!Le(u.date)&&(u.date=a.ta(u.date)),a.za(u.ampm)&&u.hour<12?u.hour+=12:a.ya(u.ampm)&&12===u.hour&&(u.hour=0),("offset_hours"in u||"offset_minutes"in u)&&(m.utc(),u.offset_minutes=u.offset_minutes||0,u.offset_minutes+=60*u.offset_hours,"-"===u.offset_sign&&(u.offset_minutes*=-1),u.minute-=u.offset_minutes),u.unit&&(y=we,f=a.oa(u.num),l=a.ra(u.unit),(u.shift||u.edge)&&(f*=(d=a.ha[u.shift])?d.value:0,"month"===l&&c(u.date)&&(m.set({day:u.date},we),delete u.date),"year"===l&&c(u.month)&&(m.set({month:u.month,day:u.date},we),delete u.month,delete u.date)),u.sign&&(d=a.ha[u.sign])&&(f*=d.value),c(u.weekday)&&(m.set({weekday:u.weekday},we),delete u.weekday),u[l]=(u[l]||0)+f),"-"===u.year_sign&&(u.year*=-1),et.slice(1,4).forEach(function(e,t){var n=u[e.$],r=n%1;r&&(u[et[t].$]=b(r*("second"===e.$?1e3:60)),u[e.$]=x(n))}),Me)}),o?y?m.advance(u):(m._utc&&m.reset(),de(m,u,we,Me,n)):(m=e?new Ce(e):new Ce,r&&m.addMinutes(m.getTimezoneOffset())),u&&u.edge&&(d=a.ha[u.edge],g(et.slice(4),function(e,t){if(c(u[t.$]))return l=t.$,Me}),"year"===l?u.fa="month":"month"!==l&&"week"!==l||(u.fa="day"),m[(d.value<0?"endOf":"beginningOf")+ee(l)](),-2===d.value&&m.reset()),p&&p(),m.utc(Me)),{ea:m,set:u}}function le(e){var t,n=Ae.abs(e),r=n,i=0;return et.slice(1).forEach(function(e,a){(t=x(b(n/e.da()*10)/10))>=1&&(r=t,i=a+1)}),[r,i,e]}function se(e,t,n,r){var i,a=Z(r),o=Ne(/^[A-Z]/);return e.isValid()?(Date[t]?t=Date[t]:qe(t)&&(i=le(e.millisecondsFromNow()),t=t.apply(e,i.concat(a))),!t&&n?(i=i||le(e.millisecondsFromNow()),0===i[1]&&(i[1]=1,i[0]=1),a.ua(i)):(t=t||"long",t=a[t]||t,at.forEach(function(n){t=t.replace(Ne("\\{("+n.ba+")(\\d)?\\}",n.la?"i":""),function(t,r,i){t=n.format(e,a,i||1,r),i=r.length;var u=r.match(/^(.)\1+$/);return n.la?(3===i&&(t=t.slice(0,3)),(u||r.match(o))&&(t=ee(t))):u&&!n.text&&(t=(Le(t)?_(t,i):t.toString()).slice(-i)),t})}),t)):"Invalid Date"}function ce(e,t,n,r){var i,a,o,u=0,l=0,s=0;return i=ue(t,Te,Te,r),n>0&&(l=s=n,a=we),i.ea.isValid()?(i.set&&i.set.fa&&(ot.forEach(function(t){t.$===i.set.fa&&(u=t.da(i.ea,e-i.ea)-1)}),t=ee(i.set.fa),(i.set.edge||i.set.shift)&&i.ea["beginningOf"+t](),"month"===i.set.fa&&(o=i.ea.clone()["endOf"+t]().getTime()),!a&&i.set.sign&&"millisecond"!=i.set.fa&&(l=50,s=-50)),a=e.getTime(),t=i.ea.getTime(),o=o||t+u,o=fe(e,t,o),a>=t-l&&a<=o+s):Me}function fe(e,t,n){return t=new Date(t),e=new Date(n).utc(e.isUTC()),23!==he(e,"Hours")&&(t=t.getTimezoneOffset(),e=e.getTimezoneOffset(),t!==e&&(n+=(e-t).minutes())),n}function de(e,t,n,r,i){function a(e){return c(t[e])?t[e]:t[e+"s"]}function o(e){return c(a(e))}var u,l;if(Le(t)&&r)t={milliseconds:t};else if(Le(t))return e.setTime(t),e;return c(t.date)&&(t.day=t.date),g(et,function(r,i){var a="day"===i.$;if(o(i.$)||a&&o("weekday"))return t.fa=i.$,l=+r,Me;!n||"week"===i.$||a&&o("week")||pe(e,i.method,a?1:0)}),ot.forEach(function(n){var i=n.$;n=n.method;var u;u=a(i),f(u)||(r?("week"===i&&(u=(t.day||0)+7*u,n="Date"),u=u*r+he(e,n)):"month"===i&&o("day")&&pe(e,"Date",15),pe(e,n,u),r&&"month"===i&&(i=u,i<0&&(i=i%12+12),i%12!=he(e,"Month")&&pe(e,"Date",0)))}),r||o("day")||!o("weekday")||(u=a("weekday"),e.setWeekday(u)),function(){var t=new Ce;return-1===i&&e>t||1===i&&e<t}()&&g(et.slice(l+1),function(t,n){if((n.ja||"week"===n.$&&o("weekday"))&&!(o(n.$)||"day"===n.$&&o("weekday")))return e[n.ia](i),Me}),e}function he(e,t){return e["get"+(e._utc?"UTC":"")+t]()}function pe(e,t,n){return e["set"+(e._utc?"UTC":"")+t](n)}function ge(e,t,n){var r,i={h:0,m:1,s:2};return t=t||Je,e.replace(/{([a-z])}/g,function(e,a){var o=[],u="h"===a,l=u&&!n;return"t"===a?t.ampm.join("|"):(u&&o.push(":"),(r=t.timeSuffixes[i[a]])&&o.push(r+"\\s*"),0===o.length?"":"(?:"+o.join("|")+")"+(l?"":"?"))})}function me(e,t,n){var r,i;return Le(e[1])?r=ne(e)[0]:(r=e[0],i=e[1]),ue(r,i,t,n).ea}function ye(e,t){function n(){return b(this*t)}function r(){return me(arguments)[e.ia](this)}function i(){return me(arguments)[e.ia](-this)}var a=e.$,o={};o[a]=n,o[a+"s"]=n,o[a+"Before"]=i,o[a+"sBefore"]=i,o[a+"Ago"]=i,o[a+"sAgo"]=i,o[a+"After"]=r,o[a+"sAfter"]=r,o[a+"FromNow"]=r,o[a+"sFromNow"]=r,Be.extend(o)}function ve(e,t,n,r,i){var a;e.timers||(e.timers=[]),Le(t)||(t=0),e.timers.push(setTimeout(function(){e.timers.splice(a,1),n.apply(r,i||[])},t)),a=e.timers.length}function be(e,t,n,r,i,a){var o=e.toFixed(20),u=o.search(/\./);return o=o.search(/[1-9]/),u-=o,u>0&&(u-=1),i=Ae.max(Ae.min((u/3).floor(),i===Me?n.length:i),-r),r=n.charAt(i+r-1),u<-9&&(i=-3,t=u.abs()-9,r=n.slice(0,1)),(e/(a?2..pow(10*i):10..pow(3*i))).round(t||0).format()+r.trim()}function xe(e,t,n,r){var i,a,o,u=/^(.+?)(\[.*\])$/;r!==Me&&(a=t.match(u))?(o=a[1],t=a[2].replace(/^\[|\]$/g,"").split("]["),t.forEach(function(t){i=!t||t.match(/^\d+$/),!o&&Oe(e)&&(o=e.length),p(e,o)||(e[o]=i?[]:{}),e=e[o],o=t}),!o&&i&&(o=e.length.toString()),xe(e,o,n)):e[t]=n.match(/^[+-]?\d+(\.\d+)?$/)?parseFloat(n):"true"===n?we:"false"===n?Me:n}function _e(e,t,n){var r,i={};return g(e,function(e,a){r=Me,l(t,function(t){(Re(t)?t.test(e):d(t)?p(t,e):e===je(t))&&(r=we)},1),r===n&&(i[e]=a)}),i}var we=!0,Te=null,Me=!1,Se=Object,ke=Array,Ne=RegExp,Ce=Date,je=String,Be=Number,Ae=Math,Ee="undefined"!=typeof global?global:this,De=Se.defineProperty&&Se.defineProperties,Pe="Array,Boolean,Date,Function,Number,String,RegExp".split(","),Oe=t(Pe[0]),$e=t(Pe[1]),Fe=t(Pe[2]),qe=t(Pe[3]),Le=t(Pe[4]),Ie=t(Pe[5]),Re=t(Pe[6]);y.prototype.constructor=Se,n(Se),g(Pe,function(e,t){n(Ee[t])}),r(Se,Me,Me,{keys:function(e){var t=[];if(!d(e)&&!Re(e)&&!qe(e))throw new TypeError("Object required");return g(e,function(e){t.push(e)}),t}}),r(ke,Me,Me,{isArray:function(e){return Oe(e)}}),r(ke,we,Me,{every:function(e,t){var n=this.length,r=0;for(E(arguments);r<n;){if(r in this&&!e.call(t,this[r],r,this))return Me;r++}return we},some:function(e,t){var n=this.length,r=0;for(E(arguments);r<n;){if(r in this&&e.call(t,this[r],r,this))return we;r++}return Me},map:function(e,t){var n=this.length,r=0,i=Array(n);for(E(arguments);r<n;)r in this&&(i[r]=e.call(t,this[r],r,this)),r++;return i},filter:function(e,t){var n=this.length,r=0,i=[];for(E(arguments);r<n;)r in this&&e.call(t,this[r],r,this)&&i.push(this[r]),r++;return i},indexOf:function(e,t){return Ie(this)?this.indexOf(e,t):B(this,e,t,1)},lastIndexOf:function(e,t){return Ie(this)?this.lastIndexOf(e,t):B(this,e,t,-1)},forEach:function(e,t){var n=this.length,r=0;for(s(e);r<n;)r in this&&e.call(t,this[r],r,this),r++},reduce:function(e,t){return A(this,e,t)},reduceRight:function(e,t){return A(this,e,t,we)}}),r(Function,we,Me,{bind:function(e){var t,n=this,r=u(arguments).slice(1);if(!qe(this))throw new TypeError("Function.prototype.bind called on a non-function");return t=function(){return n.apply(n.prototype&&this instanceof n?this:e,r.concat(u(arguments)))},t.prototype=this.prototype,t}}),r(Ce,Me,Me,{now:function(){return(new Ce).getTime()}}),function(){var e="\t\n\v\f\r   ᠎             \u2028\u2029　\ufeff".match(/^\s+$/);try{je.prototype.trim.call([1])}catch(t){e=Me}r(je,we,!e,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(Ne("^[\t\n\v\f\r   ᠎             \u2028\u2029　\ufeff]+"),"")},trimRight:function(){return this.replace(Ne("[\t\n\v\f\r   ᠎             \u2028\u2029　\ufeff]+$"),"")}})}(),function(){var e=new Ce(Ce.UTC(1999,11,31));e=e.toISOString&&"1999-12-31T00:00:00.000Z"===e.toISOString(),i(Ce,we,!e,"toISOString,toJSON",function(e,t){e[t]=function(){return _(this.getUTCFullYear(),4)+"-"+_(this.getUTCMonth()+1,2)+"-"+_(this.getUTCDate(),2)+"T"+_(this.getUTCHours(),2)+":"+_(this.getUTCMinutes(),2)+":"+_(this.getUTCSeconds(),2)+"."+_(this.getUTCMilliseconds(),3)+"Z"}})}();var He="AlphanumericSortOrder",Ue="AlphanumericSortIgnore",ze="AlphanumericSortIgnoreCase",Qe="AlphanumericSortEquivalents";r(ke,Me,Me,{create:function(){var e,t=[];return u(arguments,function(n){if(d(n))try{e=ke.prototype.slice.call(n,0),e.length>0&&(n=e)}catch(e){}t=t.concat(n)}),t}}),r(ke,we,Me,{find:function(e,t,n){return F(this,e,t,n)},findAll:function(e,t,n){var r=[];return O(this,function(t,n,i){D(t,e,i,[t,n,i])&&r.push(t)},t,n),r},findIndex:function(e,t,n){return e=F(this,e,t,n,we),f(e)?-1:e},count:function(e){return f(e)?this.length:this.findAll(e).length},removeAt:function(e,t){if(f(e))return this;f(t)&&(t=e);for(var n=0;n<=t-e;n++)this.splice(e,1);return this},include:function(e,t){return this.clone().add(e,t)},exclude:function(){return ke.prototype.remove.apply(this.clone(),arguments)},clone:function(){return m([],this)},unique:function(e){return q(this,e)},flatten:function(e){return I(this,e)},union:function(){return q(this.concat(R(arguments)))},intersect:function(){
return L(this,R(arguments),Me)},subtract:function(){return L(this,R(arguments),we)},at:function(){return C(this,arguments)},first:function(e){return f(e)?this[0]:(e<0&&(e=0),this.slice(0,e))},last:function(e){return f(e)?this[this.length-1]:this.slice(this.length-e<0?0:this.length-e)},from:function(e){return this.slice(e)},to:function(e){return f(e)&&(e=this.length),this.slice(0,e)},min:function(e,t){return z(this,e,"min",t)},max:function(e,t){return z(this,e,"max",t)},least:function(e,t){return z(this.groupBy.apply(this,[e]),"length","min",t)},most:function(e,t){return z(this.groupBy.apply(this,[e]),"length","max",t)},sum:function(e){return e=e?this.map(e):this,e.length>0?e.reduce(function(e,t){return e+t}):0},average:function(e){return e=e?this.map(e):this,e.length>0?e.sum()/e.length:0},inGroups:function(e,t){var n=arguments.length>1,r=this,i=[],a=b(this.length/e,void 0,"ceil");return v(0,e-1,function(e){e*=a;var o=r.slice(e,e+a);n&&o.length<a&&v(1,a-o.length,function(){o=o.add(t)}),i.push(o)}),i},inGroupsOf:function(e,t){var n,r=[],i=this.length,a=this;return 0===i||0===e?a:(f(e)&&(e=1),f(t)&&(t=Te),v(0,b(i/e,void 0,"ceil")-1,function(i){for(n=a.slice(e*i,e*i+e);n.length<e;)n.push(t);r.push(n)}),r)},isEmpty:function(){return 0==this.compact().length},sortBy:function(e,t){var n=this.clone();return n.sort(function(r,i){var a,o;if(a=P(r,e,n,[r]),o=P(i,e,n,[i]),Ie(a)&&Ie(o)){a=a,o=o;var u,l,s,c,f=0,d=0;a=Q(a),o=Q(o);do{s=W(a,f),c=W(o,f),u=Y(s),l=Y(c),-1!==u&&-1!==l||(u=a.charCodeAt(f)||Te,l=o.charCodeAt(f)||Te),s=s!==a.charAt(f),c=c!==o.charAt(f),s!==c&&0===d&&(d=s-c),f+=1}while(u!=Te&&l!=Te&&u===l);a=u===l?d:u<l?-1:1}else a=a<o?-1:a>o?1:0;return a*(t?-1:1)}),n},randomize:function(){for(var e,t,n=this.concat(),r=n.length;r;e=parseInt(Ae.random()*r),t=n[--r],n[r]=n[e],n[e]=t);return n},zip:function(){var e=u(arguments);return this.map(function(t,n){return[t].concat(e.map(function(e){return n in e?e[n]:Te}))})},sample:function(e){var t=this.randomize();return arguments.length>0?t.slice(0,e):t[0]},each:function(e,t,n){return O(this,e,t,n),this},add:function(e,t){return Le(Be(t))&&!isNaN(t)||(t=this.length),ke.prototype.splice.apply(this,[t,0].concat(e)),this},remove:function(){var e,t=this;return u(arguments,function(n){for(e=0;e<t.length;)D(t[e],n,t,[t[e],e,t])?t.splice(e,1):e++}),t},compact:function(e){var t=[];return O(this,function(n){Oe(n)?t.push(n.compact()):e&&n?t.push(n):!e&&n!=Te&&n.valueOf()===n.valueOf()&&t.push(n)}),t},groupBy:function(e,t){var n,r=this,i={};return O(r,function(t,a){n=P(t,e,r,[t,a,r]),i[n]||(i[n]=[]),i[n].push(t)}),t&&g(i,t),i},none:function(){return!this.any.apply(this,arguments)}}),r(ke,we,Me,{all:ke.prototype.every,any:ke.prototype.some,insert:ke.prototype.add}),r(Se,Me,Me,{map:function(e,t){return V(e).reduce(function(n,r){return n[r]=P(e[r],t,e,[r,e[r],e]),n},{})},reduce:function(e){var t=V(e).map(function(t){return e[t]});return t.reduce.apply(t,u(arguments).slice(1))},each:function(e,t){return s(t),g(e,t),e},size:function(e){return V(e).length}});var We="any,all,none,count,find,findAll,isEmpty".split(","),Ye="sum,average,min,max,least,most".split(","),Ve="map,reduce,size".split(","),Xe=We.concat(Ye).concat(Ve);!function(){i(ke,we,function(){var e=arguments;return e.length>0&&!qe(e[0])},"map,every,all,some,any,none,filter",function(e,t){e[t]=function(e){return this[t](function(n,r){return"map"===t?P(n,e,this,[n,r,this]):D(n,e,this,[n,r,this])})}})}(),function(){ke[He]="AÁÀÂÃĄBCĆČÇDĎÐEÉÈĚÊËĘFGĞHıIÍÌİÎÏJKLŁMNŃŇÑOÓÒÔPQRŘSŚŠŞTŤUÚÙŮÛÜVWXYÝZŹŻŽÞÆŒØÕÅÄÖ".split("").map(function(e){return e+e.toLowerCase()}).join("");var e={};O("AÁÀÂÃÄ,CÇ,EÉÈÊË,IÍÌİÎÏ,OÓÒÔÕÖ,Sß,UÚÙÛÜ".split(","),function(t){var n=t.charAt(0);O(t.slice(1).split(""),function(t){e[t]=n,e[t.toLowerCase()]=n.toLowerCase()})}),ke[ze]=we,ke[Qe]=e}(),X(We),X(Ye,we),j(Ve,y);var Je,Ze,Ge,Ke,et,tt=["ampm","hour","minute","second","ampm","utc","offset_sign","offset_hours","offset_minutes","ampm"],nt="({t})?\\s*(\\d{1,2}(?:[,.]\\d+)?)(?:{h}([0-5]\\d(?:[,.]\\d+)?)?{m}(?::?([0-5]\\d(?:[,.]\\d+)?){s})?\\s*(?:({t})|(Z)|(?:([+-])(\\d{2,2})(?::?(\\d{2,2}))?)?)?|\\s*({t}))",rt={},it=[],at=[{ba:"f{1,4}|ms|milliseconds",format:function(e){return he(e,"Milliseconds")}},{ba:"ss?|seconds",format:function(e){return he(e,"Seconds")}},{ba:"mm?|minutes",format:function(e){return he(e,"Minutes")}},{ba:"hh?|hours|12hr",format:function(e){return e=he(e,"Hours"),0===e?12:e-12*x(e/13)}},{ba:"HH?|24hr",format:function(e){return he(e,"Hours")}},{ba:"dd?|date|day",format:function(e){return he(e,"Date")}},{ba:"dow|weekday",la:we,format:function(e,t,n){return e=he(e,"Day"),t.weekdays[e+7*(n-1)]}},{ba:"MM?",format:function(e){return he(e,"Month")+1}},{ba:"mon|month",la:we,format:function(e,t,n){return e=he(e,"Month"),t.months[e+12*(n-1)]}},{ba:"y{2,4}|year",format:function(e){return he(e,"FullYear")}},{ba:"[Tt]{1,2}",format:function(e,t,n,r){return 0==t.ampm.length?"":(e=he(e,"Hours"),t=t.ampm[x(e/12)],1===r.length&&(t=t.slice(0,1)),"T"===r.slice(0,1)&&(t=t.toUpperCase()),t)}},{ba:"z{1,4}|tz|timezone",text:we,format:function(e,t,n,r){return e=e.getUTCOffset(),"z"!=r&&"zz"!=r||(e=e.replace(/(\d{2})(\d{2})/,function(e,t){return _(t,r.length)})),e}},{ba:"iso(tz|timezone)",format:function(e){return e.getUTCOffset(we)}},{ba:"ord",format:function(e){return(e=he(e,"Date"))+w(e)}}],ot=[{$:"year",method:"FullYear",ja:we,da:function(e){return 24*(365+(e?e.isLeapYear()?1:0:.25))*60*60*1e3}},{$:"month",method:"Month",ja:we,da:function(e,t){var n,r=30.4375;return e&&(n=e.daysInMonth(),t<=n.days()&&(r=n)),24*r*60*60*1e3},error:.919},{$:"week",method:"Week",da:e(6048e5)},{$:"day",method:"Date",ja:we,da:e(864e5)},{$:"hour",method:"Hours",da:e(36e5)},{$:"minute",method:"Minutes",da:e(6e4)},{$:"second",method:"Seconds",da:e(1e3)},{$:"millisecond",method:"Milliseconds",da:e(1)}],ut={};J.prototype={getMonth:function(e){return Le(e)?e-1:this.months.indexOf(e)%12},getWeekday:function(e){return this.weekdays.indexOf(e)%7},oa:function(e){var t;return Le(e)?e:e&&-1!==(t=this.numbers.indexOf(e))?(t+1)%10:1},ta:function(e){var t=this;return e.replace(Ne(this.num,"g"),function(e){return t.oa(e)||""})},ra:function(e){return Je.units[this.units.indexOf(e)%8]},ua:function(e){return this.na(e,e[2]>0?"future":"past")},qa:function(e){return this.na(le(e),"duration")},va:function(e){return e=e||this.code,"en"===e||"en-US"===e?we:this.variant},ya:function(e){return e===this.ampm[0]},za:function(e){return e&&e===this.ampm[1]},na:function(e,t){var n,r,i=e[0],a=e[1],o=e[2],u=this[t]||this.relative;return qe(u)?u.call(this,i,a,o,t):(r=this.units[8*(this.plural&&i>1?1:0)+a]||this.units[a],this.capitalizeUnit&&(r=ee(r)),n=this.modifiers.filter(function(e){return"sign"==e.name&&e.value==(o>0?1:-1)})[0],u.replace(/\{(.*?)\}/g,function(e,t){switch(t){case"num":return i;case"unit":return r;case"sign":return n.src}}))},sa:function(){return this.ma?[this.ma].concat(this.ga):this.ga},addFormat:function(e,t,n,r,i){var a,o=n||[],u=this;e=e.replace(/\s+/g,"[-,. ]*"),e=e.replace(/\{([^,]+?)\}/g,function(e,t){var r,i,a,l=t.match(/\?$/);a=t.match(/^(\d+)\??$/);var s=t.match(/(\d)(?:-(\d))?/),c=t.replace(/[^a-z]+$/,"");return a?r=u.tokens[a[1]]:u[c]?r=u[c]:u[c+"s"]&&(r=u[c+"s"],s&&(i=[],r.forEach(function(e,t){var n=t%(u.units?8:r.length);n>=s[1]&&n<=(s[2]||s[1])&&i.push(e)}),r=i),r=te(r)),a?a="(?:"+r+")":(n||o.push(c),a="("+r+")"),l&&(a+="?"),a}),t?(t=ge(nt,u,i),i=["t","[\\s\\u3000]"].concat(u.timeMarker),a=e.match(/\\d\{\d,\d\}\)+\??$/),K(u,"(?:"+t+")[,\\s\\u3000]+?"+e,tt.concat(o),r),K(u,e+"(?:[,\\s]*(?:"+i.join("|")+(a?"+":"*")+")"+t+")?",o.concat(tt),r)):K(u,e,o,r)}},Ce.extend({create:function(){return me(arguments)},past:function(){return me(arguments,-1)},future:function(){return me(arguments,1)},addLocale:function(e,t){return G(e,t)},setLocale:function(e){var t=Z(e,Me);return Ze=t,e&&e!=t.code&&(t.code=e),t},getLocale:function(e){return e?Z(e,Me):Ze},addFormat:function(e,t,n){K(Z(n),e,t)}},Me,Me),Ce.extend({set:function(){var e=ne(arguments);return de(this,e[0],e[1])},setWeekday:function(e){if(!f(e))return pe(this,"Date",he(this,"Date")+e-he(this,"Day"))},setWeek:function(e){if(!f(e))return he(this,"Date"),pe(this,"Month",0),pe(this,"Date",7*e+1),this.getTime()},getWeek:function(){var e=this;e=e.clone();var t=he(e,"Day")||7;return e.addDays(4-t).reset(),1+x(e.daysSince(e.clone().beginningOfYear())/7)},getUTCOffset:function(e){var t=this._utc?0:this.getTimezoneOffset(),n=e===we?":":"";return!t&&e?"Z":_(b(-t/60),2,we)+n+_(t%60,2)},utc:function(e){return o(this,"_utc",e===we||0===arguments.length),this},isUTC:function(){return!!this._utc||0===this.getTimezoneOffset()},advance:function(){var e=ne(arguments,we);return de(this,e[0],e[1],1)},rewind:function(){var e=ne(arguments,we);return de(this,e[0],e[1],-1)},isValid:function(){return!isNaN(this.getTime())},isAfter:function(e,t){return this.getTime()>Ce.create(e).getTime()-(t||0)},isBefore:function(e,t){return this.getTime()<Ce.create(e).getTime()+(t||0)},isBetween:function(e,t,n){var r=this.getTime();e=Ce.create(e).getTime();var i=Ce.create(t).getTime();return t=Ae.min(e,i),e=Ae.max(e,i),n=n||0,t-n<r&&e+n>r},isLeapYear:function(){var e=he(this,"FullYear");return e%4==0&&e%100!=0||e%400==0},daysInMonth:function(){return 32-he(new Ce(he(this,"FullYear"),he(this,"Month"),32),"Date")},format:function(e,t){return se(this,e,Me,t)},relative:function(e,t){return Ie(e)&&(t=e,e=Te),se(this,e,we,t)},is:function(e,t,n){var r,i;if(this.isValid()){if(Ie(e))switch(e=e.trim().toLowerCase(),i=this.clone().utc(n),we){case"future"===e:return this.getTime()>(new Ce).getTime();case"past"===e:return this.getTime()<(new Ce).getTime();case"weekday"===e:return he(i,"Day")>0&&he(i,"Day")<6;case"weekend"===e:return 0===he(i,"Day")||6===he(i,"Day");case(r=Je.weekdays.indexOf(e)%7)>-1:return he(i,"Day")===r;case(r=Je.months.indexOf(e)%12)>-1:return he(i,"Month")===r}return ce(this,e,t,n)}},reset:function(e){var t,n={};return e=e||"hours","date"===e&&(e="days"),t=ot.some(function(t){return e===t.$||e===t.$+"s"}),n[e]=e.match(/^days?/)?1:0,t?this.set(n,we):this},clone:function(){var e=new Ce(this.getTime());return e.utc(this.isUTC()),e}}),Ce.extend({iso:function(){return this.toISOString()},getWeekday:Ce.prototype.getDay,getUTCWeekday:Ce.prototype.getUTCDay}),Be.extend({duration:function(e){return Z(e).qa(this)}}),Je=Ze=Ce.addLocale("en",{plural:we,timeMarker:"at",ampm:"am,pm",months:"January,February,March,April,May,June,July,August,September,October,November,December",weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",numbers:"one,two,three,four,five,six,seven,eight,nine,ten",articles:"a,an,the",tokens:"the,st|nd|rd|th,of",short:"{Month} {d}, {yyyy}",long:"{Month} {d}, {yyyy} {h}:{mm}{tt}",full:"{Weekday} {Month} {d}, {yyyy} {h}:{mm}:{ss}{tt}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"day",src:"yesterday",value:-1},{name:"day",src:"today",value:0},{name:"day",src:"tomorrow",value:1},{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in|later",value:1},{name:"edge",src:"last day",value:-2},{name:"edge",src:"end",value:-1},{name:"edge",src:"first day|beginning",value:1},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},{name:"shift",src:"next",value:1}],dateParse:["{num} {unit} {sign}","{sign} {num} {unit}","{month} {year}","{shift} {unit=5-7}","{0?} {date}{1}","{0?} {edge} of {shift?} {unit=4-7?}{month?}{year?}"],timeParse:["{0} {num}{1} {day} of {month} {year?}","{weekday?} {month} {date}{1?} {year?}","{date} {month} {year}","{date} {month}","{shift} {weekday}","{shift} week {weekday}","{weekday} {2?} {shift} week","{num} {unit=4-5} {sign} {day}","{0?} {date}{1} of {month}","{0?}{month?} {date?}{1?} of {shift} {unit=6-7}"]}),et=ot.concat().reverse(),Ke=ot.concat(),Ke.splice(2,1),i(Ce,we,Me,ot,function(e,t,n){function r(e){e/=l;var n=e%1,r=t.error||.999;return n&&Ae.abs(n%1)>r&&(e=b(e)),parseInt(e)}var i,a,o=t.$,u=ee(o),l=t.da();t.ia="add"+u+"s",i=function(e,t){return r(this.getTime()-Ce.create(e,t).getTime())},a=function(e,t){return r(Ce.create(e,t).getTime()-this.getTime())},e[o+"sAgo"]=a,e[o+"sUntil"]=a,e[o+"sSince"]=i,e[o+"sFromNow"]=i,e[t.ia]=function(e,t){var n={};return n[o]=e,this.advance(n,t)},ye(t,l),n<3&&["Last","This","Next"].forEach(function(t){e["is"+t+u]=function(){return this.is(t+" "+o)}}),n<4&&(e["beginningOf"+u]=function(){var e={};switch(o){case"year":e.year=he(this,"FullYear");break;case"month":e.month=he(this,"Month");break;case"day":e.day=he(this,"Date");break;case"week":e.weekday=0}return this.set(e,we)},e["endOf"+u]=function(){var e={hours:23,minutes:59,seconds:59,milliseconds:999};switch(o){case"year":e.month=11,e.day=31;break;case"month":e.day=this.daysInMonth();break;case"week":e.weekday=6}return this.set(e,we)})}),Je.addFormat("([+-])?(\\d{4,4})[-.]?{full_month}[-.]?(\\d{1,2})?",we,["year_sign","year","month","date"],Me,we),Je.addFormat("(\\d{1,2})[-.\\/]{full_month}(?:[-.\\/](\\d{2,4}))?",we,["date","month","year"],we),Je.addFormat("{full_month}[-.](\\d{4,4})",Me,["month","year"]),Je.addFormat("\\/Date\\((\\d+(?:\\+\\d{4,4})?)\\)\\/",Me,["timestamp"]),Je.addFormat(ge(nt,Je),Me,tt),it=Je.ga.slice(0,7).reverse(),Je.ga=Je.ga.slice(7).concat(it),i(Ce,we,Me,"short,long,full",function(e,t){e[t]=function(e){return se(this,t,Me,e)}}),"〇一二三四五六七八九十百千万".split("").forEach(function(e,t){t>9&&(t=Ae.pow(10,t-9)),rt[e]=t}),"０１２３４５６７８９".split("").forEach(function(e,t){rt[e]=t}),Ge=Ne("([期週周])?([〇一二三四五六七八九十百千万０１２３４５６７８９]+)(?!昨)","g"),function(){var e="today,yesterday,tomorrow,weekday,weekend,future,past".split(","),t=Je.weekdays.slice(0,7),n=Je.months.slice(0,12);i(Ce,we,Me,e.concat(t).concat(n),function(e,t){e["is"+ee(t)]=function(e){return this.is(t,0,e)}})}(),function(){Ce.extend({utc:{create:function(){return me(arguments,0,we)},past:function(){return me(arguments,-1,we)},future:function(){return me(arguments,1,we)}}},Me,Me)}(),Ce.extend({RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"},Me,Me),DateRange=function(e,t){this.start=Ce.create(e),this.end=Ce.create(t)},DateRange.prototype.toString=function(){return this.isValid()?this.start.full()+".."+this.end.full():"Invalid DateRange"},r(DateRange,we,Me,{isValid:function(){return this.start<this.end},duration:function(){return this.isValid()?this.end.getTime()-this.start.getTime():NaN},contains:function(e){var t=this;return(e.start&&e.end?[e.start,e.end]:[e]).every(function(e){return e>=t.start&&e<=t.end})},every:function(e,t){var n,r,i=this.start.clone(),a=[],o=0;for(Ie(e)?(i.advance(re(e,0),we),n=re(e),r="day"===e.toLowerCase()):n={milliseconds:e};i<=this.end;)a.push(i),t&&t(i,o),r&&23===he(i,"Hours")?(i=i.clone(),pe(i,"Hours",48)):i=i.clone().advance(n,we),o++;return a},union:function(e){return new DateRange(this.start<e.start?this.start:e.start,this.end>e.end?this.end:e.end)},intersect:function(e){return new DateRange(this.start>e.start?this.start:e.start,this.end<e.end?this.end:e.end)},clone:function(){return new DateRange(this.start,this.end)}}),i(DateRange,we,Me,"Millisecond,Second,Minute,Hour,Day,Week,Month,Year",function(e,t){e["each"+t]=function(e){return this.every(t,e)}}),r(Ce,Me,Me,{range:function(e,t){return new DateRange(e,t)}}),r(Function,we,Me,{lazy:function(e,t){function n(){l&&u.length>t-2||(u.push([this,arguments]),r())}var r,i,a,o=this,u=[],l=Me;return e=e||1,t=t||1/0,i=b(e,void 0,"ceil"),a=b(i/e),r=function(){if(!l&&0!=u.length){for(var e=Ae.max(u.length-a,0);u.length>e;)Function.prototype.apply.apply(o,u.shift());ve(n,i,function(){l=Me,r()}),l=we}},n},delay:function(e){return ve(this,e,this,this,u(arguments).slice(1)),this},throttle:function(e){return this.lazy(e,1)},debounce:function(e){function t(){t.cancel(),ve(t,e,n,this,arguments)}var n=this;return t},cancel:function(){if(Oe(this.timers))for(;this.timers.length>0;)clearTimeout(this.timers.shift());return this},after:function(e){var t=this,n=0,r=[];if(Le(e)){if(0===e)return t.call(),t}else e=1;return function(){var i;if(r.push(u(arguments)),++n==e)return i=t.call(this,r),n=0,r=[],i}},once:function(){var e=this;return function(){return p(e,"memo")?e.memo:e.memo=e.apply(this,arguments)}},fill:function(){var e=this,t=u(arguments);return function(){var n=u(arguments);return t.forEach(function(e,t){(e!=Te||t>=n.length)&&n.splice(t,0,e)}),e.apply(this,n)}}}),r(Be,Me,Me,{random:function(e,t){var n,r;return 1==arguments.length&&(t=e,e=0),n=Ae.min(e||0,f(t)?1:t),r=Ae.max(e||0,f(t)?1:t)+1,x(Ae.random()*(r-n)+n)}}),r(Be,we,Me,{log:function(e){return Ae.log(this)/(e?Ae.log(e):1)},abbr:function(e){return be(this,e,"kmbt",0,4)},metric:function(e,t){return be(this,e,"nμm kMGTPE",4,f(t)?1:t)},bytes:function(e,t){return be(this,e,"kMGTPE",0,f(t)?4:t,we)+"B"},isInteger:function(){return this%1==0},isOdd:function(){return!isNaN(this)&&!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(e){return this%e==0},format:function(e,t,n){var r,i,a,o="";for(f(t)&&(t=","),f(n)&&(n="."),r=(Le(e)?b(this,e||0).toFixed(Ae.max(e,0)):this.toString()).replace(/^-/,"").split("."),i=r[0],a=r[1],r=i.length;r>0;r-=3)r<i.length&&(o=t+o),o=i.slice(Ae.max(0,r-3),r)+o;return a&&(o+=n+T((e||0)-a.length,"0")+a),(this<0?"-":"")+o},hex:function(e){return this.pad(e||1,Me,16)},upto:function(e,t,n){return v(this,e,t,n||1)},downto:function(e,t,n){return v(this,e,t,-(n||1))},times:function(e){if(e)for(var t=0;t<this;t++)e.call(this,t);return this.toNumber()},chr:function(){return je.fromCharCode(this)},pad:function(e,t,n){return _(this,e,t,n)},ordinalize:function(){var e=this.abs();return e=parseInt(e.toString().slice(-2)),this+w(e)},toNumber:function(){return parseFloat(this,10)}}),i(Be,we,Me,"round,floor,ceil",function(e,t){e[t]=function(e){return b(this,e,t)}}),i(Be,we,Me,"abs,pow,sin,asin,cos,acos,tan,atan,exp,pow,sqrt",function(e,t){e[t]=function(e,n){return Ae[t](this,e,n)}});var lt="isObject,isNaN".split(","),st="keys,values,select,reject,each,merge,clone,equal,watch,tap,has".split(",");r(Se,Me,we,{watch:function(e,t,n){if(De){var r=e[t];Se.defineProperty(e,t,{enumerable:we,configurable:we,get:function(){return r},set:function(i){r=n.call(e,t,r,i)}})}}}),r(Se,Me,function(e,t){return qe(t)},{keys:function(e,t){var n=Se.keys(e);return n.forEach(function(n){t.call(e,n,e[n])}),n}}),r(Se,Me,Me,{isObject:function(e){return h(e)},isNaN:function(e){return Le(e)&&e.valueOf()!==e.valueOf()},equal:function(e,t){return N(e)&&N(t)?k(e)===k(t):e===t},extended:function(e){return new y(e)},merge:function(e,t,n,r){var i,a;if(e&&"string"!=typeof t)for(i in t)if(p(t,i)&&e){if(a=t[i],c(e[i])){if(r===Me)continue;qe(r)&&(a=r.call(t,i,e[i],t[i]))}if(n===we&&a&&d(a))if(Fe(a))a=new Ce(a.getTime());else{if(!Re(a)){e[i]||(e[i]=ke.isArray(a)?[]:{}),Se.merge(e[i],t[i],n,r);continue}a=new Ne(a.source,M(a))}e[i]=a}return e},values:function(e,t){var n=[];return g(e,function(r,i){n.push(i),t&&t.call(e,i)}),n},clone:function(e,t){var n;return d(e)?(n=e instanceof y?new y:new e.constructor,Se.merge(n,e,t)):e},fromQueryString:function(e,t){var n=Se.extended();return e=e&&e.toString?e.toString():"",e.replace(/^.*?\?/,"").split("&").forEach(function(e){e=e.split("="),2===e.length&&xe(n,e[0],decodeURIComponent(e[1]),t)}),n},tap:function(e,t){var n=t;return qe(t)||(n=function(){t&&e[t]()}),n.call(e,e),e},has:function(e,t){return p(e,t)},select:function(e){return _e(e,arguments,we)},reject:function(e){return _e(e,arguments,Me)}}),i(Se,Me,Me,Pe,function(e,t){var n="is"+t;lt.push(n),e[n]=function(e){return Se.prototype.toString.call(e)==="[object "+t+"]"}}),function(){r(Se,Me,function(){return 0===arguments.length},{extend:function(){var e=lt.concat(st);void 0!==Xe&&(e=e.concat(Xe)),j(e,Se)}})}(),j(st,y),r(Ne,Me,Me,{escape:function(e){return S(e)}}),r(Ne,we,Me,{getFlags:function(){return M(this)},setFlags:function(e){return Ne(this.source,e)},addFlag:function(e){return this.setFlags(M(this,e))},removeFlag:function(e){return this.setFlags(M(this).replace(e,""))}});var ct,ft;r(je,we,function(e){return Re(e)||arguments.length>2},{startsWith:function(e,t,n){var r=this;return t&&(r=r.slice(t)),f(n)&&(n=we),e=Re(e)?e.source.replace("^",""):S(e),Ne("^"+e,n?"":"i").test(r)},endsWith:function(e,t,n){var r=this;return c(t)&&(r=r.slice(0,t)),f(n)&&(n=we),e=Re(e)?e.source.replace("$",""):S(e),Ne(e+"$",n?"":"i").test(r)}}),r(je,we,Me,{escapeRegExp:function(){return S(this)},escapeURL:function(e){return e?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(e){return e?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;")},unescapeHTML:function(){return this.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2f;/g,"/")},encodeBase64:function(){return ct(this)},decodeBase64:function(){return ft(this)},each:function(e,t){var n,r;if(qe(e)?(t=e,e=/[\s\S]/g):e?Ie(e)?e=Ne(S(e),"gi"):Re(e)&&(e=Ne(e.source,M(e,"g"))):e=/[\s\S]/g,n=this.match(e)||[],t)for(r=0;r<n.length;r++)n[r]=t.call(this,n[r],r,n)||n[r];return n},shift:function(e){var t="";return e=e||0,this.codes(function(n){t+=je.fromCharCode(n+e)}),t},codes:function(e){for(var t=[],n=0;n<this.length;n++){var r=this.charCodeAt(n);t.push(r),e&&e.call(this,r,n)}return t},chars:function(e){return this.each(e)},words:function(e){return this.trim().each(/\S+/g,e)},lines:function(e){return this.trim().each(/^.*$/gm,e)},paragraphs:function(e){var t=this.trim().split(/[\r\n]{2,}/);return t=t.map(function(t){if(e)var n=e.call(t);return n||t})},isBlank:function(){return 0===this.trim().length},has:function(e){return-1!==this.search(Re(e)?e:S(e))},add:function(e,t){return t=f(t)?this.length:t,this.slice(0,t)+e+this.slice(t)},remove:function(e){return this.replace(e,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s\u3000])+/g,function(e,t){return"　"===t?t:" "})},at:function(){return C(this,arguments,we)},from:function(e){return this.slice(e)},to:function(e){return f(e)&&(e=this.length),this.slice(0,e)},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(je.Inflector&&je.Inflector.acronymRegExp,function(e,t){return(t>0?"_":"")+e.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(e){return this.underscore().replace(/(^|_)([^_]+)/g,function(t,n,r,i){return t=r,t=(n=je.Inflector)&&n.acronyms[t],t=Ie(t)?t:void 0,i=e!==Me||i>0,t?i?t:t.toLowerCase():i?r.capitalize():r})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var e=this;return l(arguments.length>0?arguments:[""],function(t){e=e.replace(Ne("</?"+S(t)+"[^<>]*>","gi"),"")}),e},removeTags:function(){var e=this;return l(arguments.length>0?arguments:["\\S+"],function(t){t=Ne("<("+t+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi"),e=e.replace(t,"")}),e},truncate:function(e,t,n,r){var i="",a="",o=this.toString(),u="[\t\n\v\f\r   ᠎             \u2028\u2029　\ufeff]+",l="[^\t\n\v\f\r   ᠎             \u2028\u2029　\ufeff]*",s=Ne(u+l+"$");if(r=f(r)?"...":je(r),o.length<=e)return o;switch(n){case"left":e=o.length-e,i=r,o=o.slice(e),s=Ne("^"+l+u);break;case"middle":e=x(e/2),a=r+o.slice(o.length-e).trimLeft(),o=o.slice(0,e);break;default:e=e,a=r,o=o.slice(0,e)}return t===Me&&this.slice(e,e+1).match(/\S/)&&(o=o.remove(s)),i+o+a},pad:function(e,t){return T(t,e)+this+T(t,e)},padLeft:function(e,t){return T(t,e)+this},padRight:function(e,t){return this+T(t,e)},first:function(e){return f(e)&&(e=1),this.substr(0,e)},last:function(e){return f(e)&&(e=1),this.substr(this.length-e<0?0:this.length-e)},repeat:function(e){var t="",n=this;if(!Le(e)||e<1)return"";for(;e;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t},toNumber:function(e){var t=this.replace(/,/g,"");return t.match(/\./)?parseFloat(t):parseInt(t,e||10)},capitalize:function(e){var t;return this.toLowerCase().replace(e?/[\s\S]/g:/^\S/,function(e){var n,r=e.toUpperCase();return n=t?e:r,t=r!==e,n})},assign:function(){var e={};return u(arguments,function(t,n){h(t)?m(e,t):e[n+1]=t}),this.replace(/\{([^{]+?)\}/g,function(t,n){return p(e,n)?e[n]:t})},namespace:function(e){return e=e||Ee,g(this.split("."),function(t,n){return!!(e=e[n])}),e}}),r(je,we,Me,{insert:je.prototype.add}),function(e){if(this.btoa)ct=this.btoa,ft=this.atob;else{var t=/[^A-Za-z0-9\+\/\=]/g;ct=function(t){var n,r,i,a,o,u,l="",s=0;do{n=t.charCodeAt(s++),r=t.charCodeAt(s++),i=t.charCodeAt(s++),a=n>>2,n=(3&n)<<4|r>>4,o=(15&r)<<2|i>>6,u=63&i,isNaN(r)?o=u=64:isNaN(i)&&(u=64),l=l+e.charAt(a)+e.charAt(n)+e.charAt(o)+e.charAt(u)}while(s<t.length);return l},ft=function(n){var r,i,a,o,u,l="",s=0;if(n.match(t))throw Error("String contains invalid base64 characters");n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{r=e.indexOf(n.charAt(s++)),i=e.indexOf(n.charAt(s++)),o=e.indexOf(n.charAt(s++)),u=e.indexOf(n.charAt(s++)),r=r<<2|i>>4,i=(15&i)<<4|o>>2,a=(3&o)<<6|u,l+=je.fromCharCode(r),64!=o&&(l+=je.fromCharCode(i)),64!=u&&(l+=je.fromCharCode(a))}while(s<n.length);return l}}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")}();
